{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./components/dropdown/fsd-datepicker.js","webpack:///./components/burger/burger-class.js","webpack:///./components/burger/burger.js","webpack:///./components/list-links/sublinks-class.js","webpack:///./components/list-links/sublinks.js","webpack:///./components/dropdown/dropdown-date.js","webpack:///./components/dropdown/dropdown-filter.js","webpack:///./components/dropdown-counter/dropdown-counter.js","webpack:///./components/dropdown/dropdown-count.js","webpack:///./components/dropdown/dropdown.js","webpack:///./components/dropdown/dropdown-main.js","webpack:///./components/list/expandable-cl-class.js","webpack:///./components/list/expandable-cl.js","webpack:///./components/button-like/like-rating-class.js","webpack:///./components/button-like/like-rating.js","webpack:///./components/diagram/diagram.js","webpack:///./components/diagram/diagram-chart.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","4","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","$","undefined","$body","$datepickersContainer","fsdDatepicker","containerBuilt","defaults","hotKeys","Datepicker","classes","inline","language","startDate","Date","firstDay","weekends","dateFormat","altField","altFieldDateFormat","toggleSelected","keyboardNav","position","offset","view","minView","showOtherMonths","selectOtherMonths","moveToOtherMonthsOnSelect","showOtherYears","selectOtherYears","moveToOtherYearsOnSelect","minDate","maxDate","disableNavWhenOutOfRange","multipleDates","multipleDatesSeparator","range","applyButton","clearButton","showEvent","autoClose","monthsField","prevHtml","nextHtml","navTitles","days","months","years","timepicker","onlyTimepicker","dateTimeSeparator","timeFormat","minHours","maxHours","minMinutes","maxMinutes","hoursStep","minutesStep","onSelect","onShow","onHide","onChangeMonth","onChangeYear","onChangeDecade","onChangeView","onRenderCell","el","options","this","$el","opts","extend","nodeName","elIsInput","$altField","inited","visible","silent","currentDate","currentView","_createShortCuts","selectedDates","views","keys","minRange","maxRange","_prevOnSelectValue","init","VERSION","viewIndexes","_buildDatepickersContainer","_buildBaseHtml","_defineLocale","_syncWithMinMaxDates","_setPositionClasses","_bindEvents","_bindKeyboardEvents","$datepicker","on","_onMouseDownDatepicker","_onMouseUpDatepicker","addClass","fn","datepicker","Timepicker","_bindTimepickerEvents","Body","show","nav","Navigation","_onClickCell","_onMouseEnterCell","_onMouseLeaveCell","_onShowEvent","_onMouseUpEl","_onBlur","_onKeyUpGeneral","_onResize","_onMouseUpBody","_onKeyDown","_onKeyUp","_onHotKey","_onTimeChange","isWeekend","day","indexOf","lang","loc","console","warn","ru","join","boundary","_getWordBoundaryRegExp","match","ampm","append","$appendTarget","$inline","insertAfter","appendTo","$content","$nav","_triggerOnChange","formattedDates","parsedSelected","getParsedDate","_this","dates","year","month","date","hours","minutes","map","formatDate","parsedDate","next","curDecade","prev","string","validHours","locale","leadingZero","getLeadingZeroNum","decade","getDecade","fullHours","dayPeriod","replacer","_replacer","_getValidHoursFromDate","test","replace","getTime","toUpperCase","fullDate","daysShort","fullMonth","monthsShort","fullMinutes","toString","str","reg","p1","p2","p3","sign","symbols","RegExp","selectDate","len","newDate","Array","isArray","forEach","lastSelectedDate","_setTime","_trigger","setHours","setMinutes","getMonth","getFullYear","_render","_isSelected","bigger","timepickerIsActive","hide","removeDate","selected","some","curDate","isSame","_setInputValue","clear","update","param","arguments","_addButtonsIfNeed","setPosition","_handleDate","_updateRanges","_updateCurrentTime","curTime","minTime","maxTime","checkDate","cellType","res","altValues","format","altFormat","val","dateValue","_isInRange","type","time","min","max","dMinTime","dMaxTime","types","_getDimensions","width","outerWidth","height","outerHeight","left","top","_getDateFromCell","cell","pos","main","split","removeAttr","dims","selfDims","secondary","css","_bindVisionEvents","removeClass","focused","inFocus","blur","down","_changeView","up","event","off","one","dir","nextView","viewIndex","_handleHotKey","focusedParsed","totalDaysInNextMonth","_getFocusedDate","monthChanged","yearChanged","decadeChanged","y","getDaysCount","_registerKey","curKey","_unRegisterKey","index","_isHotKeyPressed","currentHotKey","found","pressedKeys","sort","hotKey","every","args","trigger","_focusNextCell","keyCode","nd","getDate","_getCell","$cell","selector","find","destroy","closest","remove","_handleAlreadySelectedDates","alreadySelected","selectedDate","e","originalEvent","timepickerFocus","focus","setTimeout","code","which","preventDefault","hasClass","target","less","_update","h","_focused","prevView","substring","getDay","getHours","getMinutes","firstYear","Math","floor","template","source","date1","date2","d1","d2","_type","dateCompareTo","num","parseInt","resetTime","each","Constructor","daysMin","templates","dp","proxy","$names","$cells","_getDayNamesHtml","curDay","html","_getCellContents","parent","render","disabled","_getDaysHtml","totalMonthDays","firstMonthDay","lastMonthDay","daysFromPevMonth","daysFromNextMonth","_getDayHtml","content","_getMonthsHtml","_getMonthHtml","_getYearsHtml","_getYearHtml","_renderTypes","dayNames","attr","acitve","active","_handleClick","$buttonsContainer","_onClickNavButton","_onClickNavTitle","_addButton","title","_getTitle","setNavStatus","_addButtonsContainer","action","label","_disableNav","_activateNav","inst","input","_buildHTML","navigator","userAgent","_onSelectDate","$ranges","_onChangeRange","_onMouseUpRange","_onMouseEnterRange","_onMouseOutRange","_date","_setMinTimeFromDate","_setMaxTimeFromDate","_setDefaultMinMaxTime","_validateHoursMinutes","lz","hourMin","hourMax","hourStep","hourValue","hourVisible","displayHours","minMin","minMax","minStep","minValue","_template","$timepicker","$hours","$minutes","$hoursText","$minutesText","$ampm","_hours","$target","jQuery","burger","_getElems","parentNode","querySelector","addEventListener","_handleBurgerClick","classList","toggle","document","querySelectorAll","elem","arrow","subMenuArrow","_handleMenuArrow","_handleClickOutsideSublinks","nextElementSibling","_toggleArrow","innerText","contains","_hideSubLinks","rootElem","_init","startInput","endInput","$dpInput","$endInput","arrows","startDropdownArrow","endDropdownArrow","_handlerStartArrowDropdown","_handlerEndArrowDropdown","_handlerEndInputDropdown","fd","picker","$leftDatepicker","$rightDatepicker","children","last","first","inputWrapper","_handlerArrowDropdown","container","_getElements","minus","plus","valueNumber","textContent","_handleMinus","_handlePlus","innerHTML","dispatchEvent","CustomEvent","bubbles","add","dropdownType","spellCases","dropdownCounters","guests","infants","bedrooms","beds","baths","body","counters","lastChild","firstChild","_checkIfClearButtonMustBeShown","_handleDropdown","_handleClearButton","_handleApplyButton","_handleCounter","_handleClickOutsideDropdown","hideDropdown","_setData","_collectData","showDropdown","_clearData","_hideClearButton","total","getData","room","temp","_getPosInSpellCasesArray","resetData","_showClearButton","rootElems","_initDropdowns","bulletList","bulletListExpandableArrow","bulletListDropdown","_handleExpandableList","likeButton","_handlelikeButtonClick","heart","numberOfLikes","parentElement","_getOptions","_initCanvas","_drawChart","canvas","createElement","ctx","getContext","centerX","centerY","radius","startAngle","endAngle","color","strokeStyle","beginPath","lineWidth","arc","stroke","text","style","fillStyle","fontColor","font","fontWeight","fontSize","fillText","x","perfectAngle","segments","perfect","number","PI","goodAngle","good","poorAngle","poor","satisfactoryAngle","satisfactory","_drawArc","initialAngle","delimeterAngle","backgroundColor","background"],"mappings":"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","file":"details.13268fd78cc29ca70cee.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t4: 0,\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([35,1,2]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","; (function (window, $, undefined) {\r\n    ; (function () {\r\n        var VERSION = '2.2.3',\r\n            pluginName = 'fsd-datepicker',\r\n            autoInitSelector = '.fsd-datepicker-here',\r\n            $body, $datepickersContainer,\r\n            containerBuilt = false,\r\n            baseTemplate = '' +\r\n                '<div class=\"datepicker\">' +\r\n                '<i class=\"datepicker--pointer\"></i>' +\r\n                '<nav class=\"datepicker--nav\"></nav>' +\r\n                '<div class=\"datepicker--content\"></div>' +\r\n                '</div>',\r\n            defaults = {\r\n                classes: '',\r\n                inline: false,\r\n                language: 'ru',\r\n                startDate: new Date(),\r\n                firstDay: '',\r\n                weekends: [6, 0],\r\n                dateFormat: '',\r\n                altField: '',\r\n                altFieldDateFormat: '@',\r\n                toggleSelected: true,\r\n                keyboardNav: true,\r\n\r\n                position: 'bottom left',\r\n                offset: 12,\r\n\r\n                view: 'days',\r\n                minView: 'days',\r\n\r\n                showOtherMonths: true,\r\n                selectOtherMonths: true,\r\n                moveToOtherMonthsOnSelect: true,\r\n\r\n                showOtherYears: true,\r\n                selectOtherYears: true,\r\n                moveToOtherYearsOnSelect: true,\r\n\r\n                minDate: '',\r\n                maxDate: '',\r\n                disableNavWhenOutOfRange: true,\r\n\r\n                multipleDates: false, // Boolean or Number\r\n                multipleDatesSeparator: ' - ',\r\n                range: false,\r\n\r\n                applyButton: false,\r\n                clearButton: false,\r\n\r\n                showEvent: 'focus',\r\n                autoClose: false,\r\n\r\n                // navigation\r\n                monthsField: 'monthsShort',\r\n                prevHtml: 'arrow_back',\r\n                nextHtml: 'arrow_forward',\r\n                navTitles: {\r\n                    days: 'MM <i>yyyy</i>',\r\n                    months: 'yyyy',\r\n                    years: 'yyyy1 - yyyy2'\r\n                },\r\n\r\n                // timepicker\r\n                timepicker: false,\r\n                onlyTimepicker: false,\r\n                dateTimeSeparator: ' ',\r\n                timeFormat: '',\r\n                minHours: 0,\r\n                maxHours: 24,\r\n                minMinutes: 0,\r\n                maxMinutes: 59,\r\n                hoursStep: 1,\r\n                minutesStep: 1,\r\n\r\n                // events\r\n                onSelect: '',\r\n                onShow: '',\r\n                onHide: '',\r\n                onChangeMonth: '',\r\n                onChangeYear: '',\r\n                onChangeDecade: '',\r\n                onChangeView: '',\r\n                onRenderCell: ''\r\n            },\r\n            hotKeys = {\r\n                'ctrlRight': [17, 39],\r\n                'ctrlUp': [17, 38],\r\n                'ctrlLeft': [17, 37],\r\n                'ctrlDown': [17, 40],\r\n                'shiftRight': [16, 39],\r\n                'shiftUp': [16, 38],\r\n                'shiftLeft': [16, 37],\r\n                'shiftDown': [16, 40],\r\n                'altUp': [18, 38],\r\n                'altRight': [18, 39],\r\n                'altLeft': [18, 37],\r\n                'altDown': [18, 40],\r\n                'ctrlShiftUp': [16, 17, 38]\r\n            },\r\n            fsdDatepicker;\r\n\r\n        var Datepicker = function (el, options) {\r\n            this.el = el;\r\n            this.$el = $(el);\r\n\r\n            this.opts = $.extend(true, {}, defaults, options, this.$el.data());\r\n\r\n            if ($body == undefined) {\r\n                $body = $('body');\r\n            }\r\n\r\n            if (!this.opts.startDate) {\r\n                this.opts.startDate = new Date();\r\n            }\r\n\r\n            if (this.el.nodeName == 'INPUT') {\r\n                this.elIsInput = true;\r\n            }\r\n\r\n            if (this.opts.altField) {\r\n                this.$altField = typeof this.opts.altField == 'string' ? $(this.opts.altField) : this.opts.altField;\r\n            }\r\n\r\n            this.inited = false;\r\n            this.visible = false;\r\n            this.silent = false; // Need to prevent unnecessary rendering\r\n\r\n            this.currentDate = this.opts.startDate;\r\n            this.currentView = this.opts.view;\r\n            this._createShortCuts();\r\n            this.selectedDates = [];\r\n            this.views = {};\r\n            this.keys = [];\r\n            this.minRange = '';\r\n            this.maxRange = '';\r\n            this._prevOnSelectValue = '';\r\n\r\n            this.init()\r\n        };\r\n\r\n        fsdDatepicker = Datepicker;\r\n\r\n        fsdDatepicker.prototype = {\r\n            VERSION: VERSION,\r\n            viewIndexes: ['days', 'months', 'years'],\r\n\r\n            init: function () {\r\n                if (!containerBuilt && !this.opts.inline && this.elIsInput) {\r\n                    this._buildDatepickersContainer();\r\n                }\r\n                this._buildBaseHtml();\r\n                this._defineLocale(this.opts.language);\r\n                this._syncWithMinMaxDates();\r\n\r\n                if (this.elIsInput) {\r\n                    if (!this.opts.inline) {\r\n                        // Set extra classes for proper transitions\r\n                        this._setPositionClasses(this.opts.position);\r\n                        this._bindEvents()\r\n                    }\r\n                    if (this.opts.keyboardNav && !this.opts.onlyTimepicker) {\r\n                        this._bindKeyboardEvents();\r\n                    }\r\n                    this.$datepicker.on('mousedown', this._onMouseDownDatepicker.bind(this));\r\n                    this.$datepicker.on('mouseup', this._onMouseUpDatepicker.bind(this));\r\n                }\r\n\r\n                if (this.opts.classes) {\r\n                    this.$datepicker.addClass(this.opts.classes)\r\n                }\r\n\r\n                if (this.opts.timepicker) {\r\n                    this.timepicker = new $.fn.datepicker.Timepicker(this, this.opts);\r\n                    this._bindTimepickerEvents();\r\n                }\r\n\r\n                if (this.opts.onlyTimepicker) {\r\n                    this.$datepicker.addClass('-only-timepicker-');\r\n                }\r\n\r\n                this.views[this.currentView] = new $.fn.fsdDatepicker.Body(this, this.currentView, this.opts);\r\n                this.views[this.currentView].show();\r\n                this.nav = new $.fn.fsdDatepicker.Navigation(this, this.opts);\r\n                this.view = this.currentView;\r\n\r\n                this.$el.on('clickCell.adp', this._onClickCell.bind(this));\r\n                this.$datepicker.on('mouseenter', '.datepicker--cell', this._onMouseEnterCell.bind(this));\r\n                this.$datepicker.on('mouseleave', '.datepicker--cell', this._onMouseLeaveCell.bind(this));\r\n\r\n                this.inited = true;\r\n            },\r\n\r\n            _createShortCuts: function () {\r\n                this.minDate = this.opts.minDate ? this.opts.minDate : new Date(-8639999913600000);\r\n                this.maxDate = this.opts.maxDate ? this.opts.maxDate : new Date(8639999913600000);\r\n            },\r\n\r\n            _bindEvents: function () {\r\n                this.$el.on(this.opts.showEvent + '.adp', this._onShowEvent.bind(this));\r\n                this.$el.on('mouseup.adp', this._onMouseUpEl.bind(this));\r\n                this.$el.on('blur.adp', this._onBlur.bind(this));\r\n                this.$el.on('keyup.adp', this._onKeyUpGeneral.bind(this));\r\n                $(window).on('resize.adp', this._onResize.bind(this));\r\n                $('body').on('mouseup.adp', this._onMouseUpBody.bind(this));\r\n            },\r\n\r\n            _bindKeyboardEvents: function () {\r\n                this.$el.on('keydown.adp', this._onKeyDown.bind(this));\r\n                this.$el.on('keyup.adp', this._onKeyUp.bind(this));\r\n                this.$el.on('hotKey.adp', this._onHotKey.bind(this));\r\n            },\r\n\r\n            _bindTimepickerEvents: function () {\r\n                this.$el.on('timeChange.adp', this._onTimeChange.bind(this));\r\n            },\r\n\r\n            isWeekend: function (day) {\r\n                return this.opts.weekends.indexOf(day) !== -1;\r\n            },\r\n\r\n            _defineLocale: function (lang) {\r\n                if (typeof lang == 'string') {\r\n                    this.loc = $.fn.fsdDatepicker.language[lang];\r\n                    if (!this.loc) {\r\n                        console.warn('Can\\'t find language \"' + lang + '\" in Datepicker.language, will use \"ru\" instead');\r\n                        this.loc = $.extend(true, {}, $.fn.fsdDatepicker.language.ru)\r\n                    }\r\n\r\n                    this.loc = $.extend(true, {}, $.fn.fsdDatepicker.language.ru, $.fn.fsdDatepicker.language[lang])\r\n                } else {\r\n                    this.loc = $.extend(true, {}, $.fn.fsdDatepicker.language.ru, lang)\r\n                }\r\n\r\n                if (this.opts.dateFormat) {\r\n                    this.loc.dateFormat = this.opts.dateFormat\r\n                }\r\n\r\n                if (this.opts.timeFormat) {\r\n                    this.loc.timeFormat = this.opts.timeFormat\r\n                }\r\n\r\n                if (this.opts.firstDay !== '') {\r\n                    this.loc.firstDay = this.opts.firstDay\r\n                }\r\n\r\n                if (this.opts.timepicker) {\r\n                    this.loc.dateFormat = [this.loc.dateFormat, this.loc.timeFormat].join(this.opts.dateTimeSeparator);\r\n                }\r\n\r\n                if (this.opts.onlyTimepicker) {\r\n                    this.loc.dateFormat = this.loc.timeFormat;\r\n                }\r\n\r\n                var boundary = this._getWordBoundaryRegExp;\r\n                if (this.loc.timeFormat.match(boundary('aa')) ||\r\n                    this.loc.timeFormat.match(boundary('AA'))\r\n                ) {\r\n                    this.ampm = true;\r\n                }\r\n            },\r\n\r\n            _buildDatepickersContainer: function () {\r\n                containerBuilt = true;\r\n                $body.append('<div class=\"datepickers-container\" id=\"datepickers-container\"></div>');\r\n                $datepickersContainer = $('#datepickers-container');\r\n            },\r\n\r\n            _buildBaseHtml: function () {\r\n                var $appendTarget,\r\n                    $inline = $('<div class=\"datepicker-inline\">');\r\n\r\n                if (this.el.nodeName == 'INPUT') {\r\n                    if (!this.opts.inline) {\r\n                        $appendTarget = $datepickersContainer;\r\n                    } else {\r\n                        $appendTarget = $inline.insertAfter(this.$el)\r\n                    }\r\n                } else {\r\n                    $appendTarget = $inline.appendTo(this.$el)\r\n                }\r\n\r\n                this.$datepicker = $(baseTemplate).appendTo($appendTarget);\r\n                this.$content = $('.datepicker--content', this.$datepicker);\r\n                this.$nav = $('.datepicker--nav', this.$datepicker);\r\n            },\r\n\r\n            _triggerOnChange: function () {\r\n                if (!this.selectedDates.length) {\r\n                    // Prevent from triggering multiple onSelect callback with same argument (empty string) in IE10-11\r\n                    if (this._prevOnSelectValue === '') return;\r\n                    this._prevOnSelectValue = '';\r\n                    return this.opts.onSelect('', '', this);\r\n                }\r\n\r\n                var selectedDates = this.selectedDates,\r\n                    parsedSelected = fsdDatepicker.getParsedDate(selectedDates[0]),\r\n                    formattedDates,\r\n                    _this = this,\r\n                    dates = new Date(\r\n                        parsedSelected.year,\r\n                        parsedSelected.month,\r\n                        parsedSelected.date,\r\n                        parsedSelected.hours,\r\n                        parsedSelected.minutes\r\n                    );\r\n\r\n                formattedDates = selectedDates.map(function (date) {\r\n                    return _this.formatDate(_this.loc.dateFormat, date)\r\n                }).join(this.opts.multipleDatesSeparator);\r\n\r\n                // Create new dates array, to separate it from original selectedDates\r\n                if (this.opts.multipleDates || this.opts.range) {\r\n                    dates = selectedDates.map(function (date) {\r\n                        var parsedDate = fsdDatepicker.getParsedDate(date);\r\n                        return new Date(\r\n                            parsedDate.year,\r\n                            parsedDate.month,\r\n                            parsedDate.date,\r\n                            parsedDate.hours,\r\n                            parsedDate.minutes\r\n                        );\r\n                    })\r\n                }\r\n\r\n                this._prevOnSelectValue = formattedDates;\r\n                this.opts.onSelect(formattedDates, dates, this);\r\n            },\r\n\r\n            next: function () {\r\n                var d = this.parsedDate,\r\n                    o = this.opts;\r\n                switch (this.view) {\r\n                    case 'days':\r\n                        this.date = new Date(d.year, d.month + 1, 1);\r\n                        if (o.onChangeMonth) o.onChangeMonth(this.parsedDate.month, this.parsedDate.year);\r\n                        break;\r\n                    case 'months':\r\n                        this.date = new Date(d.year + 1, d.month, 1);\r\n                        if (o.onChangeYear) o.onChangeYear(this.parsedDate.year);\r\n                        break;\r\n                    case 'years':\r\n                        this.date = new Date(d.year + 10, 0, 1);\r\n                        if (o.onChangeDecade) o.onChangeDecade(this.curDecade);\r\n                        break;\r\n                }\r\n            },\r\n\r\n            prev: function () {\r\n                var d = this.parsedDate,\r\n                    o = this.opts;\r\n                switch (this.view) {\r\n                    case 'days':\r\n                        this.date = new Date(d.year, d.month - 1, 1);\r\n                        if (o.onChangeMonth) o.onChangeMonth(this.parsedDate.month, this.parsedDate.year);\r\n                        break;\r\n                    case 'months':\r\n                        this.date = new Date(d.year - 1, d.month, 1);\r\n                        if (o.onChangeYear) o.onChangeYear(this.parsedDate.year);\r\n                        break;\r\n                    case 'years':\r\n                        this.date = new Date(d.year - 10, 0, 1);\r\n                        if (o.onChangeDecade) o.onChangeDecade(this.curDecade);\r\n                        break;\r\n                }\r\n            },\r\n\r\n            formatDate: function (string, date) {\r\n                date = date || this.date;\r\n                var result = string,\r\n                    boundary = this._getWordBoundaryRegExp,\r\n                    locale = this.loc,\r\n                    leadingZero = fsdDatepicker.getLeadingZeroNum,\r\n                    decade = fsdDatepicker.getDecade(date),\r\n                    d = fsdDatepicker.getParsedDate(date),\r\n                    fullHours = d.fullHours,\r\n                    hours = d.hours,\r\n                    ampm = string.match(boundary('aa')) || string.match(boundary('AA')),\r\n                    dayPeriod = 'am',\r\n                    replacer = this._replacer,\r\n                    validHours;\r\n\r\n                if (this.opts.timepicker && this.timepicker && ampm) {\r\n                    validHours = this.timepicker._getValidHoursFromDate(date, ampm);\r\n                    fullHours = leadingZero(validHours.hours);\r\n                    hours = validHours.hours;\r\n                    dayPeriod = validHours.dayPeriod;\r\n                }\r\n\r\n                switch (true) {\r\n                    case /@/.test(result):\r\n                        result = result.replace(/@/, date.getTime());\r\n                    case /aa/.test(result):\r\n                        result = replacer(result, boundary('aa'), dayPeriod);\r\n                    case /AA/.test(result):\r\n                        result = replacer(result, boundary('AA'), dayPeriod.toUpperCase());\r\n                    case /dd/.test(result):\r\n                        result = replacer(result, boundary('dd'), d.fullDate);\r\n                    case /d/.test(result):\r\n                        result = replacer(result, boundary('d'), d.date);\r\n                    case /DD/.test(result):\r\n                        result = replacer(result, boundary('DD'), locale.days[d.day]);\r\n                    case /D/.test(result):\r\n                        result = replacer(result, boundary('D'), locale.daysShort[d.day]);\r\n                    case /mm/.test(result):\r\n                        result = replacer(result, boundary('mm'), d.fullMonth);\r\n                    case /m/.test(result):\r\n                        result = replacer(result, boundary('m'), d.month + 1);\r\n                    case /MM/.test(result):\r\n                        result = replacer(result, boundary('MM'), this.loc.months[d.month]);\r\n                    case /M/.test(result):\r\n                        result = replacer(result, boundary('M'), locale.monthsShort[d.month]);\r\n                    case /ii/.test(result):\r\n                        result = replacer(result, boundary('ii'), d.fullMinutes);\r\n                    case /i/.test(result):\r\n                        result = replacer(result, boundary('i'), d.minutes);\r\n                    case /hh/.test(result):\r\n                        result = replacer(result, boundary('hh'), fullHours);\r\n                    case /h/.test(result):\r\n                        result = replacer(result, boundary('h'), hours);\r\n                    case /yyyy/.test(result):\r\n                        result = replacer(result, boundary('yyyy'), d.year);\r\n                    case /yyyy1/.test(result):\r\n                        result = replacer(result, boundary('yyyy1'), decade[0]);\r\n                    case /yyyy2/.test(result):\r\n                        result = replacer(result, boundary('yyyy2'), decade[1]);\r\n                    case /yy/.test(result):\r\n                        result = replacer(result, boundary('yy'), d.year.toString().slice(-2));\r\n                }\r\n                return result;\r\n            },\r\n\r\n            _replacer: function (str, reg, data) {\r\n                return str.replace(reg, function (match, p1, p2, p3) {\r\n                    return p1 + data + p3;\r\n                })\r\n            },\r\n\r\n            _getWordBoundaryRegExp: function (sign) {\r\n                var symbols = '\\\\s|\\\\.|-|/|\\\\\\\\|,|\\\\$|\\\\!|\\\\?|:|;';\r\n\r\n                return new RegExp('(^|>|' + symbols + ')(' + sign + ')($|<|' + symbols + ')', 'g');\r\n            },\r\n\r\n\r\n            selectDate: function (date) {\r\n                var _this = this,\r\n                    opts = _this.opts,\r\n                    d = _this.parsedDate,\r\n                    selectedDates = _this.selectedDates,\r\n                    len = selectedDates.length,\r\n                    newDate = '';\r\n\r\n                if (Array.isArray(date)) {\r\n                    date.forEach(function (d) {\r\n                        _this.selectDate(d)\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                if (!(date instanceof Date)) return;\r\n\r\n                this.lastSelectedDate = date;\r\n\r\n                // Set new time values from Date\r\n                if (this.timepicker) {\r\n                    this.timepicker._setTime(date);\r\n                }\r\n\r\n                // On this step timepicker will set valid values in it's instance\r\n                _this._trigger('selectDate', date);\r\n\r\n                // Set correct time values after timepicker's validation\r\n                // Prevent from setting hours or minutes which values are lesser then `min` value or\r\n                // greater then `max` value\r\n                if (this.timepicker) {\r\n                    date.setHours(this.timepicker.hours);\r\n                    date.setMinutes(this.timepicker.minutes)\r\n                }\r\n\r\n                if (_this.view == 'days') {\r\n                    if (date.getMonth() != d.month && opts.moveToOtherMonthsOnSelect) {\r\n                        newDate = new Date(date.getFullYear(), date.getMonth(), 1);\r\n                    }\r\n                }\r\n\r\n                if (_this.view == 'years') {\r\n                    if (date.getFullYear() != d.year && opts.moveToOtherYearsOnSelect) {\r\n                        newDate = new Date(date.getFullYear(), 0, 1);\r\n                    }\r\n                }\r\n\r\n                if (newDate) {\r\n                    _this.silent = true;\r\n                    _this.date = newDate;\r\n                    _this.silent = false;\r\n                    _this.nav._render()\r\n                }\r\n\r\n                if (opts.multipleDates && !opts.range) { // Set priority to range functionality\r\n                    if (len === opts.multipleDates) return;\r\n                    if (!_this._isSelected(date)) {\r\n                        _this.selectedDates.push(date);\r\n                    }\r\n                } else if (opts.range) {\r\n                    if (len == 2) {\r\n                        _this.selectedDates = [date];\r\n                        _this.minRange = date;\r\n                        _this.maxRange = '';\r\n                    } else if (len == 1) {\r\n                        _this.selectedDates.push(date);\r\n                        if (!_this.maxRange) {\r\n                            _this.maxRange = date;\r\n                        } else {\r\n                            _this.minRange = date;\r\n                        }\r\n                        // Swap dates if they were selected via dp.selectDate() and second date was smaller then first\r\n                        if (fsdDatepicker.bigger(_this.maxRange, _this.minRange)) {\r\n                            _this.maxRange = _this.minRange;\r\n                            _this.minRange = date;\r\n                        }\r\n                        _this.selectedDates = [_this.minRange, _this.maxRange]\r\n\r\n                    } else {\r\n                        _this.selectedDates = [date];\r\n                        _this.minRange = date;\r\n                    }\r\n                } else {\r\n                    _this.selectedDates = [date];\r\n                }\r\n\r\n                //_this._setInputValue();\r\n\r\n                // if (opts.onSelect) {\r\n                //     _this._triggerOnChange();\r\n                // }\r\n\r\n                if (opts.autoClose && !this.timepickerIsActive) {\r\n                    if (!opts.multipleDates && !opts.range) {\r\n                        _this.hide();\r\n                    } else if (opts.range && _this.selectedDates.length == 2) {\r\n                        _this.hide();\r\n                    }\r\n                }\r\n\r\n                _this.views[this.currentView]._render()\r\n            },\r\n\r\n            removeDate: function (date) {\r\n                var selected = this.selectedDates,\r\n                    _this = this;\r\n\r\n                if (!(date instanceof Date)) return;\r\n\r\n                return selected.some(function (curDate, i) {\r\n                    if (fsdDatepicker.isSame(curDate, date)) {\r\n                        selected.splice(i, 1);\r\n\r\n                        if (!_this.selectedDates.length) {\r\n                            _this.minRange = '';\r\n                            _this.maxRange = '';\r\n                            _this.lastSelectedDate = '';\r\n                        } else {\r\n                            _this.lastSelectedDate = _this.selectedDates[_this.selectedDates.length - 1];\r\n                        }\r\n\r\n                        _this.views[_this.currentView]._render();\r\n                        _this._setInputValue();\r\n\r\n                        if (_this.opts.onSelect) {\r\n                            _this._triggerOnChange();\r\n                        }\r\n\r\n\r\n                        return true\r\n                    }\r\n                })\r\n            },\r\n\r\n            apply: function () {\r\n                if (this.opts.onSelect) {\r\n                    this._triggerOnChange()\r\n                }\r\n                this.hide();\r\n            },\r\n\r\n            clear: function () {\r\n                this.selectedDates = [];\r\n                this.minRange = '';\r\n                this.maxRange = '';\r\n                this.views[this.currentView]._render();\r\n                this._setInputValue();\r\n                if (this.opts.onSelect) {\r\n                    this._triggerOnChange()\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Updates datepicker options\r\n             * @param {String|Object} param - parameter's name to update. If object then it will extend current options\r\n             * @param {String|Number|Object} [value] - new param value\r\n             */\r\n            update: function (param, value) {\r\n                var len = arguments.length,\r\n                    lastSelectedDate = this.lastSelectedDate;\r\n\r\n                if (len == 2) {\r\n                    this.opts[param] = value;\r\n                } else if (len == 1 && typeof param == 'object') {\r\n                    this.opts = $.extend(true, this.opts, param)\r\n                }\r\n\r\n                this._createShortCuts();\r\n                this._syncWithMinMaxDates();\r\n                this._defineLocale(this.opts.language);\r\n                this.nav._addButtonsIfNeed();\r\n                if (!this.opts.onlyTimepicker) this.nav._render();\r\n                this.views[this.currentView]._render();\r\n\r\n                if (this.elIsInput && !this.opts.inline) {\r\n                    this._setPositionClasses(this.opts.position);\r\n                    if (this.visible) {\r\n                        this.setPosition(this.opts.position)\r\n                    }\r\n                }\r\n\r\n                if (this.opts.classes) {\r\n                    this.$datepicker.addClass(this.opts.classes)\r\n                }\r\n\r\n                if (this.opts.onlyTimepicker) {\r\n                    this.$datepicker.addClass('-only-timepicker-');\r\n                }\r\n\r\n                if (this.opts.timepicker) {\r\n                    if (lastSelectedDate) this.timepicker._handleDate(lastSelectedDate);\r\n                    this.timepicker._updateRanges();\r\n                    this.timepicker._updateCurrentTime();\r\n                    // Change hours and minutes if it's values have been changed through min/max hours/minutes\r\n                    if (lastSelectedDate) {\r\n                        lastSelectedDate.setHours(this.timepicker.hours);\r\n                        lastSelectedDate.setMinutes(this.timepicker.minutes);\r\n                    }\r\n                }\r\n\r\n                this._setInputValue();\r\n\r\n                return this;\r\n            },\r\n\r\n            _syncWithMinMaxDates: function () {\r\n                var curTime = this.date.getTime();\r\n                this.silent = true;\r\n                if (this.minTime > curTime) {\r\n                    this.date = this.minDate;\r\n                }\r\n\r\n                if (this.maxTime < curTime) {\r\n                    this.date = this.maxDate;\r\n                }\r\n                this.silent = false;\r\n            },\r\n\r\n            _isSelected: function (checkDate, cellType) {\r\n                var res = false;\r\n                this.selectedDates.some(function (date) {\r\n                    if (fsdDatepicker.isSame(date, checkDate, cellType)) {\r\n                        res = date;\r\n                        return true;\r\n                    }\r\n                });\r\n                return res;\r\n            },\r\n\r\n            _setInputValue: function () {\r\n                var _this = this,\r\n                    opts = _this.opts,\r\n                    format = _this.loc.dateFormat,\r\n                    altFormat = opts.altFieldDateFormat,\r\n                    value = _this.selectedDates.map(function (date) {\r\n                        return _this.formatDate(format, date)\r\n                    }),\r\n                    altValues;\r\n\r\n                if (opts.altField && _this.$altField.length) {\r\n                    altValues = this.selectedDates.map(function (date) {\r\n                        return _this.formatDate(altFormat, date)\r\n                    });\r\n                    altValues = altValues.join(this.opts.multipleDatesSeparator);\r\n                    this.$altField.val(altValues);\r\n                }\r\n\r\n                value = value.join(this.opts.multipleDatesSeparator);\r\n                this.dateValue = value;\r\n                //this.$el.val(value);\r\n            },\r\n\r\n            /**\r\n             * Check if date is between minDate and maxDate\r\n             * @param date {object} - date object\r\n             * @param type {string} - cell type\r\n             * @returns {boolean}\r\n             * @private\r\n             */\r\n            _isInRange: function (date, type) {\r\n                var time = date.getTime(),\r\n                    d = fsdDatepicker.getParsedDate(date),\r\n                    min = fsdDatepicker.getParsedDate(this.minDate),\r\n                    max = fsdDatepicker.getParsedDate(this.maxDate),\r\n                    dMinTime = new Date(d.year, d.month, min.date).getTime(),\r\n                    dMaxTime = new Date(d.year, d.month, max.date).getTime(),\r\n                    types = {\r\n                        day: time >= this.minTime && time <= this.maxTime,\r\n                        month: dMinTime >= this.minTime && dMaxTime <= this.maxTime,\r\n                        year: d.year >= min.year && d.year <= max.year\r\n                    };\r\n                return type ? types[type] : types.day\r\n            },\r\n\r\n            _getDimensions: function ($el) {\r\n                var offset = $el.offset();\r\n\r\n                return {\r\n                    width: $el.outerWidth(),\r\n                    height: $el.outerHeight(),\r\n                    left: offset.left,\r\n                    top: offset.top\r\n                }\r\n            },\r\n\r\n            _getDateFromCell: function (cell) {\r\n                var curDate = this.parsedDate,\r\n                    year = cell.data('year') || curDate.year,\r\n                    month = cell.data('month') == undefined ? curDate.month : cell.data('month'),\r\n                    date = cell.data('date') || 1;\r\n\r\n                return new Date(year, month, date);\r\n            },\r\n\r\n            _setPositionClasses: function (pos) {\r\n                pos = pos.split(' ');\r\n                var main = pos[0],\r\n                    sec = pos[1],\r\n                    classes = 'datepicker -' + main + '-' + sec + '- -from-' + main + '-';\r\n\r\n                if (this.visible) classes += ' active';\r\n\r\n                this.$datepicker\r\n                    .removeAttr('class')\r\n                    .addClass(classes);\r\n            },\r\n\r\n            setPosition: function (position) {\r\n                position = position || this.opts.position;\r\n\r\n                var dims = this._getDimensions(this.$el),\r\n                    selfDims = this._getDimensions(this.$datepicker),\r\n                    pos = position.split(' '),\r\n                    top, left,\r\n                    offset = this.opts.offset,\r\n                    main = pos[0],\r\n                    secondary = pos[1];\r\n\r\n                switch (main) {\r\n                    case 'top':\r\n                        top = dims.top - selfDims.height - offset;\r\n                        break;\r\n                    case 'right':\r\n                        left = dims.left + dims.width + offset;\r\n                        break;\r\n                    case 'bottom':\r\n                        top = dims.top + dims.height + offset;\r\n                        break;\r\n                    case 'left':\r\n                        left = dims.left - selfDims.width - offset;\r\n                        break;\r\n                }\r\n\r\n                switch (secondary) {\r\n                    case 'top':\r\n                        top = dims.top;\r\n                        break;\r\n                    case 'right':\r\n                        left = dims.left + dims.width - selfDims.width;\r\n                        break;\r\n                    case 'bottom':\r\n                        top = dims.top + dims.height - selfDims.height;\r\n                        break;\r\n                    case 'left':\r\n                        left = dims.left;\r\n                        break;\r\n                    case 'center':\r\n                        if (/left|right/.test(main)) {\r\n                            top = dims.top + dims.height / 2 - selfDims.height / 2;\r\n                        } else {\r\n                            left = dims.left + dims.width / 2 - selfDims.width / 2;\r\n                        }\r\n                }\r\n\r\n                this.$datepicker\r\n                    .css({\r\n                        left: left,\r\n                        top: top\r\n                    })\r\n            },\r\n\r\n            show: function () {\r\n                var onShow = this.opts.onShow;\r\n\r\n                this.setPosition(this.opts.position);\r\n                this.$datepicker.addClass('active');\r\n                this.visible = true;\r\n\r\n                if (onShow) {\r\n                    this._bindVisionEvents(onShow)\r\n                }\r\n            },\r\n\r\n            hide: function () {\r\n                var onHide = this.opts.onHide;\r\n\r\n                this.$datepicker\r\n                    .removeClass('active')\r\n                    .css({\r\n                        left: '-100000px'\r\n                    });\r\n\r\n                this.focused = '';\r\n                this.keys = [];\r\n\r\n                this.inFocus = false;\r\n                this.visible = false;\r\n                this.$el.blur();\r\n\r\n                if (onHide) {\r\n                    this._bindVisionEvents(onHide)\r\n                }\r\n            },\r\n\r\n            down: function (date) {\r\n                this._changeView(date, 'down');\r\n            },\r\n\r\n            up: function (date) {\r\n                this._changeView(date, 'up');\r\n            },\r\n\r\n            _bindVisionEvents: function (event) {\r\n                this.$datepicker.off('transitionend.dp');\r\n                event(this, false);\r\n                this.$datepicker.one('transitionend.dp', event.bind(this, this, true))\r\n            },\r\n\r\n            _changeView: function (date, dir) {\r\n                date = date || this.focused || this.date;\r\n\r\n                var nextView = dir == 'up' ? this.viewIndex + 1 : this.viewIndex - 1;\r\n                if (nextView > 2) nextView = 2;\r\n                if (nextView < 0) nextView = 0;\r\n\r\n                this.silent = true;\r\n                this.date = new Date(date.getFullYear(), date.getMonth(), 1);\r\n                this.silent = false;\r\n                this.view = this.viewIndexes[nextView];\r\n\r\n            },\r\n\r\n            _handleHotKey: function (key) {\r\n                var date = datepicker.getParsedDate(this._getFocusedDate()),\r\n                    focusedParsed,\r\n                    o = this.opts,\r\n                    newDate,\r\n                    totalDaysInNextMonth,\r\n                    monthChanged = false,\r\n                    yearChanged = false,\r\n                    decadeChanged = false,\r\n                    y = date.year,\r\n                    m = date.month,\r\n                    d = date.date;\r\n\r\n                switch (key) {\r\n                    case 'ctrlRight':\r\n                    case 'ctrlUp':\r\n                        m += 1;\r\n                        monthChanged = true;\r\n                        break;\r\n                    case 'ctrlLeft':\r\n                    case 'ctrlDown':\r\n                        m -= 1;\r\n                        monthChanged = true;\r\n                        break;\r\n                    case 'shiftRight':\r\n                    case 'shiftUp':\r\n                        yearChanged = true;\r\n                        y += 1;\r\n                        break;\r\n                    case 'shiftLeft':\r\n                    case 'shiftDown':\r\n                        yearChanged = true;\r\n                        y -= 1;\r\n                        break;\r\n                    case 'altRight':\r\n                    case 'altUp':\r\n                        decadeChanged = true;\r\n                        y += 10;\r\n                        break;\r\n                    case 'altLeft':\r\n                    case 'altDown':\r\n                        decadeChanged = true;\r\n                        y -= 10;\r\n                        break;\r\n                    case 'ctrlShiftUp':\r\n                        this.up();\r\n                        break;\r\n                }\r\n\r\n                totalDaysInNextMonth = fsdDatepicker.getDaysCount(new Date(y, m));\r\n                newDate = new Date(y, m, d);\r\n\r\n                // If next month has less days than current, set date to total days in that month\r\n                if (totalDaysInNextMonth < d) d = totalDaysInNextMonth;\r\n\r\n                // Check if newDate is in valid range\r\n                if (newDate.getTime() < this.minTime) {\r\n                    newDate = this.minDate;\r\n                } else if (newDate.getTime() > this.maxTime) {\r\n                    newDate = this.maxDate;\r\n                }\r\n\r\n                this.focused = newDate;\r\n\r\n                focusedParsed = datepicker.getParsedDate(newDate);\r\n                if (monthChanged && o.onChangeMonth) {\r\n                    o.onChangeMonth(focusedParsed.month, focusedParsed.year)\r\n                }\r\n                if (yearChanged && o.onChangeYear) {\r\n                    o.onChangeYear(focusedParsed.year)\r\n                }\r\n                if (decadeChanged && o.onChangeDecade) {\r\n                    o.onChangeDecade(this.curDecade)\r\n                }\r\n            },\r\n\r\n            _registerKey: function (key) {\r\n                var exists = this.keys.some(function (curKey) {\r\n                    return curKey == key;\r\n                });\r\n\r\n                if (!exists) {\r\n                    this.keys.push(key)\r\n                }\r\n            },\r\n\r\n            _unRegisterKey: function (key) {\r\n                var index = this.keys.indexOf(key);\r\n\r\n                this.keys.splice(index, 1);\r\n            },\r\n\r\n            _isHotKeyPressed: function () {\r\n                var currentHotKey,\r\n                    found = false,\r\n                    _this = this,\r\n                    pressedKeys = this.keys.sort();\r\n\r\n                for (var hotKey in hotKeys) {\r\n                    currentHotKey = hotKeys[hotKey];\r\n                    if (pressedKeys.length != currentHotKey.length) continue;\r\n\r\n                    if (currentHotKey.every(function (key, i) { return key == pressedKeys[i] })) {\r\n                        _this._trigger('hotKey', hotKey);\r\n                        found = true;\r\n                    }\r\n                }\r\n\r\n                return found;\r\n            },\r\n\r\n            _trigger: function (event, args) {\r\n                this.$el.trigger(event, args)\r\n            },\r\n\r\n            _focusNextCell: function (keyCode, type) {\r\n                type = type || this.cellType;\r\n\r\n                var date = fsdDatepicker.getParsedDate(this._getFocusedDate()),\r\n                    y = date.year,\r\n                    m = date.month,\r\n                    d = date.date;\r\n\r\n                if (this._isHotKeyPressed()) {\r\n                    return;\r\n                }\r\n\r\n                switch (keyCode) {\r\n                    case 37: // left\r\n                        type == 'day' ? (d -= 1) : '';\r\n                        type == 'month' ? (m -= 1) : '';\r\n                        type == 'year' ? (y -= 1) : '';\r\n                        break;\r\n                    case 38: // up\r\n                        type == 'day' ? (d -= 7) : '';\r\n                        type == 'month' ? (m -= 3) : '';\r\n                        type == 'year' ? (y -= 4) : '';\r\n                        break;\r\n                    case 39: // right\r\n                        type == 'day' ? (d += 1) : '';\r\n                        type == 'month' ? (m += 1) : '';\r\n                        type == 'year' ? (y += 1) : '';\r\n                        break;\r\n                    case 40: // down\r\n                        type == 'day' ? (d += 7) : '';\r\n                        type == 'month' ? (m += 3) : '';\r\n                        type == 'year' ? (y += 4) : '';\r\n                        break;\r\n                }\r\n\r\n                var nd = new Date(y, m, d);\r\n                if (nd.getTime() < this.minTime) {\r\n                    nd = this.minDate;\r\n                } else if (nd.getTime() > this.maxTime) {\r\n                    nd = this.maxDate;\r\n                }\r\n\r\n                this.focused = nd;\r\n\r\n            },\r\n\r\n            _getFocusedDate: function () {\r\n                var focused = this.focused || this.selectedDates[this.selectedDates.length - 1],\r\n                    d = this.parsedDate;\r\n\r\n                if (!focused) {\r\n                    switch (this.view) {\r\n                        case 'days':\r\n                            focused = new Date(d.year, d.month, new Date().getDate());\r\n                            break;\r\n                        case 'months':\r\n                            focused = new Date(d.year, d.month, 1);\r\n                            break;\r\n                        case 'years':\r\n                            focused = new Date(d.year, 0, 1);\r\n                            break;\r\n                    }\r\n                }\r\n\r\n                return focused;\r\n            },\r\n\r\n            _getCell: function (date, type) {\r\n                type = type || this.cellType;\r\n\r\n                var d = fsdDatepicker.getParsedDate(date),\r\n                    selector = '.datepicker--cell[data-year=\"' + d.year + '\"]',\r\n                    $cell;\r\n\r\n                switch (type) {\r\n                    case 'month':\r\n                        selector = '[data-month=\"' + d.month + '\"]';\r\n                        break;\r\n                    case 'day':\r\n                        selector += '[data-month=\"' + d.month + '\"][data-date=\"' + d.date + '\"]';\r\n                        break;\r\n                }\r\n                $cell = this.views[this.currentView].$el.find(selector);\r\n\r\n                return $cell.length ? $cell : $('');\r\n            },\r\n\r\n            destroy: function () {\r\n                var _this = this;\r\n                _this.$el\r\n                    .off('.adp')\r\n                    .data('datepicker', '');\r\n\r\n                _this.selectedDates = [];\r\n                _this.focused = '';\r\n                _this.views = {};\r\n                _this.keys = [];\r\n                _this.minRange = '';\r\n                _this.maxRange = '';\r\n\r\n                if (_this.opts.inline || !_this.elIsInput) {\r\n                    _this.$datepicker.closest('.datepicker-inline').remove();\r\n                } else {\r\n                    _this.$datepicker.remove();\r\n                }\r\n            },\r\n\r\n            _handleAlreadySelectedDates: function (alreadySelected, selectedDate) {\r\n                if (this.opts.range) {\r\n                    if (!this.opts.toggleSelected) {\r\n                        // Add possibility to select same date when range is true\r\n                        if (this.selectedDates.length != 2) {\r\n                            this._trigger('clickCell', selectedDate);\r\n                        }\r\n                    } else {\r\n                        this.removeDate(selectedDate);\r\n                    }\r\n                } else if (this.opts.toggleSelected) {\r\n                    this.removeDate(selectedDate);\r\n                }\r\n\r\n                // Change last selected date to be able to change time when clicking on this cell\r\n                if (!this.opts.toggleSelected) {\r\n                    this.lastSelectedDate = alreadySelected;\r\n                    if (this.opts.timepicker) {\r\n                        this.timepicker._setTime(alreadySelected);\r\n                        this.timepicker.update();\r\n                    }\r\n                }\r\n            },\r\n\r\n            _onShowEvent: function (e) {\r\n                if (!this.visible) {\r\n                    this.show();\r\n                }\r\n            },\r\n\r\n            _onBlur: function () {\r\n                if (!this.inFocus && this.visible) {\r\n                    this.hide();\r\n                }\r\n            },\r\n\r\n            _onMouseDownDatepicker: function (e) {\r\n                this.inFocus = true;\r\n            },\r\n\r\n            _onMouseUpDatepicker: function (e) {\r\n                this.inFocus = false;\r\n                e.originalEvent.inFocus = true;\r\n                if (!e.originalEvent.timepickerFocus) this.$el.focus();\r\n            },\r\n\r\n            _onKeyUpGeneral: function (e) {\r\n                var val = this.$el.val();\r\n\r\n                if (!val) {\r\n                    this.clear();\r\n                }\r\n            },\r\n\r\n            _onResize: function () {\r\n                if (this.visible) {\r\n                    this.setPosition();\r\n                }\r\n            },\r\n\r\n            _onMouseUpBody: function (e) {\r\n                if (e.originalEvent.inFocus) return;\r\n\r\n                if (this.visible && !this.inFocus) {\r\n                    this.hide();\r\n                }\r\n            },\r\n\r\n            _onMouseUpEl: function (e) {\r\n                e.originalEvent.inFocus = true;\r\n                setTimeout(this._onKeyUpGeneral.bind(this), 4);\r\n            },\r\n\r\n            _onKeyDown: function (e) {\r\n                var code = e.which;\r\n                this._registerKey(code);\r\n\r\n                // Arrows\r\n                if (code >= 37 && code <= 40) {\r\n                    e.preventDefault();\r\n                    this._focusNextCell(code);\r\n                }\r\n\r\n                // Enter\r\n                if (code == 13) {\r\n                    if (this.focused) {\r\n                        if (this._getCell(this.focused).hasClass('-disabled-')) return;\r\n                        if (this.view != this.opts.minView) {\r\n                            this.down()\r\n                        } else {\r\n                            var alreadySelected = this._isSelected(this.focused, this.cellType);\r\n\r\n                            if (!alreadySelected) {\r\n                                if (this.timepicker) {\r\n                                    this.focused.setHours(this.timepicker.hours);\r\n                                    this.focused.setMinutes(this.timepicker.minutes);\r\n                                }\r\n                                this.selectDate(this.focused);\r\n                                return;\r\n                            }\r\n                            this._handleAlreadySelectedDates(alreadySelected, this.focused)\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // Esc\r\n                if (code == 27) {\r\n                    this.hide();\r\n                }\r\n            },\r\n\r\n            _onKeyUp: function (e) {\r\n                var code = e.which;\r\n                this._unRegisterKey(code);\r\n            },\r\n\r\n            _onHotKey: function (e, hotKey) {\r\n                this._handleHotKey(hotKey);\r\n            },\r\n\r\n            _onMouseEnterCell: function (e) {\r\n                var $cell = $(e.target).closest('.datepicker--cell'),\r\n                    date = this._getDateFromCell($cell);\r\n\r\n                // Prevent from unnecessary rendering and setting new currentDate\r\n                this.silent = true;\r\n\r\n                if (this.focused) {\r\n                    this.focused = ''\r\n                }\r\n\r\n                $cell.addClass('-focus-');\r\n\r\n                this.focused = date;\r\n                this.silent = false;\r\n\r\n                if (this.opts.range && this.selectedDates.length == 1) {\r\n                    this.minRange = this.selectedDates[0];\r\n                    this.maxRange = '';\r\n                    if (fsdDatepicker.less(this.minRange, this.focused)) {\r\n                        this.maxRange = this.minRange;\r\n                        this.minRange = '';\r\n                    }\r\n                    this.views[this.currentView]._update();\r\n                }\r\n            },\r\n\r\n            _onMouseLeaveCell: function (e) {\r\n                var $cell = $(e.target).closest('.datepicker--cell');\r\n\r\n                $cell.removeClass('-focus-');\r\n\r\n                this.silent = true;\r\n                this.focused = '';\r\n                this.silent = false;\r\n            },\r\n\r\n            _onTimeChange: function (e, h, m) {\r\n                var date = new Date(),\r\n                    selectedDates = this.selectedDates,\r\n                    selected = false;\r\n\r\n                if (selectedDates.length) {\r\n                    selected = true;\r\n                    date = this.lastSelectedDate;\r\n                }\r\n\r\n                date.setHours(h);\r\n                date.setMinutes(m);\r\n\r\n                if (!selected && !this._getCell(date).hasClass('-disabled-')) {\r\n                    this.selectDate(date);\r\n                } else {\r\n                    this._setInputValue();\r\n                    if (this.opts.onSelect) {\r\n                        this._triggerOnChange();\r\n                    }\r\n                }\r\n            },\r\n\r\n            _onClickCell: function (e, date) {\r\n                if (this.timepicker) {\r\n                    date.setHours(this.timepicker.hours);\r\n                    date.setMinutes(this.timepicker.minutes);\r\n                }\r\n                this.selectDate(date);\r\n            },\r\n\r\n            set focused(val) {\r\n                if (!val && this.focused) {\r\n                    var $cell = this._getCell(this.focused);\r\n\r\n                    if ($cell.length) {\r\n                        $cell.removeClass('-focus-')\r\n                    }\r\n                }\r\n                this._focused = val;\r\n                if (this.opts.range && this.selectedDates.length == 1) {\r\n                    this.minRange = this.selectedDates[0];\r\n                    this.maxRange = '';\r\n                    if (fsdDatepicker.less(this.minRange, this._focused)) {\r\n                        this.maxRange = this.minRange;\r\n                        this.minRange = '';\r\n                    }\r\n                }\r\n                if (this.silent) return;\r\n                this.date = val;\r\n            },\r\n\r\n            get focused() {\r\n                return this._focused;\r\n            },\r\n\r\n            get parsedDate() {\r\n                return fsdDatepicker.getParsedDate(this.date);\r\n            },\r\n\r\n            set date(val) {\r\n                if (!(val instanceof Date)) return;\r\n\r\n                this.currentDate = val;\r\n\r\n                if (this.inited && !this.silent) {\r\n                    this.views[this.view]._render();\r\n                    this.nav._render();\r\n                    if (this.visible && this.elIsInput) {\r\n                        this.setPosition();\r\n                    }\r\n                }\r\n                return val;\r\n            },\r\n\r\n            get date() {\r\n                return this.currentDate\r\n            },\r\n\r\n            set view(val) {\r\n                this.viewIndex = this.viewIndexes.indexOf(val);\r\n\r\n                if (this.viewIndex < 0) {\r\n                    return;\r\n                }\r\n\r\n                this.prevView = this.currentView;\r\n                this.currentView = val;\r\n\r\n                if (this.inited) {\r\n                    if (!this.views[val]) {\r\n                        this.views[val] = new $.fn.fsdDatepicker.Body(this, val, this.opts)\r\n                    } else {\r\n                        this.views[val]._render();\r\n                    }\r\n\r\n                    this.views[this.prevView].hide();\r\n                    this.views[val].show();\r\n                    this.nav._render();\r\n\r\n                    if (this.opts.onChangeView) {\r\n                        this.opts.onChangeView(val)\r\n                    }\r\n                    if (this.elIsInput && this.visible) this.setPosition();\r\n                }\r\n\r\n                return val\r\n            },\r\n\r\n            get view() {\r\n                return this.currentView;\r\n            },\r\n\r\n            get cellType() {\r\n                return this.view.substring(0, this.view.length - 1)\r\n            },\r\n\r\n            get minTime() {\r\n                var min = fsdDatepicker.getParsedDate(this.minDate);\r\n                return new Date(min.year, min.month, min.date).getTime()\r\n            },\r\n\r\n            get maxTime() {\r\n                var max = fsdDatepicker.getParsedDate(this.maxDate);\r\n                return new Date(max.year, max.month, max.date).getTime()\r\n            },\r\n\r\n            get curDecade() {\r\n                return fsdDatepicker.getDecade(this.date)\r\n            }\r\n        };\r\n\r\n        //  Utils\r\n        // -------------------------------------------------\r\n\r\n        fsdDatepicker.getDaysCount = function (date) {\r\n            return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\r\n        };\r\n\r\n        fsdDatepicker.getParsedDate = function (date) {\r\n            return {\r\n                year: date.getFullYear(),\r\n                month: date.getMonth(),\r\n                fullMonth: (date.getMonth() + 1) < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1, // One based\r\n                date: date.getDate(),\r\n                fullDate: date.getDate() < 10 ? '0' + date.getDate() : date.getDate(),\r\n                day: date.getDay(),\r\n                hours: date.getHours(),\r\n                fullHours: date.getHours() < 10 ? '0' + date.getHours() : date.getHours(),\r\n                minutes: date.getMinutes(),\r\n                fullMinutes: date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()\r\n            }\r\n        };\r\n\r\n        fsdDatepicker.getDecade = function (date) {\r\n            var firstYear = Math.floor(date.getFullYear() / 10) * 10;\r\n\r\n            return [firstYear, firstYear + 9];\r\n        };\r\n\r\n        fsdDatepicker.template = function (str, data) {\r\n            return str.replace(/#\\{([\\w]+)\\}/g, function (source, match) {\r\n                if (data[match] || data[match] === 0) {\r\n                    return data[match]\r\n                }\r\n            });\r\n        };\r\n\r\n        fsdDatepicker.isSame = function (date1, date2, type) {\r\n            if (!date1 || !date2) return false;\r\n            var d1 = fsdDatepicker.getParsedDate(date1),\r\n                d2 = fsdDatepicker.getParsedDate(date2),\r\n                _type = type ? type : 'day',\r\n\r\n                conditions = {\r\n                    day: d1.date == d2.date && d1.month == d2.month && d1.year == d2.year,\r\n                    month: d1.month == d2.month && d1.year == d2.year,\r\n                    year: d1.year == d2.year\r\n                };\r\n\r\n            return conditions[_type];\r\n        };\r\n\r\n        fsdDatepicker.less = function (dateCompareTo, date, type) {\r\n            if (!dateCompareTo || !date) return false;\r\n            return date.getTime() < dateCompareTo.getTime();\r\n        };\r\n\r\n        fsdDatepicker.bigger = function (dateCompareTo, date, type) {\r\n            if (!dateCompareTo || !date) return false;\r\n            return date.getTime() > dateCompareTo.getTime();\r\n        };\r\n\r\n        fsdDatepicker.getLeadingZeroNum = function (num) {\r\n            return parseInt(num) < 10 ? '0' + num : num;\r\n        };\r\n\r\n        /**\r\n         * Returns copy of date with hours and minutes equals to 0\r\n         * @param date {Date}\r\n         */\r\n        fsdDatepicker.resetTime = function (date) {\r\n            if (typeof date != 'object') return;\r\n            date = fsdDatepicker.getParsedDate(date);\r\n            return new Date(date.year, date.month, date.date)\r\n        };\r\n\r\n        $.fn.fsdDatepicker = function (options) {\r\n            return this.each(function () {\r\n                if (!$.data(this, pluginName)) {\r\n                    $.data(this, pluginName,\r\n                        new Datepicker(this, options));\r\n                } else {\r\n                    var _this = $.data(this, pluginName);\r\n\r\n                    _this.opts = $.extend(true, _this.opts, options);\r\n                    _this.update();\r\n                }\r\n            });\r\n        };\r\n\r\n        $.fn.fsdDatepicker.Constructor = Datepicker;\r\n\r\n        $.fn.fsdDatepicker.language = {\r\n            ru: {\r\n                days: ['Воскресенье', 'Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота'],\r\n                daysShort: ['Вос', 'Пон', 'Вто', 'Сре', 'Чет', 'Пят', 'Суб'],\r\n                daysMin: ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],\r\n                months: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],\r\n                monthsShort: ['Янв', 'Фев', 'Мар', 'Апр', 'Мая', 'Июн', 'Июл', 'Авг', 'Сен', 'Окт', 'Ноя', 'Дек'],\r\n                apply: 'Применить',\r\n                clear: 'Очистить',\r\n                dateFormat: 'dd.mm.yyyy',\r\n                timeFormat: 'hh:ii',\r\n                firstDay: 1\r\n            }\r\n        };\r\n\r\n        $(function () {\r\n            $(autoInitSelector).fsdDatepicker();\r\n        })\r\n\r\n    })();\r\n\r\n    ; (function () {\r\n        var templates = {\r\n            days: '' +\r\n                '<div class=\"datepicker--days datepicker--body\">' +\r\n                '<div class=\"datepicker--days-names\"></div>' +\r\n                '<div class=\"datepicker--cells datepicker--cells-days\"></div>' +\r\n                '</div>',\r\n            months: '' +\r\n                '<div class=\"datepicker--months datepicker--body\">' +\r\n                '<div class=\"datepicker--cells datepicker--cells-months\"></div>' +\r\n                '</div>',\r\n            years: '' +\r\n                '<div class=\"datepicker--years datepicker--body\">' +\r\n                '<div class=\"datepicker--cells datepicker--cells-years\"></div>' +\r\n                '</div>'\r\n        },\r\n            fsdDatepicker = $.fn.fsdDatepicker,\r\n            dp = fsdDatepicker.Constructor;\r\n\r\n        fsdDatepicker.Body = function (d, type, opts) {\r\n            this.d = d;\r\n            this.type = type;\r\n            this.opts = opts;\r\n            this.$el = $('');\r\n\r\n            if (this.opts.onlyTimepicker) return;\r\n            this.init();\r\n        };\r\n\r\n        fsdDatepicker.Body.prototype = {\r\n            init: function () {\r\n                this._buildBaseHtml();\r\n                this._render();\r\n\r\n                this._bindEvents();\r\n            },\r\n\r\n            _bindEvents: function () {\r\n                this.$el.on('click', '.datepicker--cell', $.proxy(this._onClickCell, this));\r\n            },\r\n\r\n            _buildBaseHtml: function () {\r\n                this.$el = $(templates[this.type]).appendTo(this.d.$content);\r\n                this.$names = $('.datepicker--days-names', this.$el);\r\n                this.$cells = $('.datepicker--cells', this.$el);\r\n            },\r\n\r\n            _getDayNamesHtml: function (firstDay, curDay, html, i) {\r\n                curDay = curDay != undefined ? curDay : firstDay;\r\n                html = html ? html : '';\r\n                i = i != undefined ? i : 0;\r\n\r\n                if (i > 7) return html;\r\n                if (curDay == 7) return this._getDayNamesHtml(firstDay, 0, html, ++i);\r\n\r\n                html += '<div class=\"datepicker--day-name' + (this.d.isWeekend(curDay) ? \" -weekend-\" : \"\") + '\">' + this.d.loc.daysMin[curDay] + '</div>';\r\n\r\n                return this._getDayNamesHtml(firstDay, ++curDay, html, ++i);\r\n            },\r\n\r\n            _getCellContents: function (date, type) {\r\n                var classes = \"datepicker--cell datepicker--cell-\" + type,\r\n                    currentDate = new Date(),\r\n                    parent = this.d,\r\n                    minRange = dp.resetTime(parent.minRange),\r\n                    maxRange = dp.resetTime(parent.maxRange),\r\n                    opts = parent.opts,\r\n                    d = dp.getParsedDate(date),\r\n                    render = {},\r\n                    html = d.date;\r\n\r\n                switch (type) {\r\n                    case 'day':\r\n                        if (parent.isWeekend(d.day)) classes += \" -weekend-\";\r\n                        if (d.month != this.d.parsedDate.month) {\r\n                            classes += \" -other-month-\";\r\n                            if (!opts.selectOtherMonths) {\r\n                                classes += \" -disabled-\";\r\n                            }\r\n                            if (!opts.showOtherMonths) html = '';\r\n                        }\r\n                        break;\r\n                    case 'month':\r\n                        html = parent.loc[parent.opts.monthsField][d.month];\r\n                        break;\r\n                    case 'year':\r\n                        var decade = parent.curDecade;\r\n                        html = d.year;\r\n                        if (d.year < decade[0] || d.year > decade[1]) {\r\n                            classes += ' -other-decade-';\r\n                            if (!opts.selectOtherYears) {\r\n                                classes += \" -disabled-\";\r\n                            }\r\n                            if (!opts.showOtherYears) html = '';\r\n                        }\r\n                        break;\r\n                }\r\n\r\n                if (opts.onRenderCell) {\r\n                    render = opts.onRenderCell(date, type) || {};\r\n                    html = render.html ? render.html : html;\r\n                    classes += render.classes ? ' ' + render.classes : '';\r\n                }\r\n\r\n                if (opts.range) {\r\n                    if (dp.isSame(minRange, date, type)) classes += ' -range-from-';\r\n                    if (dp.isSame(maxRange, date, type)) classes += ' -range-to-';\r\n\r\n                    if (parent.selectedDates.length == 1 && parent.focused) {\r\n                        if (\r\n                            (dp.bigger(minRange, date) && dp.less(parent.focused, date)) ||\r\n                            (dp.less(maxRange, date) && dp.bigger(parent.focused, date))) {\r\n                            classes += ' -in-range-'\r\n                        }\r\n\r\n                        if (dp.less(maxRange, date) && dp.isSame(parent.focused, date)) {\r\n                            classes += ' -range-from-'\r\n                        }\r\n                        if (dp.bigger(minRange, date) && dp.isSame(parent.focused, date)) {\r\n                            classes += ' -range-to-'\r\n                        }\r\n\r\n                    } else if (parent.selectedDates.length == 2) {\r\n                        if (dp.bigger(minRange, date) && dp.less(maxRange, date)) {\r\n                            classes += ' -in-range-'\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n                if (dp.isSame(currentDate, date, type)) classes += ' -current-';\r\n                if (parent.focused && dp.isSame(date, parent.focused, type)) classes += ' -focus-';\r\n                if (parent._isSelected(date, type)) classes += ' -selected-';\r\n                if (!parent._isInRange(date, type) || render.disabled) classes += ' -disabled-';\r\n\r\n                return {\r\n                    html: html,\r\n                    classes: classes\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Calculates days number to render. Generates days html and returns it.\r\n             * @param {object} date - Date object\r\n             * @returns {string}\r\n             * @private\r\n             */\r\n            _getDaysHtml: function (date) {\r\n                var totalMonthDays = dp.getDaysCount(date),\r\n                    firstMonthDay = new Date(date.getFullYear(), date.getMonth(), 1).getDay(),\r\n                    lastMonthDay = new Date(date.getFullYear(), date.getMonth(), totalMonthDays).getDay(),\r\n                    daysFromPevMonth = firstMonthDay - this.d.loc.firstDay,\r\n                    daysFromNextMonth = 6 - lastMonthDay + this.d.loc.firstDay;\r\n\r\n                daysFromPevMonth = daysFromPevMonth < 0 ? daysFromPevMonth + 7 : daysFromPevMonth;\r\n                daysFromNextMonth = daysFromNextMonth > 6 ? daysFromNextMonth - 7 : daysFromNextMonth;\r\n\r\n                var startDayIndex = -daysFromPevMonth + 1,\r\n                    m, y,\r\n                    html = '';\r\n\r\n                for (var i = startDayIndex, max = totalMonthDays + daysFromNextMonth; i <= max; i++) {\r\n                    y = date.getFullYear();\r\n                    m = date.getMonth();\r\n\r\n                    html += this._getDayHtml(new Date(y, m, i))\r\n                }\r\n\r\n                return html;\r\n            },\r\n\r\n            _getDayHtml: function (date) {\r\n                var content = this._getCellContents(date, 'day');\r\n\r\n                return '<div class=\"' + content.classes + '\" ' +\r\n                    'data-date=\"' + date.getDate() + '\" ' +\r\n                    'data-month=\"' + date.getMonth() + '\" ' +\r\n                    'data-year=\"' + date.getFullYear() + '\">' + content.html + '</div>';\r\n            },\r\n\r\n            /**\r\n             * Generates months html\r\n             * @param {object} date - date instance\r\n             * @returns {string}\r\n             * @private\r\n             */\r\n            _getMonthsHtml: function (date) {\r\n                var html = '',\r\n                    d = dp.getParsedDate(date),\r\n                    i = 0;\r\n\r\n                while (i < 12) {\r\n                    html += this._getMonthHtml(new Date(d.year, i));\r\n                    i++\r\n                }\r\n\r\n                return html;\r\n            },\r\n\r\n            _getMonthHtml: function (date) {\r\n                var content = this._getCellContents(date, 'month');\r\n\r\n                return '<div class=\"' + content.classes + '\" data-month=\"' + date.getMonth() + '\">' + content.html + '</div>'\r\n            },\r\n\r\n            _getYearsHtml: function (date) {\r\n                var d = dp.getParsedDate(date),\r\n                    decade = dp.getDecade(date),\r\n                    firstYear = decade[0] - 1,\r\n                    html = '',\r\n                    i = firstYear;\r\n\r\n                for (i; i <= decade[1] + 1; i++) {\r\n                    html += this._getYearHtml(new Date(i, 0));\r\n                }\r\n\r\n                return html;\r\n            },\r\n\r\n            _getYearHtml: function (date) {\r\n                var content = this._getCellContents(date, 'year');\r\n\r\n                return '<div class=\"' + content.classes + '\" data-year=\"' + date.getFullYear() + '\">' + content.html + '</div>'\r\n            },\r\n\r\n            _renderTypes: {\r\n                days: function () {\r\n                    var dayNames = this._getDayNamesHtml(this.d.loc.firstDay),\r\n                        days = this._getDaysHtml(this.d.currentDate);\r\n\r\n                    this.$cells.html(days);\r\n                    this.$names.html(dayNames)\r\n                },\r\n                months: function () {\r\n                    var html = this._getMonthsHtml(this.d.currentDate);\r\n\r\n                    this.$cells.html(html)\r\n                },\r\n                years: function () {\r\n                    var html = this._getYearsHtml(this.d.currentDate);\r\n\r\n                    this.$cells.html(html)\r\n                }\r\n            },\r\n\r\n            _render: function () {\r\n                if (this.opts.onlyTimepicker) return;\r\n                this._renderTypes[this.type].bind(this)();\r\n            },\r\n\r\n            _update: function () {\r\n                var $cells = $('.datepicker--cell', this.$cells),\r\n                    _this = this,\r\n                    classes,\r\n                    $cell,\r\n                    date;\r\n                $cells.each(function (cell, i) {\r\n                    $cell = $(this);\r\n                    date = _this.d._getDateFromCell($(this));\r\n                    classes = _this._getCellContents(date, _this.d.cellType);\r\n                    $cell.attr('class', classes.classes)\r\n                });\r\n            },\r\n\r\n            show: function () {\r\n                if (this.opts.onlyTimepicker) return;\r\n                this.$el.addClass('active');\r\n                this.acitve = true;\r\n            },\r\n\r\n            hide: function () {\r\n                this.$el.removeClass('active');\r\n                this.active = false;\r\n            },\r\n\r\n            //  Events\r\n            // -------------------------------------------------\r\n\r\n            _handleClick: function (el) {\r\n                var date = el.data('date') || 1,\r\n                    month = el.data('month') || 0,\r\n                    year = el.data('year') || this.d.parsedDate.year,\r\n                    dp = this.d;\r\n                // Change view if min view does not reach yet\r\n                if (dp.view != this.opts.minView) {\r\n                    dp.down(new Date(year, month, date));\r\n                    return;\r\n                }\r\n                // Select date if min view is reached\r\n                var selectedDate = new Date(year, month, date),\r\n                    alreadySelected = this.d._isSelected(selectedDate, this.d.cellType);\r\n\r\n                if (!alreadySelected) {\r\n                    dp._trigger('clickCell', selectedDate);\r\n                    return;\r\n                }\r\n\r\n                dp._handleAlreadySelectedDates.bind(dp, alreadySelected, selectedDate)();\r\n\r\n            },\r\n\r\n            _onClickCell: function (e) {\r\n                var $el = $(e.target).closest('.datepicker--cell');\r\n\r\n                if ($el.hasClass('-disabled-')) return;\r\n\r\n                this._handleClick.bind(this)($el);\r\n            }\r\n        };\r\n    })();\r\n\r\n    ; (function () {\r\n        var template = '' +\r\n            '<div class=\"datepicker--nav-action\" data-action=\"prev\">#{prevHtml}</div>' +\r\n            '<div class=\"datepicker--nav-title\">#{title}</div>' +\r\n            '<div class=\"datepicker--nav-action\" data-action=\"next\">#{nextHtml}</div>',\r\n            buttonsContainerTemplate = '<div class=\"datepicker--buttons\"></div>',\r\n            button = '<button class=\"datepicker--button\" data-action=\"#{action}\">#{label}</button>',\r\n            fsdDatepicker = $.fn.fsdDatepicker,\r\n            dp = fsdDatepicker.Constructor;\r\n\r\n        fsdDatepicker.Navigation = function (d, opts) {\r\n            this.d = d;\r\n            this.opts = opts;\r\n\r\n            this.$buttonsContainer = '';\r\n\r\n            this.init();\r\n        };\r\n\r\n        fsdDatepicker.Navigation.prototype = {\r\n            init: function () {\r\n                this._buildBaseHtml();\r\n                this._bindEvents();\r\n            },\r\n\r\n            _bindEvents: function () {\r\n                this.d.$nav.on('click', '.datepicker--nav-action', $.proxy(this._onClickNavButton, this));\r\n                this.d.$nav.on('click', '.datepicker--nav-title', $.proxy(this._onClickNavTitle, this));\r\n                this.d.$datepicker.on('click', '.datepicker--button', $.proxy(this._onClickNavButton, this));\r\n            },\r\n\r\n            _buildBaseHtml: function () {\r\n                if (!this.opts.onlyTimepicker) {\r\n                    this._render();\r\n                }\r\n                this._addButtonsIfNeed();\r\n            },\r\n\r\n            _addButtonsIfNeed: function () {\r\n                if (this.opts.clearButton) {\r\n                    this._addButton('clear')\r\n                }\r\n                if (this.opts.applyButton) {\r\n                    this._addButton('apply')\r\n                }\r\n            },\r\n\r\n            _render: function () {\r\n                var title = this._getTitle(this.d.currentDate),\r\n                    html = dp.template(template, $.extend({ title: title }, this.opts));\r\n                this.d.$nav.html(html);\r\n                if (this.d.view == 'years') {\r\n                    $('.datepicker--nav-title', this.d.$nav).addClass('-disabled-');\r\n                }\r\n                this.setNavStatus();\r\n            },\r\n\r\n            _getTitle: function (date) {\r\n                return this.d.formatDate(this.opts.navTitles[this.d.view], date)\r\n            },\r\n\r\n            _addButton: function (type) {\r\n                if (!this.$buttonsContainer.length) {\r\n                    this._addButtonsContainer();\r\n                }\r\n\r\n                var data = {\r\n                    action: type,\r\n                    label: this.d.loc[type]\r\n                },\r\n                    html = dp.template(button, data);\r\n\r\n                if ($('[data-action=' + type + ']', this.$buttonsContainer).length) return;\r\n                this.$buttonsContainer.append(html);\r\n            },\r\n\r\n            _addButtonsContainer: function () {\r\n                this.d.$datepicker.append(buttonsContainerTemplate);\r\n                this.$buttonsContainer = $('.datepicker--buttons', this.d.$datepicker);\r\n            },\r\n\r\n            setNavStatus: function () {\r\n                if (!(this.opts.minDate || this.opts.maxDate) || !this.opts.disableNavWhenOutOfRange) return;\r\n\r\n                var date = this.d.parsedDate,\r\n                    m = date.month,\r\n                    y = date.year,\r\n                    d = date.date;\r\n\r\n                switch (this.d.view) {\r\n                    case 'days':\r\n                        if (!this.d._isInRange(new Date(y, m - 1, 1), 'month')) {\r\n                            this._disableNav('prev')\r\n                        }\r\n                        if (!this.d._isInRange(new Date(y, m + 1, 1), 'month')) {\r\n                            this._disableNav('next')\r\n                        }\r\n                        break;\r\n                    case 'months':\r\n                        if (!this.d._isInRange(new Date(y - 1, m, d), 'year')) {\r\n                            this._disableNav('prev')\r\n                        }\r\n                        if (!this.d._isInRange(new Date(y + 1, m, d), 'year')) {\r\n                            this._disableNav('next')\r\n                        }\r\n                        break;\r\n                    case 'years':\r\n                        var decade = dp.getDecade(this.d.date);\r\n                        if (!this.d._isInRange(new Date(decade[0] - 1, 0, 1), 'year')) {\r\n                            this._disableNav('prev')\r\n                        }\r\n                        if (!this.d._isInRange(new Date(decade[1] + 1, 0, 1), 'year')) {\r\n                            this._disableNav('next')\r\n                        }\r\n                        break;\r\n                }\r\n            },\r\n\r\n            _disableNav: function (nav) {\r\n                $('[data-action=\"' + nav + '\"]', this.d.$nav).addClass('-disabled-')\r\n            },\r\n\r\n            _activateNav: function (nav) {\r\n                $('[data-action=\"' + nav + '\"]', this.d.$nav).removeClass('-disabled-')\r\n            },\r\n\r\n            _onClickNavButton: function (e) {\r\n                var $el = $(e.target).closest('[data-action]'),\r\n                    action = $el.data('action');\r\n\r\n                this.d[action]();\r\n            },\r\n\r\n            _onClickNavTitle: function (e) {\r\n                if ($(e.target).hasClass('-disabled-')) return;\r\n\r\n                if (this.d.view == 'days') {\r\n                    return this.d.view = 'months'\r\n                }\r\n\r\n                this.d.view = 'years';\r\n            }\r\n        }\r\n\r\n    })();\r\n\r\n    ; (function () {\r\n        var template = '<div class=\"datepicker--time\">' +\r\n            '<div class=\"datepicker--time-current\">' +\r\n            '   <span class=\"datepicker--time-current-hours\">#{hourVisible}</span>' +\r\n            '   <span class=\"datepicker--time-current-colon\">:</span>' +\r\n            '   <span class=\"datepicker--time-current-minutes\">#{minValue}</span>' +\r\n            '</div>' +\r\n            '<div class=\"datepicker--time-sliders\">' +\r\n            '   <div class=\"datepicker--time-row\">' +\r\n            '      <input type=\"range\" name=\"hours\" value=\"#{hourValue}\" min=\"#{hourMin}\" max=\"#{hourMax}\" step=\"#{hourStep}\"/>' +\r\n            '   </div>' +\r\n            '   <div class=\"datepicker--time-row\">' +\r\n            '      <input type=\"range\" name=\"minutes\" value=\"#{minValue}\" min=\"#{minMin}\" max=\"#{minMax}\" step=\"#{minStep}\"/>' +\r\n            '   </div>' +\r\n            '</div>' +\r\n            '</div>',\r\n            fsdDatepicker = $.fn.fsdDatepicker,\r\n            dp = fsdDatepicker.Constructor;\r\n\r\n        fsdDatepicker.Timepicker = function (inst, opts) {\r\n            this.d = inst;\r\n            this.opts = opts;\r\n\r\n            this.init();\r\n        };\r\n\r\n        fsdDatepicker.Timepicker.prototype = {\r\n            init: function () {\r\n                var input = 'input';\r\n                this._setTime(this.d.date);\r\n                this._buildHTML();\r\n\r\n                if (navigator.userAgent.match(/trident/gi)) {\r\n                    input = 'change';\r\n                }\r\n\r\n                this.d.$el.on('selectDate', this._onSelectDate.bind(this));\r\n                this.$ranges.on(input, this._onChangeRange.bind(this));\r\n                this.$ranges.on('mouseup', this._onMouseUpRange.bind(this));\r\n                this.$ranges.on('mousemove focus ', this._onMouseEnterRange.bind(this));\r\n                this.$ranges.on('mouseout blur', this._onMouseOutRange.bind(this));\r\n            },\r\n\r\n            _setTime: function (date) {\r\n                var _date = dp.getParsedDate(date);\r\n\r\n                this._handleDate(date);\r\n                this.hours = _date.hours < this.minHours ? this.minHours : _date.hours;\r\n                this.minutes = _date.minutes < this.minMinutes ? this.minMinutes : _date.minutes;\r\n            },\r\n\r\n            /**\r\n             * Sets minHours and minMinutes from date (usually it's a minDate)\r\n             * Also changes minMinutes if current hours are bigger then @date hours\r\n             * @param date {Date}\r\n             * @private\r\n             */\r\n            _setMinTimeFromDate: function (date) {\r\n                this.minHours = date.getHours();\r\n                this.minMinutes = date.getMinutes();\r\n\r\n                // If, for example, min hours are 10, and current hours are 12,\r\n                // update minMinutes to default value, to be able to choose whole range of values\r\n                if (this.d.lastSelectedDate) {\r\n                    if (this.d.lastSelectedDate.getHours() > date.getHours()) {\r\n                        this.minMinutes = this.opts.minMinutes;\r\n                    }\r\n                }\r\n            },\r\n\r\n            _setMaxTimeFromDate: function (date) {\r\n                this.maxHours = date.getHours();\r\n                this.maxMinutes = date.getMinutes();\r\n\r\n                if (this.d.lastSelectedDate) {\r\n                    if (this.d.lastSelectedDate.getHours() < date.getHours()) {\r\n                        this.maxMinutes = this.opts.maxMinutes;\r\n                    }\r\n                }\r\n            },\r\n\r\n            _setDefaultMinMaxTime: function () {\r\n                var maxHours = 23,\r\n                    maxMinutes = 59,\r\n                    opts = this.opts;\r\n\r\n                this.minHours = opts.minHours < 0 || opts.minHours > maxHours ? 0 : opts.minHours;\r\n                this.minMinutes = opts.minMinutes < 0 || opts.minMinutes > maxMinutes ? 0 : opts.minMinutes;\r\n                this.maxHours = opts.maxHours < 0 || opts.maxHours > maxHours ? maxHours : opts.maxHours;\r\n                this.maxMinutes = opts.maxMinutes < 0 || opts.maxMinutes > maxMinutes ? maxMinutes : opts.maxMinutes;\r\n            },\r\n\r\n            /**\r\n             * Looks for min/max hours/minutes and if current values\r\n             * are out of range sets valid values.\r\n             * @private\r\n             */\r\n            _validateHoursMinutes: function (date) {\r\n                if (this.hours < this.minHours) {\r\n                    this.hours = this.minHours;\r\n                } else if (this.hours > this.maxHours) {\r\n                    this.hours = this.maxHours;\r\n                }\r\n\r\n                if (this.minutes < this.minMinutes) {\r\n                    this.minutes = this.minMinutes;\r\n                } else if (this.minutes > this.maxMinutes) {\r\n                    this.minutes = this.maxMinutes;\r\n                }\r\n            },\r\n\r\n            _buildHTML: function () {\r\n                var lz = dp.getLeadingZeroNum,\r\n                    data = {\r\n                        hourMin: this.minHours,\r\n                        hourMax: lz(this.maxHours),\r\n                        hourStep: this.opts.hoursStep,\r\n                        hourValue: this.hours,\r\n                        hourVisible: lz(this.displayHours),\r\n                        minMin: this.minMinutes,\r\n                        minMax: lz(this.maxMinutes),\r\n                        minStep: this.opts.minutesStep,\r\n                        minValue: lz(this.minutes)\r\n                    },\r\n                    _template = dp.template(template, data);\r\n\r\n                this.$timepicker = $(_template).appendTo(this.d.$datepicker);\r\n                this.$ranges = $('[type=\"range\"]', this.$timepicker);\r\n                this.$hours = $('[name=\"hours\"]', this.$timepicker);\r\n                this.$minutes = $('[name=\"minutes\"]', this.$timepicker);\r\n                this.$hoursText = $('.datepicker--time-current-hours', this.$timepicker);\r\n                this.$minutesText = $('.datepicker--time-current-minutes', this.$timepicker);\r\n\r\n                if (this.d.ampm) {\r\n                    this.$ampm = $('<span class=\"datepicker--time-current-ampm\">')\r\n                        .appendTo($('.datepicker--time-current', this.$timepicker))\r\n                        .html(this.dayPeriod);\r\n\r\n                    this.$timepicker.addClass('-am-pm-');\r\n                }\r\n            },\r\n\r\n            _updateCurrentTime: function () {\r\n                var h = dp.getLeadingZeroNum(this.displayHours),\r\n                    m = dp.getLeadingZeroNum(this.minutes);\r\n\r\n                this.$hoursText.html(h);\r\n                this.$minutesText.html(m);\r\n\r\n                if (this.d.ampm) {\r\n                    this.$ampm.html(this.dayPeriod);\r\n                }\r\n            },\r\n\r\n            _updateRanges: function () {\r\n                this.$hours.attr({\r\n                    min: this.minHours,\r\n                    max: this.maxHours\r\n                }).val(this.hours);\r\n\r\n                this.$minutes.attr({\r\n                    min: this.minMinutes,\r\n                    max: this.maxMinutes\r\n                }).val(this.minutes)\r\n            },\r\n\r\n            /**\r\n             * Sets minHours, minMinutes etc. from date. If date is not passed, than sets\r\n             * values from options\r\n             * @param [date] {object} - Date object, to get values from\r\n             * @private\r\n             */\r\n            _handleDate: function (date) {\r\n                this._setDefaultMinMaxTime();\r\n                if (date) {\r\n                    if (dp.isSame(date, this.d.opts.minDate)) {\r\n                        this._setMinTimeFromDate(this.d.opts.minDate);\r\n                    } else if (dp.isSame(date, this.d.opts.maxDate)) {\r\n                        this._setMaxTimeFromDate(this.d.opts.maxDate);\r\n                    }\r\n                }\r\n\r\n                this._validateHoursMinutes(date);\r\n            },\r\n\r\n            update: function () {\r\n                this._updateRanges();\r\n                this._updateCurrentTime();\r\n            },\r\n\r\n            /**\r\n             * Calculates valid hour value to display in text input and datepicker's body.\r\n             * @param date {Date|Number} - date or hours\r\n             * @param [ampm] {Boolean} - 12 hours mode\r\n             * @returns {{hours: *, dayPeriod: string}}\r\n             * @private\r\n             */\r\n            _getValidHoursFromDate: function (date, ampm) {\r\n                var d = date,\r\n                    hours = date;\r\n\r\n                if (date instanceof Date) {\r\n                    d = dp.getParsedDate(date);\r\n                    hours = d.hours;\r\n                }\r\n\r\n                var _ampm = ampm || this.d.ampm,\r\n                    dayPeriod = 'am';\r\n\r\n                if (_ampm) {\r\n                    switch (true) {\r\n                        case hours == 0:\r\n                            hours = 12;\r\n                            break;\r\n                        case hours == 12:\r\n                            dayPeriod = 'pm';\r\n                            break;\r\n                        case hours > 11:\r\n                            hours = hours - 12;\r\n                            dayPeriod = 'pm';\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                }\r\n\r\n                return {\r\n                    hours: hours,\r\n                    dayPeriod: dayPeriod\r\n                }\r\n            },\r\n\r\n            set hours(val) {\r\n                this._hours = val;\r\n\r\n                var displayHours = this._getValidHoursFromDate(val);\r\n\r\n                this.displayHours = displayHours.hours;\r\n                this.dayPeriod = displayHours.dayPeriod;\r\n            },\r\n\r\n            get hours() {\r\n                return this._hours;\r\n            },\r\n\r\n            //  Events\r\n            // -------------------------------------------------\r\n\r\n            _onChangeRange: function (e) {\r\n                var $target = $(e.target),\r\n                    name = $target.attr('name');\r\n\r\n                this.d.timepickerIsActive = true;\r\n\r\n                this[name] = $target.val();\r\n                this._updateCurrentTime();\r\n                this.d._trigger('timeChange', [this.hours, this.minutes]);\r\n\r\n                this._handleDate(this.d.lastSelectedDate);\r\n                this.update()\r\n            },\r\n\r\n            _onSelectDate: function (e, data) {\r\n                this._handleDate(data);\r\n                this.update();\r\n            },\r\n\r\n            _onMouseEnterRange: function (e) {\r\n                var name = $(e.target).attr('name');\r\n                $('.datepicker--time-current-' + name, this.$timepicker).addClass('-focus-');\r\n            },\r\n\r\n            _onMouseOutRange: function (e) {\r\n                var name = $(e.target).attr('name');\r\n                if (this.d.inFocus) return; // Prevent removing focus when mouse out of range slider\r\n                $('.datepicker--time-current-' + name, this.$timepicker).removeClass('-focus-');\r\n            },\r\n\r\n            _onMouseUpRange: function (e) {\r\n                this.d.timepickerIsActive = false;\r\n            }\r\n        };\r\n    })();\r\n})(window, jQuery);","class Burger {\r\n  constructor(burger) {\r\n    this.burger = burger;\r\n    this._getElems()\r\n    this._bindEvents();\r\n  }\r\n  _getElems() {\r\n    this.nav = this.burger.parentNode.querySelector('.js-header-nav');\r\n  }\r\n  _bindEvents() {\r\n    this.burger.addEventListener('click', this._handleBurgerClick.bind(this));\r\n  }\r\n  _handleBurgerClick(e) {\r\n    this.burger.classList.toggle('burger_is-opened');\r\n    this.nav.classList.toggle('burger_is-opened');\r\n  }\r\n}\r\nexport default Burger;","import Burger from './burger-class.js';\r\ndocument.querySelectorAll('.js-header-burger').forEach(elem => new Burger(elem));","class SubLinks {\r\n\r\n  constructor(arrow) {\r\n    this.subMenuArrow = arrow;\r\n    this._bindEvents();\r\n  }\r\n\r\n  _bindEvents() {\r\n    this.subMenuArrow.addEventListener('click', this._handleMenuArrow.bind(this));\r\n    document.addEventListener('click', this._handleClickOutsideSublinks.bind(this));\r\n  }\r\n\r\n  _handleMenuArrow(e) {\r\n    this.subMenuArrow.nextElementSibling.classList.toggle('list-links__sub-links_is-visible');\r\n    this._toggleArrow();\r\n  }\r\n\r\n  _toggleArrow() {\r\n    if (this.subMenuArrow.innerText === 'keyboard_arrow_down') {\r\n      this.subMenuArrow.innerText = 'keyboard_arrow_up';\r\n    }\r\n    else if (this.subMenuArrow.innerText === 'keyboard_arrow_up') {\r\n      this.subMenuArrow.innerText = 'keyboard_arrow_down';\r\n    }\r\n  }\r\n\r\n  _handleClickOutsideSublinks(e) {\r\n    const target = e.target;\r\n    const itIsSublinks = target === this.subMenuArrow \r\n    || this.subMenuArrow.nextElementSibling.contains(target);\r\n    if (!itIsSublinks) {\r\n      this._hideSubLinks();\r\n    }\r\n  }\r\n\r\n  _hideSubLinks() {\r\n    this.subMenuArrow.nextElementSibling.classList.remove('list-links__sub-links_is-visible');\r\n    this.subMenuArrow.innerText = 'keyboard_arrow_down';\r\n  }\r\n  \r\n}\r\nexport default SubLinks;\r\n\r\n\r\n\r\n\r\n","import SubLinks from './sublinks-class.js';\r\ndocument.querySelectorAll('.js-list-links__arrow').forEach(elem=>new SubLinks(elem));","import './fsd-datepicker.js';\r\nclass DropdownDate {\r\n\r\n  constructor(rootElem) {\r\n    this.rootElem = rootElem;\r\n    this._getElems();\r\n    this._init();\r\n    this._bindEvents();\r\n  }\r\n\r\n  _getElems() {\r\n    this.startInput = this.rootElem.querySelectorAll(\".dropdown__input\")[0];\r\n    this.endInput = this.rootElem.querySelectorAll(\".dropdown__input\")[1];\r\n    this.$dpInput = $(this.startInput);\r\n    this.$endInput = $(this.endInput);\r\n    this.arrows = this.rootElem.querySelectorAll('.dropdown__arrow');\r\n    this.startDropdownArrow = this.arrows[0];\r\n    this.endDropdownArrow = this.arrows[1];\r\n  }\r\n\r\n  _bindEvents() {\r\n    this.startDropdownArrow.addEventListener('click', this._handlerStartArrowDropdown.bind(this));\r\n    this.endDropdownArrow.addEventListener('click', this._handlerEndArrowDropdown.bind(this));\r\n    this.endInput.addEventListener('click', this._handlerEndInputDropdown.bind(this));\r\n  }\r\n\r\n  _init() {\r\n    this.$dpInput.\r\n    fsdDatepicker({\r\n      applyButton: true,\r\n      clearButton: true, \r\n      range: true,\r\n      multipleDatesSeparator: '     ',\r\n      onSelect: function (fd, d, picker) {\r\n        const $leftDatepicker = picker.$el;\r\n        const $rightDatepicker = picker.$el.parent().parent().children().last().children().first();\r\n        $leftDatepicker.val(fd.split('     ')[0]);\r\n        $rightDatepicker.val(fd.split('     ')[1]);\r\n        if (fd.length === 0) {\r\n          $rightDatepicker.val('');\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  _handlerStartArrowDropdown() {\r\n    this.$dpInput.fsdDatepicker().data('fsd-datepicker').show();\r\n  }\r\n\r\n  _handlerEndArrowDropdown() {\r\n    this.$dpInput.fsdDatepicker().data('fsd-datepicker').show();\r\n  }\r\n\r\n  _handlerEndInputDropdown(){\r\n    this.$dpInput.fsdDatepicker().data('fsd-datepicker').show();\r\n  }\r\n  \r\n}\r\nexport default DropdownDate;","import './fsd-datepicker.js';\r\nclass DropdownFilter {\r\n\r\n  constructor(rootElem) {\r\n    this.rootElem = rootElem;\r\n    this._getElems();\r\n    this._init();\r\n    this._bindEvents();\r\n  }\r\n\r\n  _getElems() {\r\n    this.inputWrapper = this.rootElem.querySelector(\".dropdown__input-wrapper\");\r\n    this.arrow = this.rootElem.querySelector('.dropdown__arrow');\r\n  }\r\n\r\n  _bindEvents() {\r\n    this.inputWrapper.addEventListener('click', this._handlerArrowDropdown.bind(this));\r\n  }\r\n\r\n  _init() {\r\n    this.$dpInput = $('.dropdown_filter input');\r\n    this.$dpInput.fsdDatepicker({\r\n      applyButton: true,\r\n      clearButton: true,\r\n      range: true,\r\n      dateFormat: 'dd M',\r\n      onSelect: function (fd, d, picker) {\r\n        picker.$el.val(fd);\r\n        if (fd.length === 0) {\r\n          picker.$el.val('');\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  _handlerArrowDropdown() {\r\n    this.$dpInput.fsdDatepicker().data('fsd-datepicker').show();\r\n  }\r\n  \r\n}\r\nexport default DropdownFilter;","class DropdownCounter {\r\n\r\n  constructor(container) {\r\n    this.container = container;\r\n    this._getElements();\r\n    this._bindEvents();\r\n  }\r\n\r\n  _getElements() {\r\n    this.minus = this.container.querySelector('.js-container-dropdown__decrease');\r\n    this.plus = this.container.querySelector('.js-container-dropdown__increase');\r\n    this.value = this.container.querySelector('.js-container-dropdown__value');\r\n    this.valueNumber = parseInt(this.value.textContent, 10);\r\n  }\r\n\r\n  _bindEvents() {\r\n    this.minus.addEventListener('click', this._handleMinus.bind(this));\r\n    this.plus.addEventListener('click', this._handlePlus.bind(this));\r\n  }\r\n\r\n  _handleMinus() {\r\n    if (this.valueNumber > 0) {\r\n      this.valueNumber--;\r\n      this.value.innerHTML = this.valueNumber;\r\n      this.container.dispatchEvent(new CustomEvent(\"counterChanged\", { bubbles: true }));\r\n    }\r\n    if (this.valueNumber === 0) {\r\n      this.minus.classList.remove('container-dropdown__decrease_dark');\r\n    }\r\n  }\r\n\r\n  _handlePlus() {\r\n    this.valueNumber++;\r\n    this.value.innerHTML = this.valueNumber;\r\n    this.minus.classList.add('container-dropdown__decrease_dark');\r\n    this.container.dispatchEvent(new CustomEvent(\"counterChanged\", { bubbles: true }));\r\n  }\r\n\r\n  getData() {\r\n    return this.valueNumber;\r\n  }\r\n\r\n  resetData() {\r\n    this.value.innerHTML = '0';\r\n    this.valueNumber = 0;\r\n    this.minus.classList.remove('container-dropdown__decrease_dark');\r\n  }\r\n  \r\n}\r\n\r\nexport default DropdownCounter;","import DropdownCounter from \"../dropdown-counter/dropdown-counter\";\r\n\r\nclass DropdownCount {\r\n\r\n  constructor(rootElem) {\r\n    this.data = 0;\r\n    this.dropdownType = '';\r\n    this.spellCases = {};\r\n    this.dropdownCounters = [];\r\n    this.rootElem = rootElem;\r\n    this._getElems();\r\n    this._bindEvents();\r\n  }\r\n\r\n  _getElems() {\r\n    this.spellCases = {\r\n      guests: ['гость', 'гостя', 'гостей'],\r\n      infants: ['младенец', 'младенца', 'младенцев'],\r\n      bedrooms: ['спальня', 'спальни', 'спален'],\r\n      beds: ['кровать', 'кровати', 'кроватей'],\r\n      baths: ['ванная комната', 'ванные комнаты', 'ванных комнат'],\r\n    };\r\n    this.arrow = this.rootElem.querySelector('.dropdown__arrow');\r\n    this.input = this.rootElem.querySelector('.dropdown__input');\r\n    this.inputWrapper = this.rootElem.querySelector('.dropdown__input-wrapper');\r\n    this.body = this.rootElem.querySelector('.dropdown__body');\r\n    this.counters = this.rootElem.querySelectorAll('.dropdown-counter');\r\n    if (this.rootElem.classList.contains('dropdown_room')) {\r\n      this.dropdownType = 'room';\r\n    } else if (this.rootElem.classList.contains('dropdown_guests')) {\r\n      this.dropdownType = 'guests';\r\n      this.applyButton = this.rootElem.querySelector('.js-dropdown__body-buttons').lastChild;\r\n      this.clearButton = this.rootElem.querySelector('.js-dropdown__body-buttons').firstChild;\r\n      this._checkIfClearButtonMustBeShown();\r\n    }\r\n    this.counters.forEach(elem => {\r\n      this.dropdownCounters.push(new DropdownCounter(elem));\r\n    });\r\n\r\n  }\r\n\r\n  showDropdown() {\r\n    this.rootElem.classList.add('dropdown_is-opened');\r\n    this.body.classList.add('dropdown_is-opened');\r\n  }\r\n\r\n  hideDropdown() {\r\n    this.rootElem.classList.remove('dropdown_is-opened');\r\n    this.body.classList.remove('dropdown_is-opened');\r\n  }\r\n\r\n  _bindEvents() {\r\n    this.inputWrapper.addEventListener('click', this._handleDropdown.bind(this));\r\n    if (this.dropdownType === 'guests') {\r\n      this.clearButton.addEventListener('click', this._handleClearButton.bind(this));\r\n      this.applyButton.addEventListener('click', this._handleApplyButton.bind(this));\r\n    }\r\n    this.rootElem.addEventListener('counterChanged', this._handleCounter.bind(this));\r\n    document.addEventListener('click', this._handleClickOutsideDropdown.bind(this));\r\n  }\r\n\r\n  _handleClickOutsideDropdown(e) {\r\n    const target = e.target;\r\n    const itIsDropdown = target === this.rootElem || this.rootElem.contains(target);\r\n    if (!itIsDropdown) {\r\n      this.hideDropdown();\r\n    }\r\n  }\r\n\r\n  _handleCounter() {\r\n    if (this.dropdownType === 'guests') {\r\n      this._checkIfClearButtonMustBeShown();\r\n    }\r\n    if (this.dropdownType === 'room') {\r\n      this._setData(this._collectData());\r\n    }\r\n  }\r\n\r\n  _handleDropdown() {\r\n    if (this.rootElem.classList.contains('dropdown_is-opened')) {\r\n      this.hideDropdown();\r\n    } else {\r\n      this.showDropdown();\r\n      this._checkIfClearButtonMustBeShown();\r\n    }\r\n  }\r\n\r\n  _handleApplyButton() {\r\n    let result = this._collectData();\r\n    this._setData(result);\r\n    this.hideDropdown();\r\n    this._checkIfClearButtonMustBeShown();\r\n  }\r\n\r\n  _handleClearButton() {\r\n    this._clearData();\r\n    this._hideClearButton();\r\n  }\r\n\r\n  _collectData() {\r\n    if (this.dropdownType === 'guests') {\r\n      let guests = {};\r\n      guests.total = 0;\r\n      guests.infants = 0;\r\n      for (let i = 0; i < this.dropdownCounters.length; i++) {\r\n        guests.total += this.dropdownCounters[i].getData();\r\n        if (i === this.dropdownCounters.length - 1) {\r\n          guests.infants = this.dropdownCounters[i].getData();\r\n        }\r\n      }\r\n      return guests;\r\n    }\r\n    else {\r\n      let room = {};\r\n      room.bedrooms = this.dropdownCounters[0].getData();\r\n      room.beds = this.dropdownCounters[1].getData();\r\n      room.baths = this.dropdownCounters[2].getData();\r\n      room.total = room.bedrooms + room.beds + room.baths;\r\n      return room;\r\n    }\r\n  }\r\n\r\n  _getPosInSpellCasesArray(result) {\r\n    const cases = [2, 0, 1, 1, 1, 2];\r\n    return ((result % 100) > 4 && (result % 100) < 20) ? 2 : cases[(result % 10 < 5) ? result % 10 : 5];\r\n  }\r\n\r\n  _setData(result) {\r\n    if (this.dropdownType === 'guests') {\r\n      let temp = '';\r\n      temp = result.total + \" \" + this.spellCases.guests[this._getPosInSpellCasesArray(result.total)];\r\n      if (result.infants > 0) {\r\n        temp += ',  ' + result.infants + \" \" + this.spellCases.infants[this._getPosInSpellCasesArray(result.infants)];\r\n      }\r\n      if (result.total === 0) {\r\n        temp = '';\r\n      }\r\n      this.input.value = temp;\r\n    }\r\n    else {\r\n      let temp = '';\r\n      if (result.bedrooms > 0) {\r\n        temp += result.bedrooms + \" \" + this.spellCases.bedrooms[this._getPosInSpellCasesArray(result.bedrooms)];\r\n      }\r\n      if (result.beds > 0) {\r\n        if (temp.length > 0) {\r\n          temp += \",  \" + result.beds + \" \" + this.spellCases.beds[this._getPosInSpellCasesArray(result.beds)];\r\n        }\r\n        else temp += result.beds + \" \" + this.spellCases.beds[this._getPosInSpellCasesArray(result.beds)];\r\n      }\r\n      if (result.baths > 0) {\r\n        if (temp.length > 0) {\r\n          temp += \",  \" + result.baths + \" \" + this.spellCases.baths[this._getPosInSpellCasesArray(result.baths)];\r\n        }\r\n        else temp += result.baths + \" \" + this.spellCases.baths[this._getPosInSpellCasesArray(result.baths)];\r\n      }\r\n      temp += '...';\r\n      if (result.total === 0) {\r\n        temp = '';\r\n      }\r\n      this.input.value = temp;\r\n    }\r\n  }\r\n\r\n  _clearData() {\r\n    this.input.value = \"\";\r\n    this.dropdownCounters.forEach(elem => {\r\n      elem.resetData();\r\n    });\r\n  }\r\n\r\n  _showClearButton() {\r\n    this.clearButton.classList.remove('buttons-dropdown_hidden');\r\n  }\r\n\r\n  _hideClearButton() {\r\n    this.clearButton.classList.add('buttons-dropdown_hidden');\r\n  }\r\n\r\n  _checkIfClearButtonMustBeShown() {\r\n    if(this.dropdownType==='guests'){\r\n      if (this._collectData().total > 0) {\r\n        this._showClearButton();\r\n      }\r\n      else {\r\n        this._hideClearButton();\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\nexport default DropdownCount;","import DropdownMain from './dropdown-main.js';\r\nconst dropdown = new DropdownMain(document.querySelectorAll('.js-dropdown'));\r\n","import DropdownDate from './dropdown-date';\r\nimport DropdownCount from './dropdown-count';\r\nimport DropdownFilter from './dropdown-filter';\r\n\r\nclass DropdownMain {\r\n\r\n  constructor(rootElems) {\r\n    this.rootElems = rootElems;\r\n    this._initDropdowns();\r\n  }\r\n\r\n  _initDropdowns() {\r\n    this.rootElems.forEach(elem => {\r\n      if (elem.classList.contains('dropdown_filter-date')) {\r\n        new DropdownDate(elem);\r\n      }\r\n      else if (elem.classList.contains('dropdown_filter')) {\r\n        new DropdownFilter(elem);\r\n      }\r\n      else {\r\n        new DropdownCount(elem);\r\n      };\r\n    });\r\n  }\r\n  \r\n}\r\nexport default DropdownMain;","class ExpandableCL {\r\n\r\n  constructor(bulletList) {\r\n    this.bulletList = bulletList;\r\n    this._getElems();\r\n    this._bindEvents();\r\n  }\r\n\r\n  _getElems() {\r\n    this.bulletListExpandableArrow =this.bulletList.querySelector('.js-bullet-list-expandable__arrow');\r\n    this.bulletListDropdown = this.bulletList.querySelector('.js-bullet-list-expandable__dropdown');\r\n  }\r\n\r\n  _bindEvents() {\r\n    this.bulletList.addEventListener('click', this._handleExpandableList.bind(this));\r\n  }\r\n\r\n  _handleExpandableList(event) {\r\n    this.bulletListDropdown.classList.toggle('bullet-list_is-opened');\r\n    this._toggleArrow();\r\n  }\r\n\r\n  _toggleArrow() {\r\n    if (this.bulletListExpandableArrow.innerText === 'keyboard_arrow_down') {\r\n      this.bulletListExpandableArrow.innerText = 'keyboard_arrow_up';\r\n    }\r\n    else if (this.bulletListExpandableArrow.innerText === 'keyboard_arrow_up') {\r\n      this.bulletListExpandableArrow.innerText = 'keyboard_arrow_down';\r\n    }\r\n  }\r\n  \r\n}\r\nexport default ExpandableCL;","import ExpandableCL from './expandable-cl-class.js';\nconst bulletListExpandable = document.querySelectorAll('.js-bullet-list-expandable');\nbulletListExpandable.forEach(elem => new ExpandableCL(elem));","class LikeRating {\r\n\r\n  constructor(likeButton) {\r\n    this.likeButton = likeButton;\r\n    this._getElems();\r\n    this._bindEvents();\r\n  }\r\n  _bindEvents() {\r\n    this.likeButton.addEventListener('click', this._handlelikeButtonClick.bind(this));\r\n  }\r\n  _getElems() {\r\n    this.heart = this.likeButton.querySelector('.js-button-like__heart');\r\n    this.numberOfLikes = this.likeButton.querySelector('.js-button-like__number');\r\n  }\r\n  _handlelikeButtonClick(event) {\r\n    if (event.target.parentElement.classList.contains('button-like_is-liked')\r\n      || event.target.classList.contains('button-like_is-liked')) {\r\n      this.numberOfLikes.innerText--;\r\n      this.heart.innerText = 'favorite_border';\r\n      this.likeButton.classList.remove('button-like_is-liked');\r\n    }\r\n    else {\r\n      this.numberOfLikes.innerText++;\r\n      this.likeButton.classList.add('button-like_is-liked');\r\n      this.heart.innerText = 'favorite';\r\n    }\r\n  }\r\n}\r\nexport default LikeRating;","import LikeRating from '../button-like/like-rating-class.js';\nconst likeButtons = document.querySelectorAll('.js-button-like');\nlikeButtons.forEach(elem => new LikeRating(elem));","import DiagramChart from './diagram-chart.js';\r\nconst diagramChartRootElem = document.querySelector('.js-diagram-donut');\r\nconst diagramChart = new DiagramChart(diagramChartRootElem, \r\n                                      { number: 260,\r\n                                      label: 'голосов', \r\n                                      segments: \r\n                                              { perfect: 130,\r\n                                                good: 65, \r\n                                                satisfactory: 65, \r\n                                                poor: 0, \r\n                                              } \r\n                                      });","class DiagramChart {\r\n\r\n  constructor(rootElem, options) {\r\n    this.rootElem = rootElem;\r\n    this.options = this._getOptions(options);\r\n    this._initCanvas();\r\n    this._drawChart();\r\n  }\r\n\r\n  _initCanvas() {\r\n    const canvas = document.createElement('canvas');\r\n    this.rootElem.append(canvas);\r\n    canvas.width = this.options.width;\r\n    canvas.height = this.options.height;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    this.ctx = ctx;\r\n  }\r\n\r\n  _drawArc(centerX, centerY, radius, startAngle, endAngle, color) {\r\n    this.ctx.strokeStyle = color;\r\n    this.ctx.beginPath();\r\n    this.ctx.lineWidth = this.options.lineWidth;\r\n    this.ctx.arc(centerX, centerY, radius, startAngle, endAngle, false);\r\n    this.ctx.stroke();\r\n  }\r\n\r\n  _drawText(ctx, text, position, style) {\r\n    ctx.fillStyle = this.options.fontColor;\r\n    ctx.font = this.options.fontWeight + ' ' + style.fontSize + ' ' + this.options.font;\r\n    ctx.fillText(text, position.x, position.y);\r\n  }\r\n\r\n  _drawChart() {\r\n    let centerX = this.options.width / 2;\r\n    let centerY = this.options.width / 2;\r\n    let radius = (this.options.width > this.options.height)\r\n      ? (this.options.height / 2 - this.options.lineWidth)\r\n      : (this.options.width / 2 - this.options.lineWidth);\r\n    let perfectAngle = (this.options.segments.perfect / this.options.number) * 2 * Math.PI;\r\n    let goodAngle = (this.options.segments.good / this.options.number) * 2 * Math.PI;\r\n    let poorAngle = (this.options.segments.poor / this.options.number) * 2 * Math.PI;\r\n    let satisfactoryAngle = (this.options.segments.satisfactory / this.options.number) * 2 * Math.PI;\r\n    if (poorAngle != 0) {\r\n      this._drawArc(\r\n        centerX,\r\n        centerY,\r\n        radius,\r\n        this.options.initialAngle + this.options.delimeterAngle,\r\n        this.options.initialAngle + poorAngle,\r\n        this.options.backgroundColor.poor);\r\n    }\r\n    if (satisfactoryAngle != 0) {\r\n      this._drawArc(\r\n        centerX,\r\n        centerY,\r\n        radius,\r\n        this.options.initialAngle + this.options.delimeterAngle + poorAngle,\r\n        this.options.initialAngle + poorAngle + satisfactoryAngle,\r\n        this.options.backgroundColor.satisfactory);\r\n    }\r\n    if (goodAngle != 0) {\r\n      this._drawArc(\r\n        centerX,\r\n        centerY,\r\n        radius,\r\n        this.options.initialAngle + poorAngle + satisfactoryAngle + this.options.delimeterAngle,\r\n        this.options.initialAngle + poorAngle + satisfactoryAngle + goodAngle,\r\n        this.options.backgroundColor.good);\r\n    }\r\n    if (perfectAngle != 0) {\r\n      this._drawArc(\r\n        centerX,\r\n        centerY,\r\n        radius,\r\n        this.options.delimeterAngle + this.options.initialAngle + poorAngle + satisfactoryAngle + goodAngle,\r\n        this.options.initialAngle + poorAngle + satisfactoryAngle + goodAngle + perfectAngle, this.options.backgroundColor.perfect);\r\n    }\r\n  }\r\n\r\n  _getOptions(options) {\r\n    let width = options.width || 120;\r\n    let height = options.height || 120;\r\n    let font = options.font || 'Montserrat,sans-serif';\r\n    let number = options.number || 260;\r\n    let label = options.label || \"голосов\";\r\n    let defaultSegments = {\r\n      perfect: 130, good: 65, satisfactory: 65, poor: 0,\r\n    }\r\n    let segments = options.segments || defaultSegments;\r\n    let lineWidth = 4;\r\n    let fontWeight = 'bold';\r\n    let delimeterAngle = lineWidth / (width / 2);\r\n    let initialAngle = -Math.PI / 2;\r\n    let backgroundColor = {\r\n      perfect: '#FFE39C',\r\n      good: '#6FCF97',\r\n      satisfactory: '#BC9CFF',\r\n      poor: '#919191',\r\n      background: '#FFFFFF',\r\n    };\r\n    let defaultFontColor = '#BC9CFF';\r\n    let fontColor = options.fontColor || defaultFontColor;\r\n    return { width, height, number, label, segments, lineWidth, initialAngle, backgroundColor, delimeterAngle, font, fontColor, fontWeight }\r\n  }\r\n  \r\n}\r\nexport default DiagramChart;"],"sourceRoot":""}