{"version":3,"sources":["webpack:///./components/burger/burger-class.js","webpack:///./components/burger/burger.js","webpack:///./components/dropdown-counter/dropdown-counter.js","webpack:///./components/dropdown/dropdown-count.js","webpack:///./components/dropdown/dropdown-date.js","webpack:///./components/dropdown/dropdown-filter.js","webpack:///./components/dropdown/dropdown-main.js","webpack:///./components/dropdown/dropdown.js","webpack:///./components/dropdown/fsd-datepicker.js","webpack:///./components/headers/header.js","webpack:///./components/list-links/sublinks-class.js","webpack:///./components/list-links/sublinks.js"],"names":["Burger","burger","_getElems","_bindEvents","nav","parentNode","querySelector","addEventListener","_handleBurgerClick","e","classList","toggle","autobind","document","querySelectorAll","forEach","elem","DropdownCounter","container","_getElements","valueNumber","value","innerHTML","minus","remove","plus","parseInt","textContent","_handleMinus","_handlePlus","dispatchEvent","CustomEvent","bubbles","add","DropdownCount","rootElem","data","dropdownType","spellCases","dropdownCounters","body","guests","infants","bedrooms","beds","baths","arrow","input","inputWrapper","counters","contains","applyButton","lastChild","clearButton","firstChild","_checkIfClearButtonMustBeShown","push","_handleDropdown","_handleClearButton","_handleApplyButton","_handleCounter","_handleClickOutsideDropdown","target","itIsDropdown","hideDropdown","_setData","_collectData","showDropdown","result","_clearData","_hideClearButton","total","i","length","getData","room","cases","temp","_getPosInSpellCasesArray","resetData","_showClearButton","DropdownDate","_init","startInput","endInput","$dpInput","$","$endInput","arrows","startDropdownArrow","endDropdownArrow","_handlerStartArrowDropdown","_handlerEndArrowDropdown","_handlerEndInputDropdown","fsdDatepicker","range","multipleDatesSeparator","onSelect","fd","d","picker","$leftDatepicker","$el","$rightDatepicker","parent","children","last","first","val","split","show","DropdownFilter","_handlerArrowDropdown","dateFormat","DropdownMain","rootElems","_initDropdowns","dropdown","window","undefined","VERSION","pluginName","autoInitSelector","$body","$datepickersContainer","containerBuilt","baseTemplate","defaults","classes","inline","language","startDate","Date","firstDay","weekends","altField","altFieldDateFormat","toggleSelected","keyboardNav","position","offset","view","minView","showOtherMonths","selectOtherMonths","moveToOtherMonthsOnSelect","showOtherYears","selectOtherYears","moveToOtherYearsOnSelect","minDate","maxDate","disableNavWhenOutOfRange","multipleDates","showEvent","autoClose","monthsField","prevHtml","nextHtml","navTitles","days","months","years","timepicker","onlyTimepicker","dateTimeSeparator","timeFormat","minHours","maxHours","minMinutes","maxMinutes","hoursStep","minutesStep","onShow","onHide","onChangeMonth","onChangeYear","onChangeDecade","onChangeView","onRenderCell","hotKeys","Datepicker","el","options","opts","extend","nodeName","elIsInput","$altField","inited","visible","silent","currentDate","currentView","_createShortCuts","selectedDates","views","keys","minRange","maxRange","_prevOnSelectValue","init","prototype","viewIndexes","_buildDatepickersContainer","_buildBaseHtml","_defineLocale","_syncWithMinMaxDates","_setPositionClasses","_bindKeyboardEvents","$datepicker","on","_onMouseDownDatepicker","bind","_onMouseUpDatepicker","addClass","fn","datepicker","Timepicker","_bindTimepickerEvents","Body","Navigation","_onClickCell","_onMouseEnterCell","_onMouseLeaveCell","_onShowEvent","_onMouseUpEl","_onBlur","_onKeyUpGeneral","_onResize","_onMouseUpBody","_onKeyDown","_onKeyUp","_onHotKey","_onTimeChange","isWeekend","day","indexOf","lang","loc","console","warn","ru","join","boundary","_getWordBoundaryRegExp","match","ampm","append","$appendTarget","$inline","insertAfter","appendTo","$content","$nav","_triggerOnChange","parsedSelected","getParsedDate","formattedDates","_this","dates","year","month","date","hours","minutes","map","formatDate","parsedDate","next","o","curDecade","prev","string","locale","leadingZero","getLeadingZeroNum","decade","getDecade","fullHours","dayPeriod","replacer","_replacer","validHours","_getValidHoursFromDate","test","replace","getTime","toUpperCase","fullDate","daysShort","fullMonth","monthsShort","fullMinutes","toString","slice","str","reg","p1","p2","p3","sign","symbols","RegExp","selectDate","len","newDate","Array","isArray","lastSelectedDate","_setTime","_trigger","setHours","setMinutes","getMonth","getFullYear","_render","_isSelected","bigger","timepickerIsActive","hide","removeDate","selected","some","curDate","isSame","splice","_setInputValue","apply","clear","update","param","arguments","_addButtonsIfNeed","setPosition","_handleDate","_updateRanges","_updateCurrentTime","curTime","minTime","maxTime","checkDate","cellType","res","format","altFormat","altValues","dateValue","_isInRange","type","time","min","max","dMinTime","dMaxTime","types","_getDimensions","width","outerWidth","height","outerHeight","left","top","_getDateFromCell","cell","pos","main","sec","removeAttr","dims","selfDims","secondary","css","_bindVisionEvents","removeClass","focused","inFocus","blur","down","_changeView","up","event","off","one","dir","nextView","viewIndex","_handleHotKey","key","_getFocusedDate","focusedParsed","totalDaysInNextMonth","monthChanged","yearChanged","decadeChanged","y","m","getDaysCount","_registerKey","exists","curKey","_unRegisterKey","index","_isHotKeyPressed","currentHotKey","found","pressedKeys","sort","hotKey","every","args","trigger","_focusNextCell","keyCode","nd","getDate","_getCell","selector","$cell","find","destroy","closest","_handleAlreadySelectedDates","alreadySelected","selectedDate","originalEvent","timepickerFocus","focus","setTimeout","code","which","preventDefault","hasClass","less","_update","h","_focused","prevView","substring","getDay","getHours","getMinutes","firstYear","Math","floor","template","source","date1","date2","d1","d2","_type","conditions","dateCompareTo","num","resetTime","each","Constructor","daysMin","templates","dp","proxy","$names","$cells","_getDayNamesHtml","curDay","html","_getCellContents","render","disabled","_getDaysHtml","totalMonthDays","firstMonthDay","lastMonthDay","daysFromPevMonth","daysFromNextMonth","startDayIndex","_getDayHtml","content","_getMonthsHtml","_getMonthHtml","_getYearsHtml","_getYearHtml","_renderTypes","dayNames","attr","acitve","active","_handleClick","buttonsContainerTemplate","button","$buttonsContainer","_onClickNavButton","_onClickNavTitle","_addButton","title","_getTitle","setNavStatus","_addButtonsContainer","action","label","_disableNav","_activateNav","inst","_buildHTML","navigator","userAgent","_onSelectDate","$ranges","_onChangeRange","_onMouseUpRange","_onMouseEnterRange","_onMouseOutRange","_date","_setMinTimeFromDate","_setMaxTimeFromDate","_setDefaultMinMaxTime","_validateHoursMinutes","lz","hourMin","hourMax","hourStep","hourValue","hourVisible","displayHours","minMin","minMax","minStep","minValue","_template","$timepicker","$hours","$minutes","$hoursText","$minutesText","$ampm","_ampm","_hours","$target","name","jQuery","SubLinks","subMenuArrow","_handleMenuArrow","_handleClickOutsideSublinks","nextElementSibling","_toggleArrow","innerText","itIsSublinks","_hideSubLinks"],"mappings":"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","file":"./js/UIKit~details~landing~search.5558ca975b4143e8fd31.js","sourcesContent":["import autobind  from 'autobind-decorator';\r\nclass Burger {\r\n\r\n  constructor(burger) {\r\n    this.burger = burger;\r\n    this._getElems()\r\n    this._bindEvents();\r\n  }\r\n\r\n  _getElems() {\r\n    this.nav = this.burger.parentNode.querySelector('.js-header-nav');\r\n  }\r\n\r\n  _bindEvents() {\r\n    this.burger.addEventListener('click', this._handleBurgerClick);\r\n  }\r\n  \r\n  @autobind\r\n  _handleBurgerClick(e) {\r\n    this.burger.classList.toggle('burger_is-opened');\r\n    this.nav.classList.toggle('burger_is-opened');\r\n  }\r\n  \r\n}\r\nexport default Burger;","import Burger from '@/components/burger/burger-class.js';\r\n\r\ndocument.querySelectorAll('.js-header-burger').forEach(elem => new Burger(elem));","import autobind from \"autobind-decorator\";\r\n\r\nclass DropdownCounter {\r\n\r\n  constructor(container) {\r\n    this.container = container;\r\n    this._getElements();\r\n    this._bindEvents();\r\n  }\r\n\r\n  getData() {\r\n    return this.valueNumber;\r\n  }\r\n\r\n  resetData() {\r\n    this.value.innerHTML = '0';\r\n    this.valueNumber = 0;\r\n    this.minus.classList.remove('container-dropdown__decrease_dark');\r\n  }\r\n\r\n  _getElements() {\r\n    this.minus = this.container.querySelector('.js-container-dropdown__decrease');\r\n    this.plus = this.container.querySelector('.js-container-dropdown__increase');\r\n    this.value = this.container.querySelector('.js-container-dropdown__value');\r\n    this.valueNumber = parseInt(this.value.textContent, 10);\r\n  }\r\n\r\n  _bindEvents() {\r\n    this.minus.addEventListener('click', this._handleMinus);\r\n    this.plus.addEventListener('click', this._handlePlus);\r\n  }\r\n\r\n  @autobind\r\n  _handleMinus() {\r\n    if (this.valueNumber > 0) {\r\n      this.valueNumber--;\r\n      this.value.innerHTML = this.valueNumber;\r\n      this.container.dispatchEvent(new CustomEvent(\"counterChanged\", { bubbles: true }));\r\n    }\r\n    if (this.valueNumber === 0) {\r\n      this.minus.classList.remove('container-dropdown__decrease_dark');\r\n    }\r\n  }\r\n\r\n  @autobind\r\n  _handlePlus() {\r\n    this.valueNumber++;\r\n    this.value.innerHTML = this.valueNumber;\r\n    this.minus.classList.add('container-dropdown__decrease_dark');\r\n    this.container.dispatchEvent(new CustomEvent(\"counterChanged\", { bubbles: true }));\r\n  }\r\n  \r\n}\r\n\r\nexport default DropdownCounter;","import autobind from 'autobind-decorator';\r\nimport DropdownCounter from '@/components/dropdown-counter/dropdown-counter';\r\n\r\nclass DropdownCount {\r\n\r\n  constructor(rootElem) {\r\n    this.data = 0;\r\n    this.dropdownType = '';\r\n    this.spellCases = {};\r\n    this.dropdownCounters = [];\r\n    this.rootElem = rootElem;\r\n    this._getElems();\r\n    this._bindEvents();\r\n  }\r\n\r\n  showDropdown() {\r\n    this.rootElem.classList.add('dropdown_is-opened');\r\n    this.body.classList.add('dropdown_is-opened');\r\n  }\r\n\r\n  hideDropdown() {\r\n    this.rootElem.classList.remove('dropdown_is-opened');\r\n    this.body.classList.remove('dropdown_is-opened');\r\n  }\r\n\r\n  _getElems() {\r\n    this.spellCases = {\r\n      guests: ['гость', 'гостя', 'гостей'],\r\n      infants: ['младенец', 'младенца', 'младенцев'],\r\n      bedrooms: ['спальня', 'спальни', 'спален'],\r\n      beds: ['кровать', 'кровати', 'кроватей'],\r\n      baths: ['ванная комната', 'ванные комнаты', 'ванных комнат'],\r\n    };\r\n    this.arrow = this.rootElem.querySelector('.dropdown__arrow');\r\n    this.input = this.rootElem.querySelector('.dropdown__input');\r\n    this.inputWrapper = this.rootElem.querySelector('.dropdown__input-wrapper');\r\n    this.body = this.rootElem.querySelector('.dropdown__body');\r\n    this.counters = this.rootElem.querySelectorAll('.dropdown-counter');\r\n    if (this.rootElem.classList.contains('dropdown_room')) {\r\n      this.dropdownType = 'room';\r\n    } else if (this.rootElem.classList.contains('dropdown_guests')) {\r\n      this.dropdownType = 'guests';\r\n      this.applyButton = this.rootElem.querySelector('.js-dropdown__body-buttons').lastChild;\r\n      this.clearButton = this.rootElem.querySelector('.js-dropdown__body-buttons').firstChild;\r\n      this._checkIfClearButtonMustBeShown();\r\n    }\r\n    this.counters.forEach(elem => {\r\n      this.dropdownCounters.push(new DropdownCounter(elem));\r\n    });\r\n\r\n  }\r\n\r\n  _bindEvents() {\r\n    this.inputWrapper.addEventListener('click', this._handleDropdown);\r\n    if (this.dropdownType === 'guests') {\r\n      this.clearButton.addEventListener('click', this._handleClearButton);\r\n      this.applyButton.addEventListener('click', this._handleApplyButton);\r\n    }\r\n    this.rootElem.addEventListener('counterChanged', this._handleCounter);\r\n    document.addEventListener('click', this._handleClickOutsideDropdown);\r\n  }\r\n\r\n  @autobind\r\n  _handleClickOutsideDropdown(e) {\r\n    const target = e.target;\r\n    const itIsDropdown = target === this.rootElem || this.rootElem.contains(target);\r\n    if (!itIsDropdown) {\r\n      this.hideDropdown();\r\n    }\r\n  }\r\n\r\n  @autobind\r\n  _handleCounter() {\r\n    if (this.dropdownType === 'guests') {\r\n      this._checkIfClearButtonMustBeShown();\r\n    }\r\n    if (this.dropdownType === 'room') {\r\n      this._setData(this._collectData());\r\n    }\r\n  }\r\n\r\n  @autobind\r\n  _handleDropdown() {\r\n    if (this.rootElem.classList.contains('dropdown_is-opened')) {\r\n      this.hideDropdown();\r\n    } else {\r\n      this.showDropdown();\r\n      this._checkIfClearButtonMustBeShown();\r\n    }\r\n  }\r\n\r\n  @autobind\r\n  _handleApplyButton() {\r\n    let result = this._collectData();\r\n    this._setData(result);\r\n    this.hideDropdown();\r\n    this._checkIfClearButtonMustBeShown();\r\n  }\r\n\r\n  @autobind\r\n  _handleClearButton() {\r\n    this._clearData();\r\n    this._hideClearButton();\r\n  }\r\n\r\n  _collectData() {\r\n    if (this.dropdownType === 'guests') {\r\n      let guests = {};\r\n      guests.total = 0;\r\n      guests.infants = 0;\r\n      for (let i = 0; i < this.dropdownCounters.length; i++) {\r\n        guests.total += this.dropdownCounters[i].getData();\r\n        if (i === this.dropdownCounters.length - 1) {\r\n          guests.infants = this.dropdownCounters[i].getData();\r\n        }\r\n      }\r\n      return guests;\r\n    }\r\n    else {\r\n      let room = {};\r\n      room.bedrooms = this.dropdownCounters[0].getData();\r\n      room.beds = this.dropdownCounters[1].getData();\r\n      room.baths = this.dropdownCounters[2].getData();\r\n      room.total = room.bedrooms + room.beds + room.baths;\r\n      return room;\r\n    }\r\n  }\r\n\r\n  _getPosInSpellCasesArray(result) {\r\n    const cases = [2, 0, 1, 1, 1, 2];\r\n    return ((result % 100) > 4 && (result % 100) < 20) ? 2 : cases[(result % 10 < 5) ? result % 10 : 5];\r\n  }\r\n\r\n  _setData(result) {\r\n    if (this.dropdownType === 'guests') {\r\n      let temp = '';\r\n      temp = result.total + \" \" + this.spellCases.guests[this._getPosInSpellCasesArray(result.total)];\r\n      if (result.infants > 0) {\r\n        temp += ',  ' + result.infants + \" \" + this.spellCases.infants[this._getPosInSpellCasesArray(result.infants)];\r\n      }\r\n      if (result.total === 0) {\r\n        temp = '';\r\n      }\r\n      this.input.value = temp;\r\n    }\r\n    else {\r\n      let temp = '';\r\n      if (result.bedrooms > 0) {\r\n        temp += result.bedrooms + \" \" + this.spellCases.bedrooms[this._getPosInSpellCasesArray(result.bedrooms)];\r\n      }\r\n      if (result.beds > 0) {\r\n        if (temp.length > 0) {\r\n          temp += \",  \" + result.beds + \" \" + this.spellCases.beds[this._getPosInSpellCasesArray(result.beds)];\r\n        }\r\n        else temp += result.beds + \" \" + this.spellCases.beds[this._getPosInSpellCasesArray(result.beds)];\r\n      }\r\n      if (result.baths > 0) {\r\n        if (temp.length > 0) {\r\n          temp += \",  \" + result.baths + \" \" + this.spellCases.baths[this._getPosInSpellCasesArray(result.baths)];\r\n        }\r\n        else temp += result.baths + \" \" + this.spellCases.baths[this._getPosInSpellCasesArray(result.baths)];\r\n      }\r\n      temp += '...';\r\n      if (result.total === 0) {\r\n        temp = '';\r\n      }\r\n      this.input.value = temp;\r\n    }\r\n  }\r\n\r\n  _clearData() {\r\n    this.input.value = \"\";\r\n    this.dropdownCounters.forEach(elem => {\r\n      elem.resetData();\r\n    });\r\n  }\r\n\r\n  _showClearButton() {\r\n    this.clearButton.classList.remove('buttons-dropdown_hidden');\r\n  }\r\n\r\n  _hideClearButton() {\r\n    this.clearButton.classList.add('buttons-dropdown_hidden');\r\n  }\r\n\r\n  _checkIfClearButtonMustBeShown() {\r\n    if(this.dropdownType==='guests'){\r\n      if (this._collectData().total > 0) {\r\n        this._showClearButton();\r\n      }\r\n      else {\r\n        this._hideClearButton();\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\nexport default DropdownCount;","import autobind from 'autobind-decorator';\r\nimport '@/components/dropdown/fsd-datepicker.js';\r\n\r\nclass DropdownDate {\r\n\r\n  constructor(rootElem) {\r\n    this.rootElem = rootElem;\r\n    this._getElems();\r\n    this._init();\r\n    this._bindEvents();\r\n  }\r\n\r\n  _getElems() {\r\n    this.startInput = this.rootElem.querySelectorAll(\".dropdown__input\")[0];\r\n    this.endInput = this.rootElem.querySelectorAll(\".dropdown__input\")[1];\r\n    this.$dpInput = $(this.startInput);\r\n    this.$endInput = $(this.endInput);\r\n    this.arrows = this.rootElem.querySelectorAll('.dropdown__arrow');\r\n    this.startDropdownArrow = this.arrows[0];\r\n    this.endDropdownArrow = this.arrows[1];\r\n  }\r\n\r\n  _bindEvents() {\r\n    this.startDropdownArrow.addEventListener('click', this._handlerStartArrowDropdown);\r\n    this.endDropdownArrow.addEventListener('click', this._handlerEndArrowDropdown);\r\n    this.endInput.addEventListener('click', this._handlerEndInputDropdown);\r\n  }\r\n\r\n  _init() {\r\n    this.$dpInput.\r\n    fsdDatepicker({\r\n      applyButton: true,\r\n      clearButton: true, \r\n      range: true,\r\n      multipleDatesSeparator: '     ',\r\n      onSelect: function (fd, d, picker) {\r\n        const $leftDatepicker = picker.$el;\r\n        const $rightDatepicker = picker.$el.parent().parent().children().last().children().first();\r\n        $leftDatepicker.val(fd.split('     ')[0]);\r\n        $rightDatepicker.val(fd.split('     ')[1]);\r\n        if (fd.length === 0) {\r\n          $rightDatepicker.val('');\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  @autobind\r\n  _handlerStartArrowDropdown() {\r\n    this.$dpInput.fsdDatepicker().data('fsd-datepicker').show();\r\n  }\r\n\r\n  @autobind\r\n  _handlerEndArrowDropdown() {\r\n    this.$dpInput.fsdDatepicker().data('fsd-datepicker').show();\r\n  }\r\n\r\n  @autobind\r\n  _handlerEndInputDropdown(){\r\n    this.$dpInput.fsdDatepicker().data('fsd-datepicker').show();\r\n  }\r\n  \r\n}\r\nexport default DropdownDate;","import autobind from 'autobind-decorator';\r\nimport './fsd-datepicker.js';\r\n\r\nclass DropdownFilter {\r\n\r\n  constructor(rootElem) {\r\n    this.rootElem = rootElem;\r\n    this._getElems();\r\n    this._init();\r\n    this._bindEvents();\r\n  }\r\n\r\n  _getElems() {\r\n    this.inputWrapper = this.rootElem.querySelector(\".dropdown__input-wrapper\");\r\n    this.arrow = this.rootElem.querySelector('.dropdown__arrow');\r\n  }\r\n\r\n  _bindEvents() {\r\n    this.inputWrapper.addEventListener('click', this._handlerArrowDropdown);\r\n  }\r\n\r\n  _init() {\r\n    this.$dpInput = $('.dropdown_filter input');\r\n    this.$dpInput.fsdDatepicker({\r\n      applyButton: true,\r\n      clearButton: true,\r\n      range: true,\r\n      dateFormat: 'dd M',\r\n      onSelect: function (fd, d, picker) {\r\n        picker.$el.val(fd);\r\n        if (fd.length === 0) {\r\n          picker.$el.val('');\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  @autobind\r\n  _handlerArrowDropdown() {\r\n    this.$dpInput.fsdDatepicker().data('fsd-datepicker').show();\r\n  }\r\n  \r\n}\r\nexport default DropdownFilter;","import DropdownDate from './dropdown-date';\r\nimport DropdownCount from './dropdown-count';\r\nimport DropdownFilter from './dropdown-filter';\r\n\r\nclass DropdownMain {\r\n\r\n  constructor(rootElems) {\r\n    this.rootElems = rootElems;\r\n    this._initDropdowns();\r\n  }\r\n\r\n  _initDropdowns() {\r\n    this.rootElems.forEach(elem => {\r\n      if (elem.classList.contains('dropdown_filter-date')) {\r\n        new DropdownDate(elem);\r\n      }\r\n      else if (elem.classList.contains('dropdown_filter')) {\r\n        new DropdownFilter(elem);\r\n      }\r\n      else {\r\n        new DropdownCount(elem);\r\n      };\r\n    });\r\n  }\r\n  \r\n}\r\nexport default DropdownMain;","import DropdownMain from './dropdown-main.js';\r\n\r\nconst dropdown = new DropdownMain(document.querySelectorAll('.js-dropdown'));\r\n","; (function (window, $, undefined) {\r\n    ; (function () {\r\n        var VERSION = '2.2.3',\r\n            pluginName = 'fsd-datepicker',\r\n            autoInitSelector = '.fsd-datepicker-here',\r\n            $body, $datepickersContainer,\r\n            containerBuilt = false,\r\n            baseTemplate = '' +\r\n                '<div class=\"datepicker\">' +\r\n                '<i class=\"datepicker--pointer\"></i>' +\r\n                '<nav class=\"datepicker--nav\"></nav>' +\r\n                '<div class=\"datepicker--content\"></div>' +\r\n                '</div>',\r\n            defaults = {\r\n                classes: '',\r\n                inline: false,\r\n                language: 'ru',\r\n                startDate: new Date(),\r\n                firstDay: '',\r\n                weekends: [6, 0],\r\n                dateFormat: '',\r\n                altField: '',\r\n                altFieldDateFormat: '@',\r\n                toggleSelected: true,\r\n                keyboardNav: true,\r\n\r\n                position: 'bottom left',\r\n                offset: 12,\r\n\r\n                view: 'days',\r\n                minView: 'days',\r\n\r\n                showOtherMonths: true,\r\n                selectOtherMonths: true,\r\n                moveToOtherMonthsOnSelect: true,\r\n\r\n                showOtherYears: true,\r\n                selectOtherYears: true,\r\n                moveToOtherYearsOnSelect: true,\r\n\r\n                minDate: '',\r\n                maxDate: '',\r\n                disableNavWhenOutOfRange: true,\r\n\r\n                multipleDates: false, // Boolean or Number\r\n                multipleDatesSeparator: ' - ',\r\n                range: false,\r\n\r\n                applyButton: false,\r\n                clearButton: false,\r\n\r\n                showEvent: 'focus',\r\n                autoClose: false,\r\n\r\n                // navigation\r\n                monthsField: 'monthsShort',\r\n                prevHtml: 'arrow_back',\r\n                nextHtml: 'arrow_forward',\r\n                navTitles: {\r\n                    days: 'MM <i>yyyy</i>',\r\n                    months: 'yyyy',\r\n                    years: 'yyyy1 - yyyy2'\r\n                },\r\n\r\n                // timepicker\r\n                timepicker: false,\r\n                onlyTimepicker: false,\r\n                dateTimeSeparator: ' ',\r\n                timeFormat: '',\r\n                minHours: 0,\r\n                maxHours: 24,\r\n                minMinutes: 0,\r\n                maxMinutes: 59,\r\n                hoursStep: 1,\r\n                minutesStep: 1,\r\n\r\n                // events\r\n                onSelect: '',\r\n                onShow: '',\r\n                onHide: '',\r\n                onChangeMonth: '',\r\n                onChangeYear: '',\r\n                onChangeDecade: '',\r\n                onChangeView: '',\r\n                onRenderCell: ''\r\n            },\r\n            hotKeys = {\r\n                'ctrlRight': [17, 39],\r\n                'ctrlUp': [17, 38],\r\n                'ctrlLeft': [17, 37],\r\n                'ctrlDown': [17, 40],\r\n                'shiftRight': [16, 39],\r\n                'shiftUp': [16, 38],\r\n                'shiftLeft': [16, 37],\r\n                'shiftDown': [16, 40],\r\n                'altUp': [18, 38],\r\n                'altRight': [18, 39],\r\n                'altLeft': [18, 37],\r\n                'altDown': [18, 40],\r\n                'ctrlShiftUp': [16, 17, 38]\r\n            },\r\n            fsdDatepicker;\r\n\r\n        var Datepicker = function (el, options) {\r\n            this.el = el;\r\n            this.$el = $(el);\r\n\r\n            this.opts = $.extend(true, {}, defaults, options, this.$el.data());\r\n\r\n            if ($body == undefined) {\r\n                $body = $('body');\r\n            }\r\n\r\n            if (!this.opts.startDate) {\r\n                this.opts.startDate = new Date();\r\n            }\r\n\r\n            if (this.el.nodeName == 'INPUT') {\r\n                this.elIsInput = true;\r\n            }\r\n\r\n            if (this.opts.altField) {\r\n                this.$altField = typeof this.opts.altField == 'string' ? $(this.opts.altField) : this.opts.altField;\r\n            }\r\n\r\n            this.inited = false;\r\n            this.visible = false;\r\n            this.silent = false; // Need to prevent unnecessary rendering\r\n\r\n            this.currentDate = this.opts.startDate;\r\n            this.currentView = this.opts.view;\r\n            this._createShortCuts();\r\n            this.selectedDates = [];\r\n            this.views = {};\r\n            this.keys = [];\r\n            this.minRange = '';\r\n            this.maxRange = '';\r\n            this._prevOnSelectValue = '';\r\n\r\n            this.init()\r\n        };\r\n\r\n        fsdDatepicker = Datepicker;\r\n\r\n        fsdDatepicker.prototype = {\r\n            VERSION: VERSION,\r\n            viewIndexes: ['days', 'months', 'years'],\r\n\r\n            init: function () {\r\n                if (!containerBuilt && !this.opts.inline && this.elIsInput) {\r\n                    this._buildDatepickersContainer();\r\n                }\r\n                this._buildBaseHtml();\r\n                this._defineLocale(this.opts.language);\r\n                this._syncWithMinMaxDates();\r\n\r\n                if (this.elIsInput) {\r\n                    if (!this.opts.inline) {\r\n                        // Set extra classes for proper transitions\r\n                        this._setPositionClasses(this.opts.position);\r\n                        this._bindEvents()\r\n                    }\r\n                    if (this.opts.keyboardNav && !this.opts.onlyTimepicker) {\r\n                        this._bindKeyboardEvents();\r\n                    }\r\n                    this.$datepicker.on('mousedown', this._onMouseDownDatepicker.bind(this));\r\n                    this.$datepicker.on('mouseup', this._onMouseUpDatepicker.bind(this));\r\n                }\r\n\r\n                if (this.opts.classes) {\r\n                    this.$datepicker.addClass(this.opts.classes)\r\n                }\r\n\r\n                if (this.opts.timepicker) {\r\n                    this.timepicker = new $.fn.datepicker.Timepicker(this, this.opts);\r\n                    this._bindTimepickerEvents();\r\n                }\r\n\r\n                if (this.opts.onlyTimepicker) {\r\n                    this.$datepicker.addClass('-only-timepicker-');\r\n                }\r\n\r\n                this.views[this.currentView] = new $.fn.fsdDatepicker.Body(this, this.currentView, this.opts);\r\n                this.views[this.currentView].show();\r\n                this.nav = new $.fn.fsdDatepicker.Navigation(this, this.opts);\r\n                this.view = this.currentView;\r\n\r\n                this.$el.on('clickCell.adp', this._onClickCell.bind(this));\r\n                this.$datepicker.on('mouseenter', '.datepicker--cell', this._onMouseEnterCell.bind(this));\r\n                this.$datepicker.on('mouseleave', '.datepicker--cell', this._onMouseLeaveCell.bind(this));\r\n\r\n                this.inited = true;\r\n            },\r\n\r\n            _createShortCuts: function () {\r\n                this.minDate = this.opts.minDate ? this.opts.minDate : new Date(-8639999913600000);\r\n                this.maxDate = this.opts.maxDate ? this.opts.maxDate : new Date(8639999913600000);\r\n            },\r\n\r\n            _bindEvents: function () {\r\n                this.$el.on(this.opts.showEvent + '.adp', this._onShowEvent.bind(this));\r\n                this.$el.on('mouseup.adp', this._onMouseUpEl.bind(this));\r\n                this.$el.on('blur.adp', this._onBlur.bind(this));\r\n                this.$el.on('keyup.adp', this._onKeyUpGeneral.bind(this));\r\n                $(window).on('resize.adp', this._onResize.bind(this));\r\n                $('body').on('mouseup.adp', this._onMouseUpBody.bind(this));\r\n            },\r\n\r\n            _bindKeyboardEvents: function () {\r\n                this.$el.on('keydown.adp', this._onKeyDown.bind(this));\r\n                this.$el.on('keyup.adp', this._onKeyUp.bind(this));\r\n                this.$el.on('hotKey.adp', this._onHotKey.bind(this));\r\n            },\r\n\r\n            _bindTimepickerEvents: function () {\r\n                this.$el.on('timeChange.adp', this._onTimeChange.bind(this));\r\n            },\r\n\r\n            isWeekend: function (day) {\r\n                return this.opts.weekends.indexOf(day) !== -1;\r\n            },\r\n\r\n            _defineLocale: function (lang) {\r\n                if (typeof lang == 'string') {\r\n                    this.loc = $.fn.fsdDatepicker.language[lang];\r\n                    if (!this.loc) {\r\n                        console.warn('Can\\'t find language \"' + lang + '\" in Datepicker.language, will use \"ru\" instead');\r\n                        this.loc = $.extend(true, {}, $.fn.fsdDatepicker.language.ru)\r\n                    }\r\n\r\n                    this.loc = $.extend(true, {}, $.fn.fsdDatepicker.language.ru, $.fn.fsdDatepicker.language[lang])\r\n                } else {\r\n                    this.loc = $.extend(true, {}, $.fn.fsdDatepicker.language.ru, lang)\r\n                }\r\n\r\n                if (this.opts.dateFormat) {\r\n                    this.loc.dateFormat = this.opts.dateFormat\r\n                }\r\n\r\n                if (this.opts.timeFormat) {\r\n                    this.loc.timeFormat = this.opts.timeFormat\r\n                }\r\n\r\n                if (this.opts.firstDay !== '') {\r\n                    this.loc.firstDay = this.opts.firstDay\r\n                }\r\n\r\n                if (this.opts.timepicker) {\r\n                    this.loc.dateFormat = [this.loc.dateFormat, this.loc.timeFormat].join(this.opts.dateTimeSeparator);\r\n                }\r\n\r\n                if (this.opts.onlyTimepicker) {\r\n                    this.loc.dateFormat = this.loc.timeFormat;\r\n                }\r\n\r\n                var boundary = this._getWordBoundaryRegExp;\r\n                if (this.loc.timeFormat.match(boundary('aa')) ||\r\n                    this.loc.timeFormat.match(boundary('AA'))\r\n                ) {\r\n                    this.ampm = true;\r\n                }\r\n            },\r\n\r\n            _buildDatepickersContainer: function () {\r\n                containerBuilt = true;\r\n                $body.append('<div class=\"datepickers-container\" id=\"datepickers-container\"></div>');\r\n                $datepickersContainer = $('#datepickers-container');\r\n            },\r\n\r\n            _buildBaseHtml: function () {\r\n                var $appendTarget,\r\n                    $inline = $('<div class=\"datepicker-inline\">');\r\n\r\n                if (this.el.nodeName == 'INPUT') {\r\n                    if (!this.opts.inline) {\r\n                        $appendTarget = $datepickersContainer;\r\n                    } else {\r\n                        $appendTarget = $inline.insertAfter(this.$el)\r\n                    }\r\n                } else {\r\n                    $appendTarget = $inline.appendTo(this.$el)\r\n                }\r\n\r\n                this.$datepicker = $(baseTemplate).appendTo($appendTarget);\r\n                this.$content = $('.datepicker--content', this.$datepicker);\r\n                this.$nav = $('.datepicker--nav', this.$datepicker);\r\n            },\r\n\r\n            _triggerOnChange: function () {\r\n                if (!this.selectedDates.length) {\r\n                    // Prevent from triggering multiple onSelect callback with same argument (empty string) in IE10-11\r\n                    if (this._prevOnSelectValue === '') return;\r\n                    this._prevOnSelectValue = '';\r\n                    return this.opts.onSelect('', '', this);\r\n                }\r\n\r\n                var selectedDates = this.selectedDates,\r\n                    parsedSelected = fsdDatepicker.getParsedDate(selectedDates[0]),\r\n                    formattedDates,\r\n                    _this = this,\r\n                    dates = new Date(\r\n                        parsedSelected.year,\r\n                        parsedSelected.month,\r\n                        parsedSelected.date,\r\n                        parsedSelected.hours,\r\n                        parsedSelected.minutes\r\n                    );\r\n\r\n                formattedDates = selectedDates.map(function (date) {\r\n                    return _this.formatDate(_this.loc.dateFormat, date)\r\n                }).join(this.opts.multipleDatesSeparator);\r\n\r\n                // Create new dates array, to separate it from original selectedDates\r\n                if (this.opts.multipleDates || this.opts.range) {\r\n                    dates = selectedDates.map(function (date) {\r\n                        var parsedDate = fsdDatepicker.getParsedDate(date);\r\n                        return new Date(\r\n                            parsedDate.year,\r\n                            parsedDate.month,\r\n                            parsedDate.date,\r\n                            parsedDate.hours,\r\n                            parsedDate.minutes\r\n                        );\r\n                    })\r\n                }\r\n\r\n                this._prevOnSelectValue = formattedDates;\r\n                this.opts.onSelect(formattedDates, dates, this);\r\n            },\r\n\r\n            next: function () {\r\n                var d = this.parsedDate,\r\n                    o = this.opts;\r\n                switch (this.view) {\r\n                    case 'days':\r\n                        this.date = new Date(d.year, d.month + 1, 1);\r\n                        if (o.onChangeMonth) o.onChangeMonth(this.parsedDate.month, this.parsedDate.year);\r\n                        break;\r\n                    case 'months':\r\n                        this.date = new Date(d.year + 1, d.month, 1);\r\n                        if (o.onChangeYear) o.onChangeYear(this.parsedDate.year);\r\n                        break;\r\n                    case 'years':\r\n                        this.date = new Date(d.year + 10, 0, 1);\r\n                        if (o.onChangeDecade) o.onChangeDecade(this.curDecade);\r\n                        break;\r\n                }\r\n            },\r\n\r\n            prev: function () {\r\n                var d = this.parsedDate,\r\n                    o = this.opts;\r\n                switch (this.view) {\r\n                    case 'days':\r\n                        this.date = new Date(d.year, d.month - 1, 1);\r\n                        if (o.onChangeMonth) o.onChangeMonth(this.parsedDate.month, this.parsedDate.year);\r\n                        break;\r\n                    case 'months':\r\n                        this.date = new Date(d.year - 1, d.month, 1);\r\n                        if (o.onChangeYear) o.onChangeYear(this.parsedDate.year);\r\n                        break;\r\n                    case 'years':\r\n                        this.date = new Date(d.year - 10, 0, 1);\r\n                        if (o.onChangeDecade) o.onChangeDecade(this.curDecade);\r\n                        break;\r\n                }\r\n            },\r\n\r\n            formatDate: function (string, date) {\r\n                date = date || this.date;\r\n                var result = string,\r\n                    boundary = this._getWordBoundaryRegExp,\r\n                    locale = this.loc,\r\n                    leadingZero = fsdDatepicker.getLeadingZeroNum,\r\n                    decade = fsdDatepicker.getDecade(date),\r\n                    d = fsdDatepicker.getParsedDate(date),\r\n                    fullHours = d.fullHours,\r\n                    hours = d.hours,\r\n                    ampm = string.match(boundary('aa')) || string.match(boundary('AA')),\r\n                    dayPeriod = 'am',\r\n                    replacer = this._replacer,\r\n                    validHours;\r\n\r\n                if (this.opts.timepicker && this.timepicker && ampm) {\r\n                    validHours = this.timepicker._getValidHoursFromDate(date, ampm);\r\n                    fullHours = leadingZero(validHours.hours);\r\n                    hours = validHours.hours;\r\n                    dayPeriod = validHours.dayPeriod;\r\n                }\r\n\r\n                switch (true) {\r\n                    case /@/.test(result):\r\n                        result = result.replace(/@/, date.getTime());\r\n                    case /aa/.test(result):\r\n                        result = replacer(result, boundary('aa'), dayPeriod);\r\n                    case /AA/.test(result):\r\n                        result = replacer(result, boundary('AA'), dayPeriod.toUpperCase());\r\n                    case /dd/.test(result):\r\n                        result = replacer(result, boundary('dd'), d.fullDate);\r\n                    case /d/.test(result):\r\n                        result = replacer(result, boundary('d'), d.date);\r\n                    case /DD/.test(result):\r\n                        result = replacer(result, boundary('DD'), locale.days[d.day]);\r\n                    case /D/.test(result):\r\n                        result = replacer(result, boundary('D'), locale.daysShort[d.day]);\r\n                    case /mm/.test(result):\r\n                        result = replacer(result, boundary('mm'), d.fullMonth);\r\n                    case /m/.test(result):\r\n                        result = replacer(result, boundary('m'), d.month + 1);\r\n                    case /MM/.test(result):\r\n                        result = replacer(result, boundary('MM'), this.loc.months[d.month]);\r\n                    case /M/.test(result):\r\n                        result = replacer(result, boundary('M'), locale.monthsShort[d.month]);\r\n                    case /ii/.test(result):\r\n                        result = replacer(result, boundary('ii'), d.fullMinutes);\r\n                    case /i/.test(result):\r\n                        result = replacer(result, boundary('i'), d.minutes);\r\n                    case /hh/.test(result):\r\n                        result = replacer(result, boundary('hh'), fullHours);\r\n                    case /h/.test(result):\r\n                        result = replacer(result, boundary('h'), hours);\r\n                    case /yyyy/.test(result):\r\n                        result = replacer(result, boundary('yyyy'), d.year);\r\n                    case /yyyy1/.test(result):\r\n                        result = replacer(result, boundary('yyyy1'), decade[0]);\r\n                    case /yyyy2/.test(result):\r\n                        result = replacer(result, boundary('yyyy2'), decade[1]);\r\n                    case /yy/.test(result):\r\n                        result = replacer(result, boundary('yy'), d.year.toString().slice(-2));\r\n                }\r\n                return result;\r\n            },\r\n\r\n            _replacer: function (str, reg, data) {\r\n                return str.replace(reg, function (match, p1, p2, p3) {\r\n                    return p1 + data + p3;\r\n                })\r\n            },\r\n\r\n            _getWordBoundaryRegExp: function (sign) {\r\n                var symbols = '\\\\s|\\\\.|-|/|\\\\\\\\|,|\\\\$|\\\\!|\\\\?|:|;';\r\n\r\n                return new RegExp('(^|>|' + symbols + ')(' + sign + ')($|<|' + symbols + ')', 'g');\r\n            },\r\n\r\n\r\n            selectDate: function (date) {\r\n                var _this = this,\r\n                    opts = _this.opts,\r\n                    d = _this.parsedDate,\r\n                    selectedDates = _this.selectedDates,\r\n                    len = selectedDates.length,\r\n                    newDate = '';\r\n\r\n                if (Array.isArray(date)) {\r\n                    date.forEach(function (d) {\r\n                        _this.selectDate(d)\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                if (!(date instanceof Date)) return;\r\n\r\n                this.lastSelectedDate = date;\r\n\r\n                // Set new time values from Date\r\n                if (this.timepicker) {\r\n                    this.timepicker._setTime(date);\r\n                }\r\n\r\n                // On this step timepicker will set valid values in it's instance\r\n                _this._trigger('selectDate', date);\r\n\r\n                // Set correct time values after timepicker's validation\r\n                // Prevent from setting hours or minutes which values are lesser then `min` value or\r\n                // greater then `max` value\r\n                if (this.timepicker) {\r\n                    date.setHours(this.timepicker.hours);\r\n                    date.setMinutes(this.timepicker.minutes)\r\n                }\r\n\r\n                if (_this.view == 'days') {\r\n                    if (date.getMonth() != d.month && opts.moveToOtherMonthsOnSelect) {\r\n                        newDate = new Date(date.getFullYear(), date.getMonth(), 1);\r\n                    }\r\n                }\r\n\r\n                if (_this.view == 'years') {\r\n                    if (date.getFullYear() != d.year && opts.moveToOtherYearsOnSelect) {\r\n                        newDate = new Date(date.getFullYear(), 0, 1);\r\n                    }\r\n                }\r\n\r\n                if (newDate) {\r\n                    _this.silent = true;\r\n                    _this.date = newDate;\r\n                    _this.silent = false;\r\n                    _this.nav._render()\r\n                }\r\n\r\n                if (opts.multipleDates && !opts.range) { // Set priority to range functionality\r\n                    if (len === opts.multipleDates) return;\r\n                    if (!_this._isSelected(date)) {\r\n                        _this.selectedDates.push(date);\r\n                    }\r\n                } else if (opts.range) {\r\n                    if (len == 2) {\r\n                        _this.selectedDates = [date];\r\n                        _this.minRange = date;\r\n                        _this.maxRange = '';\r\n                    } else if (len == 1) {\r\n                        _this.selectedDates.push(date);\r\n                        if (!_this.maxRange) {\r\n                            _this.maxRange = date;\r\n                        } else {\r\n                            _this.minRange = date;\r\n                        }\r\n                        // Swap dates if they were selected via dp.selectDate() and second date was smaller then first\r\n                        if (fsdDatepicker.bigger(_this.maxRange, _this.minRange)) {\r\n                            _this.maxRange = _this.minRange;\r\n                            _this.minRange = date;\r\n                        }\r\n                        _this.selectedDates = [_this.minRange, _this.maxRange]\r\n\r\n                    } else {\r\n                        _this.selectedDates = [date];\r\n                        _this.minRange = date;\r\n                    }\r\n                } else {\r\n                    _this.selectedDates = [date];\r\n                }\r\n\r\n                //_this._setInputValue();\r\n\r\n                // if (opts.onSelect) {\r\n                //     _this._triggerOnChange();\r\n                // }\r\n\r\n                if (opts.autoClose && !this.timepickerIsActive) {\r\n                    if (!opts.multipleDates && !opts.range) {\r\n                        _this.hide();\r\n                    } else if (opts.range && _this.selectedDates.length == 2) {\r\n                        _this.hide();\r\n                    }\r\n                }\r\n\r\n                _this.views[this.currentView]._render()\r\n            },\r\n\r\n            removeDate: function (date) {\r\n                var selected = this.selectedDates,\r\n                    _this = this;\r\n\r\n                if (!(date instanceof Date)) return;\r\n\r\n                return selected.some(function (curDate, i) {\r\n                    if (fsdDatepicker.isSame(curDate, date)) {\r\n                        selected.splice(i, 1);\r\n\r\n                        if (!_this.selectedDates.length) {\r\n                            _this.minRange = '';\r\n                            _this.maxRange = '';\r\n                            _this.lastSelectedDate = '';\r\n                        } else {\r\n                            _this.lastSelectedDate = _this.selectedDates[_this.selectedDates.length - 1];\r\n                        }\r\n\r\n                        _this.views[_this.currentView]._render();\r\n                        _this._setInputValue();\r\n\r\n                        if (_this.opts.onSelect) {\r\n                            _this._triggerOnChange();\r\n                        }\r\n\r\n\r\n                        return true\r\n                    }\r\n                })\r\n            },\r\n\r\n            apply: function () {\r\n                if (this.opts.onSelect) {\r\n                    this._triggerOnChange()\r\n                }\r\n                this.hide();\r\n            },\r\n\r\n            clear: function () {\r\n                this.selectedDates = [];\r\n                this.minRange = '';\r\n                this.maxRange = '';\r\n                this.views[this.currentView]._render();\r\n                this._setInputValue();\r\n                if (this.opts.onSelect) {\r\n                    this._triggerOnChange()\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Updates datepicker options\r\n             * @param {String|Object} param - parameter's name to update. If object then it will extend current options\r\n             * @param {String|Number|Object} [value] - new param value\r\n             */\r\n            update: function (param, value) {\r\n                var len = arguments.length,\r\n                    lastSelectedDate = this.lastSelectedDate;\r\n\r\n                if (len == 2) {\r\n                    this.opts[param] = value;\r\n                } else if (len == 1 && typeof param == 'object') {\r\n                    this.opts = $.extend(true, this.opts, param)\r\n                }\r\n\r\n                this._createShortCuts();\r\n                this._syncWithMinMaxDates();\r\n                this._defineLocale(this.opts.language);\r\n                this.nav._addButtonsIfNeed();\r\n                if (!this.opts.onlyTimepicker) this.nav._render();\r\n                this.views[this.currentView]._render();\r\n\r\n                if (this.elIsInput && !this.opts.inline) {\r\n                    this._setPositionClasses(this.opts.position);\r\n                    if (this.visible) {\r\n                        this.setPosition(this.opts.position)\r\n                    }\r\n                }\r\n\r\n                if (this.opts.classes) {\r\n                    this.$datepicker.addClass(this.opts.classes)\r\n                }\r\n\r\n                if (this.opts.onlyTimepicker) {\r\n                    this.$datepicker.addClass('-only-timepicker-');\r\n                }\r\n\r\n                if (this.opts.timepicker) {\r\n                    if (lastSelectedDate) this.timepicker._handleDate(lastSelectedDate);\r\n                    this.timepicker._updateRanges();\r\n                    this.timepicker._updateCurrentTime();\r\n                    // Change hours and minutes if it's values have been changed through min/max hours/minutes\r\n                    if (lastSelectedDate) {\r\n                        lastSelectedDate.setHours(this.timepicker.hours);\r\n                        lastSelectedDate.setMinutes(this.timepicker.minutes);\r\n                    }\r\n                }\r\n\r\n                this._setInputValue();\r\n\r\n                return this;\r\n            },\r\n\r\n            _syncWithMinMaxDates: function () {\r\n                var curTime = this.date.getTime();\r\n                this.silent = true;\r\n                if (this.minTime > curTime) {\r\n                    this.date = this.minDate;\r\n                }\r\n\r\n                if (this.maxTime < curTime) {\r\n                    this.date = this.maxDate;\r\n                }\r\n                this.silent = false;\r\n            },\r\n\r\n            _isSelected: function (checkDate, cellType) {\r\n                var res = false;\r\n                this.selectedDates.some(function (date) {\r\n                    if (fsdDatepicker.isSame(date, checkDate, cellType)) {\r\n                        res = date;\r\n                        return true;\r\n                    }\r\n                });\r\n                return res;\r\n            },\r\n\r\n            _setInputValue: function () {\r\n                var _this = this,\r\n                    opts = _this.opts,\r\n                    format = _this.loc.dateFormat,\r\n                    altFormat = opts.altFieldDateFormat,\r\n                    value = _this.selectedDates.map(function (date) {\r\n                        return _this.formatDate(format, date)\r\n                    }),\r\n                    altValues;\r\n\r\n                if (opts.altField && _this.$altField.length) {\r\n                    altValues = this.selectedDates.map(function (date) {\r\n                        return _this.formatDate(altFormat, date)\r\n                    });\r\n                    altValues = altValues.join(this.opts.multipleDatesSeparator);\r\n                    this.$altField.val(altValues);\r\n                }\r\n\r\n                value = value.join(this.opts.multipleDatesSeparator);\r\n                this.dateValue = value;\r\n                //this.$el.val(value);\r\n            },\r\n\r\n            /**\r\n             * Check if date is between minDate and maxDate\r\n             * @param date {object} - date object\r\n             * @param type {string} - cell type\r\n             * @returns {boolean}\r\n             * @private\r\n             */\r\n            _isInRange: function (date, type) {\r\n                var time = date.getTime(),\r\n                    d = fsdDatepicker.getParsedDate(date),\r\n                    min = fsdDatepicker.getParsedDate(this.minDate),\r\n                    max = fsdDatepicker.getParsedDate(this.maxDate),\r\n                    dMinTime = new Date(d.year, d.month, min.date).getTime(),\r\n                    dMaxTime = new Date(d.year, d.month, max.date).getTime(),\r\n                    types = {\r\n                        day: time >= this.minTime && time <= this.maxTime,\r\n                        month: dMinTime >= this.minTime && dMaxTime <= this.maxTime,\r\n                        year: d.year >= min.year && d.year <= max.year\r\n                    };\r\n                return type ? types[type] : types.day\r\n            },\r\n\r\n            _getDimensions: function ($el) {\r\n                var offset = $el.offset();\r\n\r\n                return {\r\n                    width: $el.outerWidth(),\r\n                    height: $el.outerHeight(),\r\n                    left: offset.left,\r\n                    top: offset.top\r\n                }\r\n            },\r\n\r\n            _getDateFromCell: function (cell) {\r\n                var curDate = this.parsedDate,\r\n                    year = cell.data('year') || curDate.year,\r\n                    month = cell.data('month') == undefined ? curDate.month : cell.data('month'),\r\n                    date = cell.data('date') || 1;\r\n\r\n                return new Date(year, month, date);\r\n            },\r\n\r\n            _setPositionClasses: function (pos) {\r\n                pos = pos.split(' ');\r\n                var main = pos[0],\r\n                    sec = pos[1],\r\n                    classes = 'datepicker -' + main + '-' + sec + '- -from-' + main + '-';\r\n\r\n                if (this.visible) classes += ' active';\r\n\r\n                this.$datepicker\r\n                    .removeAttr('class')\r\n                    .addClass(classes);\r\n            },\r\n\r\n            setPosition: function (position) {\r\n                position = position || this.opts.position;\r\n\r\n                var dims = this._getDimensions(this.$el),\r\n                    selfDims = this._getDimensions(this.$datepicker),\r\n                    pos = position.split(' '),\r\n                    top, left,\r\n                    offset = this.opts.offset,\r\n                    main = pos[0],\r\n                    secondary = pos[1];\r\n\r\n                switch (main) {\r\n                    case 'top':\r\n                        top = dims.top - selfDims.height - offset;\r\n                        break;\r\n                    case 'right':\r\n                        left = dims.left + dims.width + offset;\r\n                        break;\r\n                    case 'bottom':\r\n                        top = dims.top + dims.height + offset;\r\n                        break;\r\n                    case 'left':\r\n                        left = dims.left - selfDims.width - offset;\r\n                        break;\r\n                }\r\n\r\n                switch (secondary) {\r\n                    case 'top':\r\n                        top = dims.top;\r\n                        break;\r\n                    case 'right':\r\n                        left = dims.left + dims.width - selfDims.width;\r\n                        break;\r\n                    case 'bottom':\r\n                        top = dims.top + dims.height - selfDims.height;\r\n                        break;\r\n                    case 'left':\r\n                        left = dims.left;\r\n                        break;\r\n                    case 'center':\r\n                        if (/left|right/.test(main)) {\r\n                            top = dims.top + dims.height / 2 - selfDims.height / 2;\r\n                        } else {\r\n                            left = dims.left + dims.width / 2 - selfDims.width / 2;\r\n                        }\r\n                }\r\n\r\n                this.$datepicker\r\n                    .css({\r\n                        left: left,\r\n                        top: top\r\n                    })\r\n            },\r\n\r\n            show: function () {\r\n                var onShow = this.opts.onShow;\r\n\r\n                this.setPosition(this.opts.position);\r\n                this.$datepicker.addClass('active');\r\n                this.visible = true;\r\n\r\n                if (onShow) {\r\n                    this._bindVisionEvents(onShow)\r\n                }\r\n            },\r\n\r\n            hide: function () {\r\n                var onHide = this.opts.onHide;\r\n\r\n                this.$datepicker\r\n                    .removeClass('active')\r\n                    .css({\r\n                        left: '-100000px'\r\n                    });\r\n\r\n                this.focused = '';\r\n                this.keys = [];\r\n\r\n                this.inFocus = false;\r\n                this.visible = false;\r\n                this.$el.blur();\r\n\r\n                if (onHide) {\r\n                    this._bindVisionEvents(onHide)\r\n                }\r\n            },\r\n\r\n            down: function (date) {\r\n                this._changeView(date, 'down');\r\n            },\r\n\r\n            up: function (date) {\r\n                this._changeView(date, 'up');\r\n            },\r\n\r\n            _bindVisionEvents: function (event) {\r\n                this.$datepicker.off('transitionend.dp');\r\n                event(this, false);\r\n                this.$datepicker.one('transitionend.dp', event.bind(this, this, true))\r\n            },\r\n\r\n            _changeView: function (date, dir) {\r\n                date = date || this.focused || this.date;\r\n\r\n                var nextView = dir == 'up' ? this.viewIndex + 1 : this.viewIndex - 1;\r\n                if (nextView > 2) nextView = 2;\r\n                if (nextView < 0) nextView = 0;\r\n\r\n                this.silent = true;\r\n                this.date = new Date(date.getFullYear(), date.getMonth(), 1);\r\n                this.silent = false;\r\n                this.view = this.viewIndexes[nextView];\r\n\r\n            },\r\n\r\n            _handleHotKey: function (key) {\r\n                var date = datepicker.getParsedDate(this._getFocusedDate()),\r\n                    focusedParsed,\r\n                    o = this.opts,\r\n                    newDate,\r\n                    totalDaysInNextMonth,\r\n                    monthChanged = false,\r\n                    yearChanged = false,\r\n                    decadeChanged = false,\r\n                    y = date.year,\r\n                    m = date.month,\r\n                    d = date.date;\r\n\r\n                switch (key) {\r\n                    case 'ctrlRight':\r\n                    case 'ctrlUp':\r\n                        m += 1;\r\n                        monthChanged = true;\r\n                        break;\r\n                    case 'ctrlLeft':\r\n                    case 'ctrlDown':\r\n                        m -= 1;\r\n                        monthChanged = true;\r\n                        break;\r\n                    case 'shiftRight':\r\n                    case 'shiftUp':\r\n                        yearChanged = true;\r\n                        y += 1;\r\n                        break;\r\n                    case 'shiftLeft':\r\n                    case 'shiftDown':\r\n                        yearChanged = true;\r\n                        y -= 1;\r\n                        break;\r\n                    case 'altRight':\r\n                    case 'altUp':\r\n                        decadeChanged = true;\r\n                        y += 10;\r\n                        break;\r\n                    case 'altLeft':\r\n                    case 'altDown':\r\n                        decadeChanged = true;\r\n                        y -= 10;\r\n                        break;\r\n                    case 'ctrlShiftUp':\r\n                        this.up();\r\n                        break;\r\n                }\r\n\r\n                totalDaysInNextMonth = fsdDatepicker.getDaysCount(new Date(y, m));\r\n                newDate = new Date(y, m, d);\r\n\r\n                // If next month has less days than current, set date to total days in that month\r\n                if (totalDaysInNextMonth < d) d = totalDaysInNextMonth;\r\n\r\n                // Check if newDate is in valid range\r\n                if (newDate.getTime() < this.minTime) {\r\n                    newDate = this.minDate;\r\n                } else if (newDate.getTime() > this.maxTime) {\r\n                    newDate = this.maxDate;\r\n                }\r\n\r\n                this.focused = newDate;\r\n\r\n                focusedParsed = datepicker.getParsedDate(newDate);\r\n                if (monthChanged && o.onChangeMonth) {\r\n                    o.onChangeMonth(focusedParsed.month, focusedParsed.year)\r\n                }\r\n                if (yearChanged && o.onChangeYear) {\r\n                    o.onChangeYear(focusedParsed.year)\r\n                }\r\n                if (decadeChanged && o.onChangeDecade) {\r\n                    o.onChangeDecade(this.curDecade)\r\n                }\r\n            },\r\n\r\n            _registerKey: function (key) {\r\n                var exists = this.keys.some(function (curKey) {\r\n                    return curKey == key;\r\n                });\r\n\r\n                if (!exists) {\r\n                    this.keys.push(key)\r\n                }\r\n            },\r\n\r\n            _unRegisterKey: function (key) {\r\n                var index = this.keys.indexOf(key);\r\n\r\n                this.keys.splice(index, 1);\r\n            },\r\n\r\n            _isHotKeyPressed: function () {\r\n                var currentHotKey,\r\n                    found = false,\r\n                    _this = this,\r\n                    pressedKeys = this.keys.sort();\r\n\r\n                for (var hotKey in hotKeys) {\r\n                    currentHotKey = hotKeys[hotKey];\r\n                    if (pressedKeys.length != currentHotKey.length) continue;\r\n\r\n                    if (currentHotKey.every(function (key, i) { return key == pressedKeys[i] })) {\r\n                        _this._trigger('hotKey', hotKey);\r\n                        found = true;\r\n                    }\r\n                }\r\n\r\n                return found;\r\n            },\r\n\r\n            _trigger: function (event, args) {\r\n                this.$el.trigger(event, args)\r\n            },\r\n\r\n            _focusNextCell: function (keyCode, type) {\r\n                type = type || this.cellType;\r\n\r\n                var date = fsdDatepicker.getParsedDate(this._getFocusedDate()),\r\n                    y = date.year,\r\n                    m = date.month,\r\n                    d = date.date;\r\n\r\n                if (this._isHotKeyPressed()) {\r\n                    return;\r\n                }\r\n\r\n                switch (keyCode) {\r\n                    case 37: // left\r\n                        type == 'day' ? (d -= 1) : '';\r\n                        type == 'month' ? (m -= 1) : '';\r\n                        type == 'year' ? (y -= 1) : '';\r\n                        break;\r\n                    case 38: // up\r\n                        type == 'day' ? (d -= 7) : '';\r\n                        type == 'month' ? (m -= 3) : '';\r\n                        type == 'year' ? (y -= 4) : '';\r\n                        break;\r\n                    case 39: // right\r\n                        type == 'day' ? (d += 1) : '';\r\n                        type == 'month' ? (m += 1) : '';\r\n                        type == 'year' ? (y += 1) : '';\r\n                        break;\r\n                    case 40: // down\r\n                        type == 'day' ? (d += 7) : '';\r\n                        type == 'month' ? (m += 3) : '';\r\n                        type == 'year' ? (y += 4) : '';\r\n                        break;\r\n                }\r\n\r\n                var nd = new Date(y, m, d);\r\n                if (nd.getTime() < this.minTime) {\r\n                    nd = this.minDate;\r\n                } else if (nd.getTime() > this.maxTime) {\r\n                    nd = this.maxDate;\r\n                }\r\n\r\n                this.focused = nd;\r\n\r\n            },\r\n\r\n            _getFocusedDate: function () {\r\n                var focused = this.focused || this.selectedDates[this.selectedDates.length - 1],\r\n                    d = this.parsedDate;\r\n\r\n                if (!focused) {\r\n                    switch (this.view) {\r\n                        case 'days':\r\n                            focused = new Date(d.year, d.month, new Date().getDate());\r\n                            break;\r\n                        case 'months':\r\n                            focused = new Date(d.year, d.month, 1);\r\n                            break;\r\n                        case 'years':\r\n                            focused = new Date(d.year, 0, 1);\r\n                            break;\r\n                    }\r\n                }\r\n\r\n                return focused;\r\n            },\r\n\r\n            _getCell: function (date, type) {\r\n                type = type || this.cellType;\r\n\r\n                var d = fsdDatepicker.getParsedDate(date),\r\n                    selector = '.datepicker--cell[data-year=\"' + d.year + '\"]',\r\n                    $cell;\r\n\r\n                switch (type) {\r\n                    case 'month':\r\n                        selector = '[data-month=\"' + d.month + '\"]';\r\n                        break;\r\n                    case 'day':\r\n                        selector += '[data-month=\"' + d.month + '\"][data-date=\"' + d.date + '\"]';\r\n                        break;\r\n                }\r\n                $cell = this.views[this.currentView].$el.find(selector);\r\n\r\n                return $cell.length ? $cell : $('');\r\n            },\r\n\r\n            destroy: function () {\r\n                var _this = this;\r\n                _this.$el\r\n                    .off('.adp')\r\n                    .data('datepicker', '');\r\n\r\n                _this.selectedDates = [];\r\n                _this.focused = '';\r\n                _this.views = {};\r\n                _this.keys = [];\r\n                _this.minRange = '';\r\n                _this.maxRange = '';\r\n\r\n                if (_this.opts.inline || !_this.elIsInput) {\r\n                    _this.$datepicker.closest('.datepicker-inline').remove();\r\n                } else {\r\n                    _this.$datepicker.remove();\r\n                }\r\n            },\r\n\r\n            _handleAlreadySelectedDates: function (alreadySelected, selectedDate) {\r\n                if (this.opts.range) {\r\n                    if (!this.opts.toggleSelected) {\r\n                        // Add possibility to select same date when range is true\r\n                        if (this.selectedDates.length != 2) {\r\n                            this._trigger('clickCell', selectedDate);\r\n                        }\r\n                    } else {\r\n                        this.removeDate(selectedDate);\r\n                    }\r\n                } else if (this.opts.toggleSelected) {\r\n                    this.removeDate(selectedDate);\r\n                }\r\n\r\n                // Change last selected date to be able to change time when clicking on this cell\r\n                if (!this.opts.toggleSelected) {\r\n                    this.lastSelectedDate = alreadySelected;\r\n                    if (this.opts.timepicker) {\r\n                        this.timepicker._setTime(alreadySelected);\r\n                        this.timepicker.update();\r\n                    }\r\n                }\r\n            },\r\n\r\n            _onShowEvent: function (e) {\r\n                if (!this.visible) {\r\n                    this.show();\r\n                }\r\n            },\r\n\r\n            _onBlur: function () {\r\n                if (!this.inFocus && this.visible) {\r\n                    this.hide();\r\n                }\r\n            },\r\n\r\n            _onMouseDownDatepicker: function (e) {\r\n                this.inFocus = true;\r\n            },\r\n\r\n            _onMouseUpDatepicker: function (e) {\r\n                this.inFocus = false;\r\n                e.originalEvent.inFocus = true;\r\n                if (!e.originalEvent.timepickerFocus) this.$el.focus();\r\n            },\r\n\r\n            _onKeyUpGeneral: function (e) {\r\n                var val = this.$el.val();\r\n\r\n                if (!val) {\r\n                    this.clear();\r\n                }\r\n            },\r\n\r\n            _onResize: function () {\r\n                if (this.visible) {\r\n                    this.setPosition();\r\n                }\r\n            },\r\n\r\n            _onMouseUpBody: function (e) {\r\n                if (e.originalEvent.inFocus) return;\r\n\r\n                if (this.visible && !this.inFocus) {\r\n                    this.hide();\r\n                }\r\n            },\r\n\r\n            _onMouseUpEl: function (e) {\r\n                e.originalEvent.inFocus = true;\r\n                setTimeout(this._onKeyUpGeneral.bind(this), 4);\r\n            },\r\n\r\n            _onKeyDown: function (e) {\r\n                var code = e.which;\r\n                this._registerKey(code);\r\n\r\n                // Arrows\r\n                if (code >= 37 && code <= 40) {\r\n                    e.preventDefault();\r\n                    this._focusNextCell(code);\r\n                }\r\n\r\n                // Enter\r\n                if (code == 13) {\r\n                    if (this.focused) {\r\n                        if (this._getCell(this.focused).hasClass('-disabled-')) return;\r\n                        if (this.view != this.opts.minView) {\r\n                            this.down()\r\n                        } else {\r\n                            var alreadySelected = this._isSelected(this.focused, this.cellType);\r\n\r\n                            if (!alreadySelected) {\r\n                                if (this.timepicker) {\r\n                                    this.focused.setHours(this.timepicker.hours);\r\n                                    this.focused.setMinutes(this.timepicker.minutes);\r\n                                }\r\n                                this.selectDate(this.focused);\r\n                                return;\r\n                            }\r\n                            this._handleAlreadySelectedDates(alreadySelected, this.focused)\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // Esc\r\n                if (code == 27) {\r\n                    this.hide();\r\n                }\r\n            },\r\n\r\n            _onKeyUp: function (e) {\r\n                var code = e.which;\r\n                this._unRegisterKey(code);\r\n            },\r\n\r\n            _onHotKey: function (e, hotKey) {\r\n                this._handleHotKey(hotKey);\r\n            },\r\n\r\n            _onMouseEnterCell: function (e) {\r\n                var $cell = $(e.target).closest('.datepicker--cell'),\r\n                    date = this._getDateFromCell($cell);\r\n\r\n                // Prevent from unnecessary rendering and setting new currentDate\r\n                this.silent = true;\r\n\r\n                if (this.focused) {\r\n                    this.focused = ''\r\n                }\r\n\r\n                $cell.addClass('-focus-');\r\n\r\n                this.focused = date;\r\n                this.silent = false;\r\n\r\n                if (this.opts.range && this.selectedDates.length == 1) {\r\n                    this.minRange = this.selectedDates[0];\r\n                    this.maxRange = '';\r\n                    if (fsdDatepicker.less(this.minRange, this.focused)) {\r\n                        this.maxRange = this.minRange;\r\n                        this.minRange = '';\r\n                    }\r\n                    this.views[this.currentView]._update();\r\n                }\r\n            },\r\n\r\n            _onMouseLeaveCell: function (e) {\r\n                var $cell = $(e.target).closest('.datepicker--cell');\r\n\r\n                $cell.removeClass('-focus-');\r\n\r\n                this.silent = true;\r\n                this.focused = '';\r\n                this.silent = false;\r\n            },\r\n\r\n            _onTimeChange: function (e, h, m) {\r\n                var date = new Date(),\r\n                    selectedDates = this.selectedDates,\r\n                    selected = false;\r\n\r\n                if (selectedDates.length) {\r\n                    selected = true;\r\n                    date = this.lastSelectedDate;\r\n                }\r\n\r\n                date.setHours(h);\r\n                date.setMinutes(m);\r\n\r\n                if (!selected && !this._getCell(date).hasClass('-disabled-')) {\r\n                    this.selectDate(date);\r\n                } else {\r\n                    this._setInputValue();\r\n                    if (this.opts.onSelect) {\r\n                        this._triggerOnChange();\r\n                    }\r\n                }\r\n            },\r\n\r\n            _onClickCell: function (e, date) {\r\n                if (this.timepicker) {\r\n                    date.setHours(this.timepicker.hours);\r\n                    date.setMinutes(this.timepicker.minutes);\r\n                }\r\n                this.selectDate(date);\r\n            },\r\n\r\n            set focused(val) {\r\n                if (!val && this.focused) {\r\n                    var $cell = this._getCell(this.focused);\r\n\r\n                    if ($cell.length) {\r\n                        $cell.removeClass('-focus-')\r\n                    }\r\n                }\r\n                this._focused = val;\r\n                if (this.opts.range && this.selectedDates.length == 1) {\r\n                    this.minRange = this.selectedDates[0];\r\n                    this.maxRange = '';\r\n                    if (fsdDatepicker.less(this.minRange, this._focused)) {\r\n                        this.maxRange = this.minRange;\r\n                        this.minRange = '';\r\n                    }\r\n                }\r\n                if (this.silent) return;\r\n                this.date = val;\r\n            },\r\n\r\n            get focused() {\r\n                return this._focused;\r\n            },\r\n\r\n            get parsedDate() {\r\n                return fsdDatepicker.getParsedDate(this.date);\r\n            },\r\n\r\n            set date(val) {\r\n                if (!(val instanceof Date)) return;\r\n\r\n                this.currentDate = val;\r\n\r\n                if (this.inited && !this.silent) {\r\n                    this.views[this.view]._render();\r\n                    this.nav._render();\r\n                    if (this.visible && this.elIsInput) {\r\n                        this.setPosition();\r\n                    }\r\n                }\r\n                return val;\r\n            },\r\n\r\n            get date() {\r\n                return this.currentDate\r\n            },\r\n\r\n            set view(val) {\r\n                this.viewIndex = this.viewIndexes.indexOf(val);\r\n\r\n                if (this.viewIndex < 0) {\r\n                    return;\r\n                }\r\n\r\n                this.prevView = this.currentView;\r\n                this.currentView = val;\r\n\r\n                if (this.inited) {\r\n                    if (!this.views[val]) {\r\n                        this.views[val] = new $.fn.fsdDatepicker.Body(this, val, this.opts)\r\n                    } else {\r\n                        this.views[val]._render();\r\n                    }\r\n\r\n                    this.views[this.prevView].hide();\r\n                    this.views[val].show();\r\n                    this.nav._render();\r\n\r\n                    if (this.opts.onChangeView) {\r\n                        this.opts.onChangeView(val)\r\n                    }\r\n                    if (this.elIsInput && this.visible) this.setPosition();\r\n                }\r\n\r\n                return val\r\n            },\r\n\r\n            get view() {\r\n                return this.currentView;\r\n            },\r\n\r\n            get cellType() {\r\n                return this.view.substring(0, this.view.length - 1)\r\n            },\r\n\r\n            get minTime() {\r\n                var min = fsdDatepicker.getParsedDate(this.minDate);\r\n                return new Date(min.year, min.month, min.date).getTime()\r\n            },\r\n\r\n            get maxTime() {\r\n                var max = fsdDatepicker.getParsedDate(this.maxDate);\r\n                return new Date(max.year, max.month, max.date).getTime()\r\n            },\r\n\r\n            get curDecade() {\r\n                return fsdDatepicker.getDecade(this.date)\r\n            }\r\n        };\r\n\r\n        //  Utils\r\n        // -------------------------------------------------\r\n\r\n        fsdDatepicker.getDaysCount = function (date) {\r\n            return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\r\n        };\r\n\r\n        fsdDatepicker.getParsedDate = function (date) {\r\n            return {\r\n                year: date.getFullYear(),\r\n                month: date.getMonth(),\r\n                fullMonth: (date.getMonth() + 1) < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1, // One based\r\n                date: date.getDate(),\r\n                fullDate: date.getDate() < 10 ? '0' + date.getDate() : date.getDate(),\r\n                day: date.getDay(),\r\n                hours: date.getHours(),\r\n                fullHours: date.getHours() < 10 ? '0' + date.getHours() : date.getHours(),\r\n                minutes: date.getMinutes(),\r\n                fullMinutes: date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()\r\n            }\r\n        };\r\n\r\n        fsdDatepicker.getDecade = function (date) {\r\n            var firstYear = Math.floor(date.getFullYear() / 10) * 10;\r\n\r\n            return [firstYear, firstYear + 9];\r\n        };\r\n\r\n        fsdDatepicker.template = function (str, data) {\r\n            return str.replace(/#\\{([\\w]+)\\}/g, function (source, match) {\r\n                if (data[match] || data[match] === 0) {\r\n                    return data[match]\r\n                }\r\n            });\r\n        };\r\n\r\n        fsdDatepicker.isSame = function (date1, date2, type) {\r\n            if (!date1 || !date2) return false;\r\n            var d1 = fsdDatepicker.getParsedDate(date1),\r\n                d2 = fsdDatepicker.getParsedDate(date2),\r\n                _type = type ? type : 'day',\r\n\r\n                conditions = {\r\n                    day: d1.date == d2.date && d1.month == d2.month && d1.year == d2.year,\r\n                    month: d1.month == d2.month && d1.year == d2.year,\r\n                    year: d1.year == d2.year\r\n                };\r\n\r\n            return conditions[_type];\r\n        };\r\n\r\n        fsdDatepicker.less = function (dateCompareTo, date, type) {\r\n            if (!dateCompareTo || !date) return false;\r\n            return date.getTime() < dateCompareTo.getTime();\r\n        };\r\n\r\n        fsdDatepicker.bigger = function (dateCompareTo, date, type) {\r\n            if (!dateCompareTo || !date) return false;\r\n            return date.getTime() > dateCompareTo.getTime();\r\n        };\r\n\r\n        fsdDatepicker.getLeadingZeroNum = function (num) {\r\n            return parseInt(num) < 10 ? '0' + num : num;\r\n        };\r\n\r\n        /**\r\n         * Returns copy of date with hours and minutes equals to 0\r\n         * @param date {Date}\r\n         */\r\n        fsdDatepicker.resetTime = function (date) {\r\n            if (typeof date != 'object') return;\r\n            date = fsdDatepicker.getParsedDate(date);\r\n            return new Date(date.year, date.month, date.date)\r\n        };\r\n\r\n        $.fn.fsdDatepicker = function (options) {\r\n            return this.each(function () {\r\n                if (!$.data(this, pluginName)) {\r\n                    $.data(this, pluginName,\r\n                        new Datepicker(this, options));\r\n                } else {\r\n                    var _this = $.data(this, pluginName);\r\n\r\n                    _this.opts = $.extend(true, _this.opts, options);\r\n                    _this.update();\r\n                }\r\n            });\r\n        };\r\n\r\n        $.fn.fsdDatepicker.Constructor = Datepicker;\r\n\r\n        $.fn.fsdDatepicker.language = {\r\n            ru: {\r\n                days: ['Воскресенье', 'Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота'],\r\n                daysShort: ['Вос', 'Пон', 'Вто', 'Сре', 'Чет', 'Пят', 'Суб'],\r\n                daysMin: ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],\r\n                months: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],\r\n                monthsShort: ['Янв', 'Фев', 'Мар', 'Апр', 'Мая', 'Июн', 'Июл', 'Авг', 'Сен', 'Окт', 'Ноя', 'Дек'],\r\n                apply: 'Применить',\r\n                clear: 'Очистить',\r\n                dateFormat: 'dd.mm.yyyy',\r\n                timeFormat: 'hh:ii',\r\n                firstDay: 1\r\n            }\r\n        };\r\n\r\n        $(function () {\r\n            $(autoInitSelector).fsdDatepicker();\r\n        })\r\n\r\n    })();\r\n\r\n    ; (function () {\r\n        var templates = {\r\n            days: '' +\r\n                '<div class=\"datepicker--days datepicker--body\">' +\r\n                '<div class=\"datepicker--days-names\"></div>' +\r\n                '<div class=\"datepicker--cells datepicker--cells-days\"></div>' +\r\n                '</div>',\r\n            months: '' +\r\n                '<div class=\"datepicker--months datepicker--body\">' +\r\n                '<div class=\"datepicker--cells datepicker--cells-months\"></div>' +\r\n                '</div>',\r\n            years: '' +\r\n                '<div class=\"datepicker--years datepicker--body\">' +\r\n                '<div class=\"datepicker--cells datepicker--cells-years\"></div>' +\r\n                '</div>'\r\n        },\r\n            fsdDatepicker = $.fn.fsdDatepicker,\r\n            dp = fsdDatepicker.Constructor;\r\n\r\n        fsdDatepicker.Body = function (d, type, opts) {\r\n            this.d = d;\r\n            this.type = type;\r\n            this.opts = opts;\r\n            this.$el = $('');\r\n\r\n            if (this.opts.onlyTimepicker) return;\r\n            this.init();\r\n        };\r\n\r\n        fsdDatepicker.Body.prototype = {\r\n            init: function () {\r\n                this._buildBaseHtml();\r\n                this._render();\r\n\r\n                this._bindEvents();\r\n            },\r\n\r\n            _bindEvents: function () {\r\n                this.$el.on('click', '.datepicker--cell', $.proxy(this._onClickCell, this));\r\n            },\r\n\r\n            _buildBaseHtml: function () {\r\n                this.$el = $(templates[this.type]).appendTo(this.d.$content);\r\n                this.$names = $('.datepicker--days-names', this.$el);\r\n                this.$cells = $('.datepicker--cells', this.$el);\r\n            },\r\n\r\n            _getDayNamesHtml: function (firstDay, curDay, html, i) {\r\n                curDay = curDay != undefined ? curDay : firstDay;\r\n                html = html ? html : '';\r\n                i = i != undefined ? i : 0;\r\n\r\n                if (i > 7) return html;\r\n                if (curDay == 7) return this._getDayNamesHtml(firstDay, 0, html, ++i);\r\n\r\n                html += '<div class=\"datepicker--day-name' + (this.d.isWeekend(curDay) ? \" -weekend-\" : \"\") + '\">' + this.d.loc.daysMin[curDay] + '</div>';\r\n\r\n                return this._getDayNamesHtml(firstDay, ++curDay, html, ++i);\r\n            },\r\n\r\n            _getCellContents: function (date, type) {\r\n                var classes = \"datepicker--cell datepicker--cell-\" + type,\r\n                    currentDate = new Date(),\r\n                    parent = this.d,\r\n                    minRange = dp.resetTime(parent.minRange),\r\n                    maxRange = dp.resetTime(parent.maxRange),\r\n                    opts = parent.opts,\r\n                    d = dp.getParsedDate(date),\r\n                    render = {},\r\n                    html = d.date;\r\n\r\n                switch (type) {\r\n                    case 'day':\r\n                        if (parent.isWeekend(d.day)) classes += \" -weekend-\";\r\n                        if (d.month != this.d.parsedDate.month) {\r\n                            classes += \" -other-month-\";\r\n                            if (!opts.selectOtherMonths) {\r\n                                classes += \" -disabled-\";\r\n                            }\r\n                            if (!opts.showOtherMonths) html = '';\r\n                        }\r\n                        break;\r\n                    case 'month':\r\n                        html = parent.loc[parent.opts.monthsField][d.month];\r\n                        break;\r\n                    case 'year':\r\n                        var decade = parent.curDecade;\r\n                        html = d.year;\r\n                        if (d.year < decade[0] || d.year > decade[1]) {\r\n                            classes += ' -other-decade-';\r\n                            if (!opts.selectOtherYears) {\r\n                                classes += \" -disabled-\";\r\n                            }\r\n                            if (!opts.showOtherYears) html = '';\r\n                        }\r\n                        break;\r\n                }\r\n\r\n                if (opts.onRenderCell) {\r\n                    render = opts.onRenderCell(date, type) || {};\r\n                    html = render.html ? render.html : html;\r\n                    classes += render.classes ? ' ' + render.classes : '';\r\n                }\r\n\r\n                if (opts.range) {\r\n                    if (dp.isSame(minRange, date, type)) classes += ' -range-from-';\r\n                    if (dp.isSame(maxRange, date, type)) classes += ' -range-to-';\r\n\r\n                    if (parent.selectedDates.length == 1 && parent.focused) {\r\n                        if (\r\n                            (dp.bigger(minRange, date) && dp.less(parent.focused, date)) ||\r\n                            (dp.less(maxRange, date) && dp.bigger(parent.focused, date))) {\r\n                            classes += ' -in-range-'\r\n                        }\r\n\r\n                        if (dp.less(maxRange, date) && dp.isSame(parent.focused, date)) {\r\n                            classes += ' -range-from-'\r\n                        }\r\n                        if (dp.bigger(minRange, date) && dp.isSame(parent.focused, date)) {\r\n                            classes += ' -range-to-'\r\n                        }\r\n\r\n                    } else if (parent.selectedDates.length == 2) {\r\n                        if (dp.bigger(minRange, date) && dp.less(maxRange, date)) {\r\n                            classes += ' -in-range-'\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n                if (dp.isSame(currentDate, date, type)) classes += ' -current-';\r\n                if (parent.focused && dp.isSame(date, parent.focused, type)) classes += ' -focus-';\r\n                if (parent._isSelected(date, type)) classes += ' -selected-';\r\n                if (!parent._isInRange(date, type) || render.disabled) classes += ' -disabled-';\r\n\r\n                return {\r\n                    html: html,\r\n                    classes: classes\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Calculates days number to render. Generates days html and returns it.\r\n             * @param {object} date - Date object\r\n             * @returns {string}\r\n             * @private\r\n             */\r\n            _getDaysHtml: function (date) {\r\n                var totalMonthDays = dp.getDaysCount(date),\r\n                    firstMonthDay = new Date(date.getFullYear(), date.getMonth(), 1).getDay(),\r\n                    lastMonthDay = new Date(date.getFullYear(), date.getMonth(), totalMonthDays).getDay(),\r\n                    daysFromPevMonth = firstMonthDay - this.d.loc.firstDay,\r\n                    daysFromNextMonth = 6 - lastMonthDay + this.d.loc.firstDay;\r\n\r\n                daysFromPevMonth = daysFromPevMonth < 0 ? daysFromPevMonth + 7 : daysFromPevMonth;\r\n                daysFromNextMonth = daysFromNextMonth > 6 ? daysFromNextMonth - 7 : daysFromNextMonth;\r\n\r\n                var startDayIndex = -daysFromPevMonth + 1,\r\n                    m, y,\r\n                    html = '';\r\n\r\n                for (var i = startDayIndex, max = totalMonthDays + daysFromNextMonth; i <= max; i++) {\r\n                    y = date.getFullYear();\r\n                    m = date.getMonth();\r\n\r\n                    html += this._getDayHtml(new Date(y, m, i))\r\n                }\r\n\r\n                return html;\r\n            },\r\n\r\n            _getDayHtml: function (date) {\r\n                var content = this._getCellContents(date, 'day');\r\n\r\n                return '<div class=\"' + content.classes + '\" ' +\r\n                    'data-date=\"' + date.getDate() + '\" ' +\r\n                    'data-month=\"' + date.getMonth() + '\" ' +\r\n                    'data-year=\"' + date.getFullYear() + '\">' + content.html + '</div>';\r\n            },\r\n\r\n            /**\r\n             * Generates months html\r\n             * @param {object} date - date instance\r\n             * @returns {string}\r\n             * @private\r\n             */\r\n            _getMonthsHtml: function (date) {\r\n                var html = '',\r\n                    d = dp.getParsedDate(date),\r\n                    i = 0;\r\n\r\n                while (i < 12) {\r\n                    html += this._getMonthHtml(new Date(d.year, i));\r\n                    i++\r\n                }\r\n\r\n                return html;\r\n            },\r\n\r\n            _getMonthHtml: function (date) {\r\n                var content = this._getCellContents(date, 'month');\r\n\r\n                return '<div class=\"' + content.classes + '\" data-month=\"' + date.getMonth() + '\">' + content.html + '</div>'\r\n            },\r\n\r\n            _getYearsHtml: function (date) {\r\n                var d = dp.getParsedDate(date),\r\n                    decade = dp.getDecade(date),\r\n                    firstYear = decade[0] - 1,\r\n                    html = '',\r\n                    i = firstYear;\r\n\r\n                for (i; i <= decade[1] + 1; i++) {\r\n                    html += this._getYearHtml(new Date(i, 0));\r\n                }\r\n\r\n                return html;\r\n            },\r\n\r\n            _getYearHtml: function (date) {\r\n                var content = this._getCellContents(date, 'year');\r\n\r\n                return '<div class=\"' + content.classes + '\" data-year=\"' + date.getFullYear() + '\">' + content.html + '</div>'\r\n            },\r\n\r\n            _renderTypes: {\r\n                days: function () {\r\n                    var dayNames = this._getDayNamesHtml(this.d.loc.firstDay),\r\n                        days = this._getDaysHtml(this.d.currentDate);\r\n\r\n                    this.$cells.html(days);\r\n                    this.$names.html(dayNames)\r\n                },\r\n                months: function () {\r\n                    var html = this._getMonthsHtml(this.d.currentDate);\r\n\r\n                    this.$cells.html(html)\r\n                },\r\n                years: function () {\r\n                    var html = this._getYearsHtml(this.d.currentDate);\r\n\r\n                    this.$cells.html(html)\r\n                }\r\n            },\r\n\r\n            _render: function () {\r\n                if (this.opts.onlyTimepicker) return;\r\n                this._renderTypes[this.type].bind(this)();\r\n            },\r\n\r\n            _update: function () {\r\n                var $cells = $('.datepicker--cell', this.$cells),\r\n                    _this = this,\r\n                    classes,\r\n                    $cell,\r\n                    date;\r\n                $cells.each(function (cell, i) {\r\n                    $cell = $(this);\r\n                    date = _this.d._getDateFromCell($(this));\r\n                    classes = _this._getCellContents(date, _this.d.cellType);\r\n                    $cell.attr('class', classes.classes)\r\n                });\r\n            },\r\n\r\n            show: function () {\r\n                if (this.opts.onlyTimepicker) return;\r\n                this.$el.addClass('active');\r\n                this.acitve = true;\r\n            },\r\n\r\n            hide: function () {\r\n                this.$el.removeClass('active');\r\n                this.active = false;\r\n            },\r\n\r\n            //  Events\r\n            // -------------------------------------------------\r\n\r\n            _handleClick: function (el) {\r\n                var date = el.data('date') || 1,\r\n                    month = el.data('month') || 0,\r\n                    year = el.data('year') || this.d.parsedDate.year,\r\n                    dp = this.d;\r\n                // Change view if min view does not reach yet\r\n                if (dp.view != this.opts.minView) {\r\n                    dp.down(new Date(year, month, date));\r\n                    return;\r\n                }\r\n                // Select date if min view is reached\r\n                var selectedDate = new Date(year, month, date),\r\n                    alreadySelected = this.d._isSelected(selectedDate, this.d.cellType);\r\n\r\n                if (!alreadySelected) {\r\n                    dp._trigger('clickCell', selectedDate);\r\n                    return;\r\n                }\r\n\r\n                dp._handleAlreadySelectedDates.bind(dp, alreadySelected, selectedDate)();\r\n\r\n            },\r\n\r\n            _onClickCell: function (e) {\r\n                var $el = $(e.target).closest('.datepicker--cell');\r\n\r\n                if ($el.hasClass('-disabled-')) return;\r\n\r\n                this._handleClick.bind(this)($el);\r\n            }\r\n        };\r\n    })();\r\n\r\n    ; (function () {\r\n        var template = '' +\r\n            '<div class=\"datepicker--nav-action\" data-action=\"prev\">#{prevHtml}</div>' +\r\n            '<div class=\"datepicker--nav-title\">#{title}</div>' +\r\n            '<div class=\"datepicker--nav-action\" data-action=\"next\">#{nextHtml}</div>',\r\n            buttonsContainerTemplate = '<div class=\"datepicker--buttons\"></div>',\r\n            button = '<button class=\"datepicker--button\" data-action=\"#{action}\">#{label}</button>',\r\n            fsdDatepicker = $.fn.fsdDatepicker,\r\n            dp = fsdDatepicker.Constructor;\r\n\r\n        fsdDatepicker.Navigation = function (d, opts) {\r\n            this.d = d;\r\n            this.opts = opts;\r\n\r\n            this.$buttonsContainer = '';\r\n\r\n            this.init();\r\n        };\r\n\r\n        fsdDatepicker.Navigation.prototype = {\r\n            init: function () {\r\n                this._buildBaseHtml();\r\n                this._bindEvents();\r\n            },\r\n\r\n            _bindEvents: function () {\r\n                this.d.$nav.on('click', '.datepicker--nav-action', $.proxy(this._onClickNavButton, this));\r\n                this.d.$nav.on('click', '.datepicker--nav-title', $.proxy(this._onClickNavTitle, this));\r\n                this.d.$datepicker.on('click', '.datepicker--button', $.proxy(this._onClickNavButton, this));\r\n            },\r\n\r\n            _buildBaseHtml: function () {\r\n                if (!this.opts.onlyTimepicker) {\r\n                    this._render();\r\n                }\r\n                this._addButtonsIfNeed();\r\n            },\r\n\r\n            _addButtonsIfNeed: function () {\r\n                if (this.opts.clearButton) {\r\n                    this._addButton('clear')\r\n                }\r\n                if (this.opts.applyButton) {\r\n                    this._addButton('apply')\r\n                }\r\n            },\r\n\r\n            _render: function () {\r\n                var title = this._getTitle(this.d.currentDate),\r\n                    html = dp.template(template, $.extend({ title: title }, this.opts));\r\n                this.d.$nav.html(html);\r\n                if (this.d.view == 'years') {\r\n                    $('.datepicker--nav-title', this.d.$nav).addClass('-disabled-');\r\n                }\r\n                this.setNavStatus();\r\n            },\r\n\r\n            _getTitle: function (date) {\r\n                return this.d.formatDate(this.opts.navTitles[this.d.view], date)\r\n            },\r\n\r\n            _addButton: function (type) {\r\n                if (!this.$buttonsContainer.length) {\r\n                    this._addButtonsContainer();\r\n                }\r\n\r\n                var data = {\r\n                    action: type,\r\n                    label: this.d.loc[type]\r\n                },\r\n                    html = dp.template(button, data);\r\n\r\n                if ($('[data-action=' + type + ']', this.$buttonsContainer).length) return;\r\n                this.$buttonsContainer.append(html);\r\n            },\r\n\r\n            _addButtonsContainer: function () {\r\n                this.d.$datepicker.append(buttonsContainerTemplate);\r\n                this.$buttonsContainer = $('.datepicker--buttons', this.d.$datepicker);\r\n            },\r\n\r\n            setNavStatus: function () {\r\n                if (!(this.opts.minDate || this.opts.maxDate) || !this.opts.disableNavWhenOutOfRange) return;\r\n\r\n                var date = this.d.parsedDate,\r\n                    m = date.month,\r\n                    y = date.year,\r\n                    d = date.date;\r\n\r\n                switch (this.d.view) {\r\n                    case 'days':\r\n                        if (!this.d._isInRange(new Date(y, m - 1, 1), 'month')) {\r\n                            this._disableNav('prev')\r\n                        }\r\n                        if (!this.d._isInRange(new Date(y, m + 1, 1), 'month')) {\r\n                            this._disableNav('next')\r\n                        }\r\n                        break;\r\n                    case 'months':\r\n                        if (!this.d._isInRange(new Date(y - 1, m, d), 'year')) {\r\n                            this._disableNav('prev')\r\n                        }\r\n                        if (!this.d._isInRange(new Date(y + 1, m, d), 'year')) {\r\n                            this._disableNav('next')\r\n                        }\r\n                        break;\r\n                    case 'years':\r\n                        var decade = dp.getDecade(this.d.date);\r\n                        if (!this.d._isInRange(new Date(decade[0] - 1, 0, 1), 'year')) {\r\n                            this._disableNav('prev')\r\n                        }\r\n                        if (!this.d._isInRange(new Date(decade[1] + 1, 0, 1), 'year')) {\r\n                            this._disableNav('next')\r\n                        }\r\n                        break;\r\n                }\r\n            },\r\n\r\n            _disableNav: function (nav) {\r\n                $('[data-action=\"' + nav + '\"]', this.d.$nav).addClass('-disabled-')\r\n            },\r\n\r\n            _activateNav: function (nav) {\r\n                $('[data-action=\"' + nav + '\"]', this.d.$nav).removeClass('-disabled-')\r\n            },\r\n\r\n            _onClickNavButton: function (e) {\r\n                var $el = $(e.target).closest('[data-action]'),\r\n                    action = $el.data('action');\r\n\r\n                this.d[action]();\r\n            },\r\n\r\n            _onClickNavTitle: function (e) {\r\n                if ($(e.target).hasClass('-disabled-')) return;\r\n\r\n                if (this.d.view == 'days') {\r\n                    return this.d.view = 'months'\r\n                }\r\n\r\n                this.d.view = 'years';\r\n            }\r\n        }\r\n\r\n    })();\r\n\r\n    ; (function () {\r\n        var template = '<div class=\"datepicker--time\">' +\r\n            '<div class=\"datepicker--time-current\">' +\r\n            '   <span class=\"datepicker--time-current-hours\">#{hourVisible}</span>' +\r\n            '   <span class=\"datepicker--time-current-colon\">:</span>' +\r\n            '   <span class=\"datepicker--time-current-minutes\">#{minValue}</span>' +\r\n            '</div>' +\r\n            '<div class=\"datepicker--time-sliders\">' +\r\n            '   <div class=\"datepicker--time-row\">' +\r\n            '      <input type=\"range\" name=\"hours\" value=\"#{hourValue}\" min=\"#{hourMin}\" max=\"#{hourMax}\" step=\"#{hourStep}\"/>' +\r\n            '   </div>' +\r\n            '   <div class=\"datepicker--time-row\">' +\r\n            '      <input type=\"range\" name=\"minutes\" value=\"#{minValue}\" min=\"#{minMin}\" max=\"#{minMax}\" step=\"#{minStep}\"/>' +\r\n            '   </div>' +\r\n            '</div>' +\r\n            '</div>',\r\n            fsdDatepicker = $.fn.fsdDatepicker,\r\n            dp = fsdDatepicker.Constructor;\r\n\r\n        fsdDatepicker.Timepicker = function (inst, opts) {\r\n            this.d = inst;\r\n            this.opts = opts;\r\n\r\n            this.init();\r\n        };\r\n\r\n        fsdDatepicker.Timepicker.prototype = {\r\n            init: function () {\r\n                var input = 'input';\r\n                this._setTime(this.d.date);\r\n                this._buildHTML();\r\n\r\n                if (navigator.userAgent.match(/trident/gi)) {\r\n                    input = 'change';\r\n                }\r\n\r\n                this.d.$el.on('selectDate', this._onSelectDate.bind(this));\r\n                this.$ranges.on(input, this._onChangeRange.bind(this));\r\n                this.$ranges.on('mouseup', this._onMouseUpRange.bind(this));\r\n                this.$ranges.on('mousemove focus ', this._onMouseEnterRange.bind(this));\r\n                this.$ranges.on('mouseout blur', this._onMouseOutRange.bind(this));\r\n            },\r\n\r\n            _setTime: function (date) {\r\n                var _date = dp.getParsedDate(date);\r\n\r\n                this._handleDate(date);\r\n                this.hours = _date.hours < this.minHours ? this.minHours : _date.hours;\r\n                this.minutes = _date.minutes < this.minMinutes ? this.minMinutes : _date.minutes;\r\n            },\r\n\r\n            /**\r\n             * Sets minHours and minMinutes from date (usually it's a minDate)\r\n             * Also changes minMinutes if current hours are bigger then @date hours\r\n             * @param date {Date}\r\n             * @private\r\n             */\r\n            _setMinTimeFromDate: function (date) {\r\n                this.minHours = date.getHours();\r\n                this.minMinutes = date.getMinutes();\r\n\r\n                // If, for example, min hours are 10, and current hours are 12,\r\n                // update minMinutes to default value, to be able to choose whole range of values\r\n                if (this.d.lastSelectedDate) {\r\n                    if (this.d.lastSelectedDate.getHours() > date.getHours()) {\r\n                        this.minMinutes = this.opts.minMinutes;\r\n                    }\r\n                }\r\n            },\r\n\r\n            _setMaxTimeFromDate: function (date) {\r\n                this.maxHours = date.getHours();\r\n                this.maxMinutes = date.getMinutes();\r\n\r\n                if (this.d.lastSelectedDate) {\r\n                    if (this.d.lastSelectedDate.getHours() < date.getHours()) {\r\n                        this.maxMinutes = this.opts.maxMinutes;\r\n                    }\r\n                }\r\n            },\r\n\r\n            _setDefaultMinMaxTime: function () {\r\n                var maxHours = 23,\r\n                    maxMinutes = 59,\r\n                    opts = this.opts;\r\n\r\n                this.minHours = opts.minHours < 0 || opts.minHours > maxHours ? 0 : opts.minHours;\r\n                this.minMinutes = opts.minMinutes < 0 || opts.minMinutes > maxMinutes ? 0 : opts.minMinutes;\r\n                this.maxHours = opts.maxHours < 0 || opts.maxHours > maxHours ? maxHours : opts.maxHours;\r\n                this.maxMinutes = opts.maxMinutes < 0 || opts.maxMinutes > maxMinutes ? maxMinutes : opts.maxMinutes;\r\n            },\r\n\r\n            /**\r\n             * Looks for min/max hours/minutes and if current values\r\n             * are out of range sets valid values.\r\n             * @private\r\n             */\r\n            _validateHoursMinutes: function (date) {\r\n                if (this.hours < this.minHours) {\r\n                    this.hours = this.minHours;\r\n                } else if (this.hours > this.maxHours) {\r\n                    this.hours = this.maxHours;\r\n                }\r\n\r\n                if (this.minutes < this.minMinutes) {\r\n                    this.minutes = this.minMinutes;\r\n                } else if (this.minutes > this.maxMinutes) {\r\n                    this.minutes = this.maxMinutes;\r\n                }\r\n            },\r\n\r\n            _buildHTML: function () {\r\n                var lz = dp.getLeadingZeroNum,\r\n                    data = {\r\n                        hourMin: this.minHours,\r\n                        hourMax: lz(this.maxHours),\r\n                        hourStep: this.opts.hoursStep,\r\n                        hourValue: this.hours,\r\n                        hourVisible: lz(this.displayHours),\r\n                        minMin: this.minMinutes,\r\n                        minMax: lz(this.maxMinutes),\r\n                        minStep: this.opts.minutesStep,\r\n                        minValue: lz(this.minutes)\r\n                    },\r\n                    _template = dp.template(template, data);\r\n\r\n                this.$timepicker = $(_template).appendTo(this.d.$datepicker);\r\n                this.$ranges = $('[type=\"range\"]', this.$timepicker);\r\n                this.$hours = $('[name=\"hours\"]', this.$timepicker);\r\n                this.$minutes = $('[name=\"minutes\"]', this.$timepicker);\r\n                this.$hoursText = $('.datepicker--time-current-hours', this.$timepicker);\r\n                this.$minutesText = $('.datepicker--time-current-minutes', this.$timepicker);\r\n\r\n                if (this.d.ampm) {\r\n                    this.$ampm = $('<span class=\"datepicker--time-current-ampm\">')\r\n                        .appendTo($('.datepicker--time-current', this.$timepicker))\r\n                        .html(this.dayPeriod);\r\n\r\n                    this.$timepicker.addClass('-am-pm-');\r\n                }\r\n            },\r\n\r\n            _updateCurrentTime: function () {\r\n                var h = dp.getLeadingZeroNum(this.displayHours),\r\n                    m = dp.getLeadingZeroNum(this.minutes);\r\n\r\n                this.$hoursText.html(h);\r\n                this.$minutesText.html(m);\r\n\r\n                if (this.d.ampm) {\r\n                    this.$ampm.html(this.dayPeriod);\r\n                }\r\n            },\r\n\r\n            _updateRanges: function () {\r\n                this.$hours.attr({\r\n                    min: this.minHours,\r\n                    max: this.maxHours\r\n                }).val(this.hours);\r\n\r\n                this.$minutes.attr({\r\n                    min: this.minMinutes,\r\n                    max: this.maxMinutes\r\n                }).val(this.minutes)\r\n            },\r\n\r\n            /**\r\n             * Sets minHours, minMinutes etc. from date. If date is not passed, than sets\r\n             * values from options\r\n             * @param [date] {object} - Date object, to get values from\r\n             * @private\r\n             */\r\n            _handleDate: function (date) {\r\n                this._setDefaultMinMaxTime();\r\n                if (date) {\r\n                    if (dp.isSame(date, this.d.opts.minDate)) {\r\n                        this._setMinTimeFromDate(this.d.opts.minDate);\r\n                    } else if (dp.isSame(date, this.d.opts.maxDate)) {\r\n                        this._setMaxTimeFromDate(this.d.opts.maxDate);\r\n                    }\r\n                }\r\n\r\n                this._validateHoursMinutes(date);\r\n            },\r\n\r\n            update: function () {\r\n                this._updateRanges();\r\n                this._updateCurrentTime();\r\n            },\r\n\r\n            /**\r\n             * Calculates valid hour value to display in text input and datepicker's body.\r\n             * @param date {Date|Number} - date or hours\r\n             * @param [ampm] {Boolean} - 12 hours mode\r\n             * @returns {{hours: *, dayPeriod: string}}\r\n             * @private\r\n             */\r\n            _getValidHoursFromDate: function (date, ampm) {\r\n                var d = date,\r\n                    hours = date;\r\n\r\n                if (date instanceof Date) {\r\n                    d = dp.getParsedDate(date);\r\n                    hours = d.hours;\r\n                }\r\n\r\n                var _ampm = ampm || this.d.ampm,\r\n                    dayPeriod = 'am';\r\n\r\n                if (_ampm) {\r\n                    switch (true) {\r\n                        case hours == 0:\r\n                            hours = 12;\r\n                            break;\r\n                        case hours == 12:\r\n                            dayPeriod = 'pm';\r\n                            break;\r\n                        case hours > 11:\r\n                            hours = hours - 12;\r\n                            dayPeriod = 'pm';\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                }\r\n\r\n                return {\r\n                    hours: hours,\r\n                    dayPeriod: dayPeriod\r\n                }\r\n            },\r\n\r\n            set hours(val) {\r\n                this._hours = val;\r\n\r\n                var displayHours = this._getValidHoursFromDate(val);\r\n\r\n                this.displayHours = displayHours.hours;\r\n                this.dayPeriod = displayHours.dayPeriod;\r\n            },\r\n\r\n            get hours() {\r\n                return this._hours;\r\n            },\r\n\r\n            //  Events\r\n            // -------------------------------------------------\r\n\r\n            _onChangeRange: function (e) {\r\n                var $target = $(e.target),\r\n                    name = $target.attr('name');\r\n\r\n                this.d.timepickerIsActive = true;\r\n\r\n                this[name] = $target.val();\r\n                this._updateCurrentTime();\r\n                this.d._trigger('timeChange', [this.hours, this.minutes]);\r\n\r\n                this._handleDate(this.d.lastSelectedDate);\r\n                this.update()\r\n            },\r\n\r\n            _onSelectDate: function (e, data) {\r\n                this._handleDate(data);\r\n                this.update();\r\n            },\r\n\r\n            _onMouseEnterRange: function (e) {\r\n                var name = $(e.target).attr('name');\r\n                $('.datepicker--time-current-' + name, this.$timepicker).addClass('-focus-');\r\n            },\r\n\r\n            _onMouseOutRange: function (e) {\r\n                var name = $(e.target).attr('name');\r\n                if (this.d.inFocus) return; // Prevent removing focus when mouse out of range slider\r\n                $('.datepicker--time-current-' + name, this.$timepicker).removeClass('-focus-');\r\n            },\r\n\r\n            _onMouseUpRange: function (e) {\r\n                this.d.timepickerIsActive = false;\r\n            }\r\n        };\r\n    })();\r\n})(window, jQuery);","import '@/components/burger/burger.js';\r\nimport '@/components/list-links/sublinks.js'","import autobind from \"autobind-decorator\";\r\n\r\nclass SubLinks {\r\n\r\n  constructor(arrow) {\r\n    this.subMenuArrow = arrow;\r\n    this._bindEvents();\r\n  }\r\n\r\n  _bindEvents() {\r\n    this.subMenuArrow.addEventListener('click', this._handleMenuArrow);\r\n    document.addEventListener('click', this._handleClickOutsideSublinks);\r\n  }\r\n\r\n  @autobind\r\n  _handleMenuArrow(e) {\r\n    this.subMenuArrow.nextElementSibling.classList.toggle('list-links__sub-links_is-visible');\r\n    this._toggleArrow();\r\n  }\r\n\r\n  _toggleArrow() {\r\n    if (this.subMenuArrow.innerText === 'keyboard_arrow_down') {\r\n      this.subMenuArrow.innerText = 'keyboard_arrow_up';\r\n    }\r\n    else if (this.subMenuArrow.innerText === 'keyboard_arrow_up') {\r\n      this.subMenuArrow.innerText = 'keyboard_arrow_down';\r\n    }\r\n  }\r\n\r\n  @autobind\r\n  _handleClickOutsideSublinks(e) {\r\n    const target = e.target;\r\n    const itIsSublinks = target === this.subMenuArrow \r\n    || this.subMenuArrow.nextElementSibling.contains(target);\r\n    if (!itIsSublinks) {\r\n      this._hideSubLinks();\r\n    }\r\n  }\r\n\r\n  _hideSubLinks() {\r\n    this.subMenuArrow.nextElementSibling.classList.remove('list-links__sub-links_is-visible');\r\n    this.subMenuArrow.innerText = 'keyboard_arrow_down';\r\n  }\r\n  \r\n}\r\nexport default SubLinks;\r\n\r\n\r\n\r\n\r\n","import SubLinks from '@/components/list-links/sublinks-class.js';\r\n\r\ndocument.querySelectorAll('.js-list-links__arrow').forEach(elem=>new SubLinks(elem));"],"sourceRoot":""}