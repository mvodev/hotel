{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./components/UIKit/modules/burger/burger.js","webpack:///./components/UIKit/modules/dropdown/fsdDatepicker.js","webpack:///./components/UIKit/modules/dropdown/dropDownGuests.js","webpack:///./components/UIKit/modules/list/expandableCL.js","webpack:///./components/UIKit/modules/button/starRating.js","webpack:///./components/UIKit/modules/dropdown/dropDownRoom.js","webpack:///./search.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","8","1","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","$","toggleClass","undefined","$body","$datepickersContainer","fsdDatepicker","containerBuilt","defaults","hotKeys","Datepicker","classes","inline","language","startDate","Date","firstDay","weekends","dateFormat","altField","altFieldDateFormat","toggleSelected","keyboardNav","position","offset","view","minView","showOtherMonths","selectOtherMonths","moveToOtherMonthsOnSelect","showOtherYears","selectOtherYears","moveToOtherYearsOnSelect","minDate","maxDate","disableNavWhenOutOfRange","multipleDates","multipleDatesSeparator","range","todayButton","clearButton","showEvent","autoClose","monthsField","prevHtml","nextHtml","navTitles","days","months","years","timepicker","onlyTimepicker","dateTimeSeparator","timeFormat","minHours","maxHours","minMinutes","maxMinutes","hoursStep","minutesStep","onSelect","onShow","onHide","onChangeMonth","onChangeYear","onChangeDecade","onChangeView","onRenderCell","el","options","this","$el","opts","extend","nodeName","elIsInput","$altField","inited","visible","silent","currentDate","currentView","_createShortCuts","selectedDates","views","keys","minRange","maxRange","_prevOnSelectValue","init","VERSION","viewIndexes","_buildDatepickersContainer","_buildBaseHtml","_defineLocale","_syncWithMinMaxDates","_setPositionClasses","_bindEvents","_bindKeyboardEvents","$datepicker","on","_onMouseDownDatepicker","_onMouseUpDatepicker","addClass","fn","datepicker","Timepicker","_bindTimepickerEvents","Body","show","nav","Navigation","_onClickCell","_onMouseEnterCell","_onMouseLeaveCell","_onShowEvent","_onMouseUpEl","_onBlur","_onKeyUpGeneral","_onResize","_onMouseUpBody","_onKeyDown","_onKeyUp","_onHotKey","_onTimeChange","isWeekend","day","indexOf","lang","loc","console","warn","ru","join","boundary","_getWordBoundaryRegExp","match","ampm","append","$appendTarget","$inline","insertAfter","appendTo","$content","$nav","_triggerOnChange","formattedDates","parsedSelected","getParsedDate","_this","dates","year","month","date","hours","minutes","map","formatDate","parsedDate","next","curDecade","prev","string","validHours","locale","leadingZero","getLeadingZeroNum","decade","getDecade","fullHours","dayPeriod","replacer","_replacer","_getValidHoursFromDate","test","replace","getTime","toUpperCase","fullDate","daysShort","fullMonth","monthsShort","fullMinutes","toString","str","reg","p1","p2","p3","sign","symbols","RegExp","selectDate","len","newDate","Array","isArray","forEach","lastSelectedDate","_setTime","_trigger","setHours","setMinutes","getMonth","getFullYear","_render","_isSelected","bigger","_setInputValue","timepickerIsActive","hide","removeDate","selected","some","curDate","isSame","today","clear","update","param","arguments","_addButtonsIfNeed","setPosition","_handleDate","_updateRanges","_updateCurrentTime","curTime","minTime","maxTime","checkDate","cellType","res","altValues","format","altFormat","val","_isInRange","type","time","min","max","dMinTime","dMaxTime","types","_getDimensions","width","outerWidth","height","outerHeight","left","top","_getDateFromCell","cell","pos","main","split","removeAttr","dims","selfDims","secondary","css","_bindVisionEvents","removeClass","focused","inFocus","blur","down","_changeView","up","event","off","one","dir","nextView","viewIndex","_handleHotKey","focusedParsed","totalDaysInNextMonth","_getFocusedDate","monthChanged","yearChanged","decadeChanged","y","getDaysCount","_registerKey","curKey","_unRegisterKey","index","_isHotKeyPressed","currentHotKey","found","pressedKeys","sort","hotKey","every","args","trigger","_focusNextCell","keyCode","nd","getDate","_getCell","$cell","selector","find","destroy","closest","remove","_handleAlreadySelectedDates","alreadySelected","selectedDate","e","originalEvent","timepickerFocus","focus","setTimeout","code","which","preventDefault","hasClass","target","less","_update","h","_focused","prevView","substring","getDay","getHours","getMinutes","firstYear","Math","floor","template","source","date1","date2","d1","d2","_type","dateCompareTo","num","parseInt","resetTime","each","Constructor","daysMin","templates","dp","proxy","$names","$cells","_getDayNamesHtml","curDay","html","_getCellContents","parent","render","disabled","_getDaysHtml","totalMonthDays","firstMonthDay","lastMonthDay","daysFromPevMonth","daysFromNextMonth","_getDayHtml","content","_getMonthsHtml","_getMonthHtml","_getYearsHtml","_getYearHtml","_renderTypes","dayNames","attr","acitve","active","_handleClick","$buttonsContainer","_onClickNavButton","_onClickNavTitle","_addButton","title","_getTitle","setNavStatus","_addButtonsContainer","action","label","_disableNav","_activateNav","inst","input","_buildHTML","navigator","userAgent","_onSelectDate","$ranges","_onChangeRange","_onMouseUpRange","_onMouseEnterRange","_onMouseOutRange","_date","_setMinTimeFromDate","_setMaxTimeFromDate","_setDefaultMinMaxTime","_validateHoursMinutes","lz","hourMin","hourMax","hourStep","hourValue","hourVisible","displayHours","minMin","minMax","minStep","minValue","_template","$timepicker","$hours","$minutes","$hoursText","$minutesText","$ampm","_hours","$target","jQuery","adult","privateCounter","increase","counterAdultValueTag","elem","innerText","decrease","getCounter","erase","counterAdult","child","counterChildValueTag","counterChild","infant","counterInfantValueTag","counterInfant","dropDownInputGuests","document","querySelectorAll","dropDownInputFieldGuests","counterAdultValueDecrease","counterAdultValueIncrease","counterChildValueDecreaseTag","counterChildValueIncreaseTag","counterInfantValueDecrease","counterInfantValueIncrease","eraseButton","applyButton","dropDownGuestsClickHandler","parentNode","childNodes","classList","toggle","changeCounterGuests","howChange","changeTarget","showResultInDropDownGuests","counterGuests","dropDownResult","add","addEventListener","expandableListHandler","rateClickListener","rateNumber","charAt","stars","innerHTML","bed","counterBadValueTag","counterBed","bath","counterBathValueTag","counterBath","bedRoom","counterBadRoomValueTag","counterBedRoom","dropDownInputRoom","dropDownInputFieldRoom","counterBadRoomValueDecrease","counterBadRoomValueIncrease","counterBadValueDecreaseTag","counterBadValueIncreaseTag","counterBathValueDecrease","counterBathValueIncrease","dropDownRoomClickHandler","contains","showResultInDropDown","changeCounter","log","ionRangeSlider","from","to","step","onChange","maxValue","onStart"],"mappings":"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","file":"search.9bf1c5b36206cde9cb8a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t8: 0,\n \t\t1: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([22,0,2]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","$('.js-header-burger__input').on(function (event) {\r\n $('.header-burger__label,.header-login-nav,.header-login-nav__nav,.header-login,.header-login__nav').toggleClass('active');\r\n});\r\n\r\n// $('.header-login__burger-input').on(function (event) {\r\n//  $('.header-login__burger-label,.header-login,.header-login__nav').toggleClass('active');\r\n// });","; (function (window, $, undefined) {\r\n    ; (function () {\r\n        var VERSION = '2.2.3',\r\n            pluginName = 'fsd-datepicker',\r\n            autoInitSelector = '.fsd-datepicker-here',\r\n            $body, $datepickersContainer,\r\n            containerBuilt = false,\r\n            baseTemplate = '' +\r\n                '<div class=\"datepicker\">' +\r\n                '<i class=\"datepicker--pointer\"></i>' +\r\n                '<nav class=\"datepicker--nav\"></nav>' +\r\n                '<div class=\"datepicker--content\"></div>' +\r\n                '</div>',\r\n            defaults = {\r\n                classes: '',\r\n                inline: false,\r\n                language: 'ru',\r\n                startDate: new Date(),\r\n                firstDay: '',\r\n                weekends: [6, 0],\r\n                dateFormat: '',\r\n                altField: '',\r\n                altFieldDateFormat: '@',\r\n                toggleSelected: true,\r\n                keyboardNav: true,\r\n\r\n                position: 'bottom left',\r\n                offset: 12,\r\n\r\n                view: 'days',\r\n                minView: 'days',\r\n\r\n                showOtherMonths: true,\r\n                selectOtherMonths: true,\r\n                moveToOtherMonthsOnSelect: true,\r\n\r\n                showOtherYears: true,\r\n                selectOtherYears: true,\r\n                moveToOtherYearsOnSelect: true,\r\n\r\n                minDate: '',\r\n                maxDate: '',\r\n                disableNavWhenOutOfRange: true,\r\n\r\n                multipleDates: false, // Boolean or Number\r\n                multipleDatesSeparator: ' - ',\r\n                range: false,\r\n\r\n                todayButton: false,\r\n                clearButton: false,\r\n\r\n                showEvent: 'focus',\r\n                autoClose: false,\r\n\r\n                // navigation\r\n                monthsField: 'monthsShort',\r\n                prevHtml: 'arrow_back',\r\n                nextHtml: 'arrow_forward',\r\n                navTitles: {\r\n                    days: 'MM <i>yyyy</i>',\r\n                    months: 'yyyy',\r\n                    years: 'yyyy1 - yyyy2'\r\n                },\r\n\r\n                // timepicker\r\n                timepicker: false,\r\n                onlyTimepicker: false,\r\n                dateTimeSeparator: ' ',\r\n                timeFormat: '',\r\n                minHours: 0,\r\n                maxHours: 24,\r\n                minMinutes: 0,\r\n                maxMinutes: 59,\r\n                hoursStep: 1,\r\n                minutesStep: 1,\r\n\r\n                // events\r\n                onSelect: '',\r\n                onShow: '',\r\n                onHide: '',\r\n                onChangeMonth: '',\r\n                onChangeYear: '',\r\n                onChangeDecade: '',\r\n                onChangeView: '',\r\n                onRenderCell: ''\r\n            },\r\n            hotKeys = {\r\n                'ctrlRight': [17, 39],\r\n                'ctrlUp': [17, 38],\r\n                'ctrlLeft': [17, 37],\r\n                'ctrlDown': [17, 40],\r\n                'shiftRight': [16, 39],\r\n                'shiftUp': [16, 38],\r\n                'shiftLeft': [16, 37],\r\n                'shiftDown': [16, 40],\r\n                'altUp': [18, 38],\r\n                'altRight': [18, 39],\r\n                'altLeft': [18, 37],\r\n                'altDown': [18, 40],\r\n                'ctrlShiftUp': [16, 17, 38]\r\n            },\r\n            fsdDatepicker;\r\n\r\n        var Datepicker = function (el, options) {\r\n            this.el = el;\r\n            this.$el = $(el);\r\n\r\n            this.opts = $.extend(true, {}, defaults, options, this.$el.data());\r\n\r\n            if ($body == undefined) {\r\n                $body = $('body');\r\n            }\r\n\r\n            if (!this.opts.startDate) {\r\n                this.opts.startDate = new Date();\r\n            }\r\n\r\n            if (this.el.nodeName == 'INPUT') {\r\n                this.elIsInput = true;\r\n            }\r\n\r\n            if (this.opts.altField) {\r\n                this.$altField = typeof this.opts.altField == 'string' ? $(this.opts.altField) : this.opts.altField;\r\n            }\r\n\r\n            this.inited = false;\r\n            this.visible = false;\r\n            this.silent = false; // Need to prevent unnecessary rendering\r\n\r\n            this.currentDate = this.opts.startDate;\r\n            this.currentView = this.opts.view;\r\n            this._createShortCuts();\r\n            this.selectedDates = [];\r\n            this.views = {};\r\n            this.keys = [];\r\n            this.minRange = '';\r\n            this.maxRange = '';\r\n            this._prevOnSelectValue = '';\r\n\r\n            this.init()\r\n        };\r\n\r\n        fsdDatepicker = Datepicker;\r\n\r\n        fsdDatepicker.prototype = {\r\n            VERSION: VERSION,\r\n            viewIndexes: ['days', 'months', 'years'],\r\n\r\n            init: function () {\r\n                if (!containerBuilt && !this.opts.inline && this.elIsInput) {\r\n                    this._buildDatepickersContainer();\r\n                }\r\n                this._buildBaseHtml();\r\n                this._defineLocale(this.opts.language);\r\n                this._syncWithMinMaxDates();\r\n\r\n                if (this.elIsInput) {\r\n                    if (!this.opts.inline) {\r\n                        // Set extra classes for proper transitions\r\n                        this._setPositionClasses(this.opts.position);\r\n                        this._bindEvents()\r\n                    }\r\n                    if (this.opts.keyboardNav && !this.opts.onlyTimepicker) {\r\n                        this._bindKeyboardEvents();\r\n                    }\r\n                    this.$datepicker.on('mousedown', this._onMouseDownDatepicker.bind(this));\r\n                    this.$datepicker.on('mouseup', this._onMouseUpDatepicker.bind(this));\r\n                }\r\n\r\n                if (this.opts.classes) {\r\n                    this.$datepicker.addClass(this.opts.classes)\r\n                }\r\n\r\n                if (this.opts.timepicker) {\r\n                    this.timepicker = new $.fn.datepicker.Timepicker(this, this.opts);\r\n                    this._bindTimepickerEvents();\r\n                }\r\n\r\n                if (this.opts.onlyTimepicker) {\r\n                    this.$datepicker.addClass('-only-timepicker-');\r\n                }\r\n\r\n                this.views[this.currentView] = new $.fn.fsdDatepicker.Body(this, this.currentView, this.opts);\r\n                this.views[this.currentView].show();\r\n                this.nav = new $.fn.fsdDatepicker.Navigation(this, this.opts);\r\n                this.view = this.currentView;\r\n\r\n                this.$el.on('clickCell.adp', this._onClickCell.bind(this));\r\n                this.$datepicker.on('mouseenter', '.datepicker--cell', this._onMouseEnterCell.bind(this));\r\n                this.$datepicker.on('mouseleave', '.datepicker--cell', this._onMouseLeaveCell.bind(this));\r\n\r\n                this.inited = true;\r\n            },\r\n\r\n            _createShortCuts: function () {\r\n                this.minDate = this.opts.minDate ? this.opts.minDate : new Date(-8639999913600000);\r\n                this.maxDate = this.opts.maxDate ? this.opts.maxDate : new Date(8639999913600000);\r\n            },\r\n\r\n            _bindEvents: function () {\r\n                this.$el.on(this.opts.showEvent + '.adp', this._onShowEvent.bind(this));\r\n                this.$el.on('mouseup.adp', this._onMouseUpEl.bind(this));\r\n                this.$el.on('blur.adp', this._onBlur.bind(this));\r\n                this.$el.on('keyup.adp', this._onKeyUpGeneral.bind(this));\r\n                $(window).on('resize.adp', this._onResize.bind(this));\r\n                $('body').on('mouseup.adp', this._onMouseUpBody.bind(this));\r\n            },\r\n\r\n            _bindKeyboardEvents: function () {\r\n                this.$el.on('keydown.adp', this._onKeyDown.bind(this));\r\n                this.$el.on('keyup.adp', this._onKeyUp.bind(this));\r\n                this.$el.on('hotKey.adp', this._onHotKey.bind(this));\r\n            },\r\n\r\n            _bindTimepickerEvents: function () {\r\n                this.$el.on('timeChange.adp', this._onTimeChange.bind(this));\r\n            },\r\n\r\n            isWeekend: function (day) {\r\n                return this.opts.weekends.indexOf(day) !== -1;\r\n            },\r\n\r\n            _defineLocale: function (lang) {\r\n                if (typeof lang == 'string') {\r\n                    this.loc = $.fn.fsdDatepicker.language[lang];\r\n                    if (!this.loc) {\r\n                        console.warn('Can\\'t find language \"' + lang + '\" in Datepicker.language, will use \"ru\" instead');\r\n                        this.loc = $.extend(true, {}, $.fn.fsdDatepicker.language.ru)\r\n                    }\r\n\r\n                    this.loc = $.extend(true, {}, $.fn.fsdDatepicker.language.ru, $.fn.fsdDatepicker.language[lang])\r\n                } else {\r\n                    this.loc = $.extend(true, {}, $.fn.fsdDatepicker.language.ru, lang)\r\n                }\r\n\r\n                if (this.opts.dateFormat) {\r\n                    this.loc.dateFormat = this.opts.dateFormat\r\n                }\r\n\r\n                if (this.opts.timeFormat) {\r\n                    this.loc.timeFormat = this.opts.timeFormat\r\n                }\r\n\r\n                if (this.opts.firstDay !== '') {\r\n                    this.loc.firstDay = this.opts.firstDay\r\n                }\r\n\r\n                if (this.opts.timepicker) {\r\n                    this.loc.dateFormat = [this.loc.dateFormat, this.loc.timeFormat].join(this.opts.dateTimeSeparator);\r\n                }\r\n\r\n                if (this.opts.onlyTimepicker) {\r\n                    this.loc.dateFormat = this.loc.timeFormat;\r\n                }\r\n\r\n                var boundary = this._getWordBoundaryRegExp;\r\n                if (this.loc.timeFormat.match(boundary('aa')) ||\r\n                    this.loc.timeFormat.match(boundary('AA'))\r\n                ) {\r\n                    this.ampm = true;\r\n                }\r\n            },\r\n\r\n            _buildDatepickersContainer: function () {\r\n                containerBuilt = true;\r\n                $body.append('<div class=\"datepickers-container\" id=\"datepickers-container\"></div>');\r\n                $datepickersContainer = $('#datepickers-container');\r\n            },\r\n\r\n            _buildBaseHtml: function () {\r\n                var $appendTarget,\r\n                    $inline = $('<div class=\"datepicker-inline\">');\r\n\r\n                if (this.el.nodeName == 'INPUT') {\r\n                    if (!this.opts.inline) {\r\n                        $appendTarget = $datepickersContainer;\r\n                    } else {\r\n                        $appendTarget = $inline.insertAfter(this.$el)\r\n                    }\r\n                } else {\r\n                    $appendTarget = $inline.appendTo(this.$el)\r\n                }\r\n\r\n                this.$datepicker = $(baseTemplate).appendTo($appendTarget);\r\n                this.$content = $('.datepicker--content', this.$datepicker);\r\n                this.$nav = $('.datepicker--nav', this.$datepicker);\r\n            },\r\n\r\n            _triggerOnChange: function () {\r\n                if (!this.selectedDates.length) {\r\n                    // Prevent from triggering multiple onSelect callback with same argument (empty string) in IE10-11\r\n                    if (this._prevOnSelectValue === '') return;\r\n                    this._prevOnSelectValue = '';\r\n                    return this.opts.onSelect('', '', this);\r\n                }\r\n\r\n                var selectedDates = this.selectedDates,\r\n                    parsedSelected = fsdDatepicker.getParsedDate(selectedDates[0]),\r\n                    formattedDates,\r\n                    _this = this,\r\n                    dates = new Date(\r\n                        parsedSelected.year,\r\n                        parsedSelected.month,\r\n                        parsedSelected.date,\r\n                        parsedSelected.hours,\r\n                        parsedSelected.minutes\r\n                    );\r\n\r\n                formattedDates = selectedDates.map(function (date) {\r\n                    return _this.formatDate(_this.loc.dateFormat, date)\r\n                }).join(this.opts.multipleDatesSeparator);\r\n\r\n                // Create new dates array, to separate it from original selectedDates\r\n                if (this.opts.multipleDates || this.opts.range) {\r\n                    dates = selectedDates.map(function (date) {\r\n                        var parsedDate = fsdDatepicker.getParsedDate(date);\r\n                        return new Date(\r\n                            parsedDate.year,\r\n                            parsedDate.month,\r\n                            parsedDate.date,\r\n                            parsedDate.hours,\r\n                            parsedDate.minutes\r\n                        );\r\n                    })\r\n                }\r\n\r\n                this._prevOnSelectValue = formattedDates;\r\n                this.opts.onSelect(formattedDates, dates, this);\r\n            },\r\n\r\n            next: function () {\r\n                var d = this.parsedDate,\r\n                    o = this.opts;\r\n                switch (this.view) {\r\n                    case 'days':\r\n                        this.date = new Date(d.year, d.month + 1, 1);\r\n                        if (o.onChangeMonth) o.onChangeMonth(this.parsedDate.month, this.parsedDate.year);\r\n                        break;\r\n                    case 'months':\r\n                        this.date = new Date(d.year + 1, d.month, 1);\r\n                        if (o.onChangeYear) o.onChangeYear(this.parsedDate.year);\r\n                        break;\r\n                    case 'years':\r\n                        this.date = new Date(d.year + 10, 0, 1);\r\n                        if (o.onChangeDecade) o.onChangeDecade(this.curDecade);\r\n                        break;\r\n                }\r\n            },\r\n\r\n            prev: function () {\r\n                var d = this.parsedDate,\r\n                    o = this.opts;\r\n                switch (this.view) {\r\n                    case 'days':\r\n                        this.date = new Date(d.year, d.month - 1, 1);\r\n                        if (o.onChangeMonth) o.onChangeMonth(this.parsedDate.month, this.parsedDate.year);\r\n                        break;\r\n                    case 'months':\r\n                        this.date = new Date(d.year - 1, d.month, 1);\r\n                        if (o.onChangeYear) o.onChangeYear(this.parsedDate.year);\r\n                        break;\r\n                    case 'years':\r\n                        this.date = new Date(d.year - 10, 0, 1);\r\n                        if (o.onChangeDecade) o.onChangeDecade(this.curDecade);\r\n                        break;\r\n                }\r\n            },\r\n\r\n            formatDate: function (string, date) {\r\n                date = date || this.date;\r\n                var result = string,\r\n                    boundary = this._getWordBoundaryRegExp,\r\n                    locale = this.loc,\r\n                    leadingZero = fsdDatepicker.getLeadingZeroNum,\r\n                    decade = fsdDatepicker.getDecade(date),\r\n                    d = fsdDatepicker.getParsedDate(date),\r\n                    fullHours = d.fullHours,\r\n                    hours = d.hours,\r\n                    ampm = string.match(boundary('aa')) || string.match(boundary('AA')),\r\n                    dayPeriod = 'am',\r\n                    replacer = this._replacer,\r\n                    validHours;\r\n\r\n                if (this.opts.timepicker && this.timepicker && ampm) {\r\n                    validHours = this.timepicker._getValidHoursFromDate(date, ampm);\r\n                    fullHours = leadingZero(validHours.hours);\r\n                    hours = validHours.hours;\r\n                    dayPeriod = validHours.dayPeriod;\r\n                }\r\n\r\n                switch (true) {\r\n                    case /@/.test(result):\r\n                        result = result.replace(/@/, date.getTime());\r\n                    case /aa/.test(result):\r\n                        result = replacer(result, boundary('aa'), dayPeriod);\r\n                    case /AA/.test(result):\r\n                        result = replacer(result, boundary('AA'), dayPeriod.toUpperCase());\r\n                    case /dd/.test(result):\r\n                        result = replacer(result, boundary('dd'), d.fullDate);\r\n                    case /d/.test(result):\r\n                        result = replacer(result, boundary('d'), d.date);\r\n                    case /DD/.test(result):\r\n                        result = replacer(result, boundary('DD'), locale.days[d.day]);\r\n                    case /D/.test(result):\r\n                        result = replacer(result, boundary('D'), locale.daysShort[d.day]);\r\n                    case /mm/.test(result):\r\n                        result = replacer(result, boundary('mm'), d.fullMonth);\r\n                    case /m/.test(result):\r\n                        result = replacer(result, boundary('m'), d.month + 1);\r\n                    case /MM/.test(result):\r\n                        result = replacer(result, boundary('MM'), this.loc.months[d.month]);\r\n                    case /M/.test(result):\r\n                        result = replacer(result, boundary('M'), locale.monthsShort[d.month]);\r\n                    case /ii/.test(result):\r\n                        result = replacer(result, boundary('ii'), d.fullMinutes);\r\n                    case /i/.test(result):\r\n                        result = replacer(result, boundary('i'), d.minutes);\r\n                    case /hh/.test(result):\r\n                        result = replacer(result, boundary('hh'), fullHours);\r\n                    case /h/.test(result):\r\n                        result = replacer(result, boundary('h'), hours);\r\n                    case /yyyy/.test(result):\r\n                        result = replacer(result, boundary('yyyy'), d.year);\r\n                    case /yyyy1/.test(result):\r\n                        result = replacer(result, boundary('yyyy1'), decade[0]);\r\n                    case /yyyy2/.test(result):\r\n                        result = replacer(result, boundary('yyyy2'), decade[1]);\r\n                    case /yy/.test(result):\r\n                        result = replacer(result, boundary('yy'), d.year.toString().slice(-2));\r\n                }\r\n                return result;\r\n            },\r\n\r\n            _replacer: function (str, reg, data) {\r\n                return str.replace(reg, function (match, p1, p2, p3) {\r\n                    return p1 + data + p3;\r\n                })\r\n            },\r\n\r\n            _getWordBoundaryRegExp: function (sign) {\r\n                var symbols = '\\\\s|\\\\.|-|/|\\\\\\\\|,|\\\\$|\\\\!|\\\\?|:|;';\r\n\r\n                return new RegExp('(^|>|' + symbols + ')(' + sign + ')($|<|' + symbols + ')', 'g');\r\n            },\r\n\r\n\r\n            selectDate: function (date) {\r\n                var _this = this,\r\n                    opts = _this.opts,\r\n                    d = _this.parsedDate,\r\n                    selectedDates = _this.selectedDates,\r\n                    len = selectedDates.length,\r\n                    newDate = '';\r\n\r\n                if (Array.isArray(date)) {\r\n                    date.forEach(function (d) {\r\n                        _this.selectDate(d)\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                if (!(date instanceof Date)) return;\r\n\r\n                this.lastSelectedDate = date;\r\n\r\n                // Set new time values from Date\r\n                if (this.timepicker) {\r\n                    this.timepicker._setTime(date);\r\n                }\r\n\r\n                // On this step timepicker will set valid values in it's instance\r\n                _this._trigger('selectDate', date);\r\n\r\n                // Set correct time values after timepicker's validation\r\n                // Prevent from setting hours or minutes which values are lesser then `min` value or\r\n                // greater then `max` value\r\n                if (this.timepicker) {\r\n                    date.setHours(this.timepicker.hours);\r\n                    date.setMinutes(this.timepicker.minutes)\r\n                }\r\n\r\n                if (_this.view == 'days') {\r\n                    if (date.getMonth() != d.month && opts.moveToOtherMonthsOnSelect) {\r\n                        newDate = new Date(date.getFullYear(), date.getMonth(), 1);\r\n                    }\r\n                }\r\n\r\n                if (_this.view == 'years') {\r\n                    if (date.getFullYear() != d.year && opts.moveToOtherYearsOnSelect) {\r\n                        newDate = new Date(date.getFullYear(), 0, 1);\r\n                    }\r\n                }\r\n\r\n                if (newDate) {\r\n                    _this.silent = true;\r\n                    _this.date = newDate;\r\n                    _this.silent = false;\r\n                    _this.nav._render()\r\n                }\r\n\r\n                if (opts.multipleDates && !opts.range) { // Set priority to range functionality\r\n                    if (len === opts.multipleDates) return;\r\n                    if (!_this._isSelected(date)) {\r\n                        _this.selectedDates.push(date);\r\n                    }\r\n                } else if (opts.range) {\r\n                    if (len == 2) {\r\n                        _this.selectedDates = [date];\r\n                        _this.minRange = date;\r\n                        _this.maxRange = '';\r\n                    } else if (len == 1) {\r\n                        _this.selectedDates.push(date);\r\n                        if (!_this.maxRange) {\r\n                            _this.maxRange = date;\r\n                        } else {\r\n                            _this.minRange = date;\r\n                        }\r\n                        // Swap dates if they were selected via dp.selectDate() and second date was smaller then first\r\n                        if (fsdDatepicker.bigger(_this.maxRange, _this.minRange)) {\r\n                            _this.maxRange = _this.minRange;\r\n                            _this.minRange = date;\r\n                        }\r\n                        _this.selectedDates = [_this.minRange, _this.maxRange]\r\n\r\n                    } else {\r\n                        _this.selectedDates = [date];\r\n                        _this.minRange = date;\r\n                    }\r\n                } else {\r\n                    _this.selectedDates = [date];\r\n                }\r\n\r\n                _this._setInputValue();\r\n\r\n                if (opts.onSelect) {\r\n                    _this._triggerOnChange();\r\n                }\r\n\r\n                if (opts.autoClose && !this.timepickerIsActive) {\r\n                    if (!opts.multipleDates && !opts.range) {\r\n                        _this.hide();\r\n                    } else if (opts.range && _this.selectedDates.length == 2) {\r\n                        _this.hide();\r\n                    }\r\n                }\r\n\r\n                _this.views[this.currentView]._render()\r\n            },\r\n\r\n            removeDate: function (date) {\r\n                var selected = this.selectedDates,\r\n                    _this = this;\r\n\r\n                if (!(date instanceof Date)) return;\r\n\r\n                return selected.some(function (curDate, i) {\r\n                    if (datepicker.isSame(curDate, date)) {\r\n                        selected.splice(i, 1);\r\n\r\n                        if (!_this.selectedDates.length) {\r\n                            _this.minRange = '';\r\n                            _this.maxRange = '';\r\n                            _this.lastSelectedDate = '';\r\n                        } else {\r\n                            _this.lastSelectedDate = _this.selectedDates[_this.selectedDates.length - 1];\r\n                        }\r\n\r\n                        _this.views[_this.currentView]._render();\r\n                        _this._setInputValue();\r\n\r\n                        if (_this.opts.onSelect) {\r\n                            _this._triggerOnChange();\r\n                        }\r\n\r\n                        return true\r\n                    }\r\n                })\r\n            },\r\n\r\n            today: function () {\r\n                this.silent = true;\r\n                this.view = this.opts.minView;\r\n                this.silent = false;\r\n                this.date = new Date();\r\n\r\n                if (this.opts.todayButton instanceof Date) {\r\n                    this.selectDate(this.opts.todayButton)\r\n                }\r\n            },\r\n\r\n            clear: function () {\r\n                this.selectedDates = [];\r\n                this.minRange = '';\r\n                this.maxRange = '';\r\n                this.views[this.currentView]._render();\r\n                this._setInputValue();\r\n                if (this.opts.onSelect) {\r\n                    this._triggerOnChange()\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Updates datepicker options\r\n             * @param {String|Object} param - parameter's name to update. If object then it will extend current options\r\n             * @param {String|Number|Object} [value] - new param value\r\n             */\r\n            update: function (param, value) {\r\n                var len = arguments.length,\r\n                    lastSelectedDate = this.lastSelectedDate;\r\n\r\n                if (len == 2) {\r\n                    this.opts[param] = value;\r\n                } else if (len == 1 && typeof param == 'object') {\r\n                    this.opts = $.extend(true, this.opts, param)\r\n                }\r\n\r\n                this._createShortCuts();\r\n                this._syncWithMinMaxDates();\r\n                this._defineLocale(this.opts.language);\r\n                this.nav._addButtonsIfNeed();\r\n                if (!this.opts.onlyTimepicker) this.nav._render();\r\n                this.views[this.currentView]._render();\r\n\r\n                if (this.elIsInput && !this.opts.inline) {\r\n                    this._setPositionClasses(this.opts.position);\r\n                    if (this.visible) {\r\n                        this.setPosition(this.opts.position)\r\n                    }\r\n                }\r\n\r\n                if (this.opts.classes) {\r\n                    this.$datepicker.addClass(this.opts.classes)\r\n                }\r\n\r\n                if (this.opts.onlyTimepicker) {\r\n                    this.$datepicker.addClass('-only-timepicker-');\r\n                }\r\n\r\n                if (this.opts.timepicker) {\r\n                    if (lastSelectedDate) this.timepicker._handleDate(lastSelectedDate);\r\n                    this.timepicker._updateRanges();\r\n                    this.timepicker._updateCurrentTime();\r\n                    // Change hours and minutes if it's values have been changed through min/max hours/minutes\r\n                    if (lastSelectedDate) {\r\n                        lastSelectedDate.setHours(this.timepicker.hours);\r\n                        lastSelectedDate.setMinutes(this.timepicker.minutes);\r\n                    }\r\n                }\r\n\r\n                this._setInputValue();\r\n\r\n                return this;\r\n            },\r\n\r\n            _syncWithMinMaxDates: function () {\r\n                var curTime = this.date.getTime();\r\n                this.silent = true;\r\n                if (this.minTime > curTime) {\r\n                    this.date = this.minDate;\r\n                }\r\n\r\n                if (this.maxTime < curTime) {\r\n                    this.date = this.maxDate;\r\n                }\r\n                this.silent = false;\r\n            },\r\n\r\n            _isSelected: function (checkDate, cellType) {\r\n                var res = false;\r\n                this.selectedDates.some(function (date) {\r\n                    if (fsdDatepicker.isSame(date, checkDate, cellType)) {\r\n                        res = date;\r\n                        return true;\r\n                    }\r\n                });\r\n                return res;\r\n            },\r\n\r\n            _setInputValue: function () {\r\n                var _this = this,\r\n                    opts = _this.opts,\r\n                    format = _this.loc.dateFormat,\r\n                    altFormat = opts.altFieldDateFormat,\r\n                    value = _this.selectedDates.map(function (date) {\r\n                        return _this.formatDate(format, date)\r\n                    }),\r\n                    altValues;\r\n\r\n                if (opts.altField && _this.$altField.length) {\r\n                    altValues = this.selectedDates.map(function (date) {\r\n                        return _this.formatDate(altFormat, date)\r\n                    });\r\n                    altValues = altValues.join(this.opts.multipleDatesSeparator);\r\n                    this.$altField.val(altValues);\r\n                }\r\n\r\n                value = value.join(this.opts.multipleDatesSeparator);\r\n\r\n                this.$el.val(value)\r\n            },\r\n\r\n            /**\r\n             * Check if date is between minDate and maxDate\r\n             * @param date {object} - date object\r\n             * @param type {string} - cell type\r\n             * @returns {boolean}\r\n             * @private\r\n             */\r\n            _isInRange: function (date, type) {\r\n                var time = date.getTime(),\r\n                    d = fsdDatepicker.getParsedDate(date),\r\n                    min = fsdDatepicker.getParsedDate(this.minDate),\r\n                    max = fsdDatepicker.getParsedDate(this.maxDate),\r\n                    dMinTime = new Date(d.year, d.month, min.date).getTime(),\r\n                    dMaxTime = new Date(d.year, d.month, max.date).getTime(),\r\n                    types = {\r\n                        day: time >= this.minTime && time <= this.maxTime,\r\n                        month: dMinTime >= this.minTime && dMaxTime <= this.maxTime,\r\n                        year: d.year >= min.year && d.year <= max.year\r\n                    };\r\n                return type ? types[type] : types.day\r\n            },\r\n\r\n            _getDimensions: function ($el) {\r\n                var offset = $el.offset();\r\n\r\n                return {\r\n                    width: $el.outerWidth(),\r\n                    height: $el.outerHeight(),\r\n                    left: offset.left,\r\n                    top: offset.top\r\n                }\r\n            },\r\n\r\n            _getDateFromCell: function (cell) {\r\n                var curDate = this.parsedDate,\r\n                    year = cell.data('year') || curDate.year,\r\n                    month = cell.data('month') == undefined ? curDate.month : cell.data('month'),\r\n                    date = cell.data('date') || 1;\r\n\r\n                return new Date(year, month, date);\r\n            },\r\n\r\n            _setPositionClasses: function (pos) {\r\n                pos = pos.split(' ');\r\n                var main = pos[0],\r\n                    sec = pos[1],\r\n                    classes = 'datepicker -' + main + '-' + sec + '- -from-' + main + '-';\r\n\r\n                if (this.visible) classes += ' active';\r\n\r\n                this.$datepicker\r\n                    .removeAttr('class')\r\n                    .addClass(classes);\r\n            },\r\n\r\n            setPosition: function (position) {\r\n                position = position || this.opts.position;\r\n\r\n                var dims = this._getDimensions(this.$el),\r\n                    selfDims = this._getDimensions(this.$datepicker),\r\n                    pos = position.split(' '),\r\n                    top, left,\r\n                    offset = this.opts.offset,\r\n                    main = pos[0],\r\n                    secondary = pos[1];\r\n\r\n                switch (main) {\r\n                    case 'top':\r\n                        top = dims.top - selfDims.height - offset;\r\n                        break;\r\n                    case 'right':\r\n                        left = dims.left + dims.width + offset;\r\n                        break;\r\n                    case 'bottom':\r\n                        top = dims.top + dims.height + offset;\r\n                        break;\r\n                    case 'left':\r\n                        left = dims.left - selfDims.width - offset;\r\n                        break;\r\n                }\r\n\r\n                switch (secondary) {\r\n                    case 'top':\r\n                        top = dims.top;\r\n                        break;\r\n                    case 'right':\r\n                        left = dims.left + dims.width - selfDims.width;\r\n                        break;\r\n                    case 'bottom':\r\n                        top = dims.top + dims.height - selfDims.height;\r\n                        break;\r\n                    case 'left':\r\n                        left = dims.left;\r\n                        break;\r\n                    case 'center':\r\n                        if (/left|right/.test(main)) {\r\n                            top = dims.top + dims.height / 2 - selfDims.height / 2;\r\n                        } else {\r\n                            left = dims.left + dims.width / 2 - selfDims.width / 2;\r\n                        }\r\n                }\r\n\r\n                this.$datepicker\r\n                    .css({\r\n                        left: left,\r\n                        top: top\r\n                    })\r\n            },\r\n\r\n            show: function () {\r\n                var onShow = this.opts.onShow;\r\n\r\n                this.setPosition(this.opts.position);\r\n                this.$datepicker.addClass('active');\r\n                this.visible = true;\r\n\r\n                if (onShow) {\r\n                    this._bindVisionEvents(onShow)\r\n                }\r\n            },\r\n\r\n            hide: function () {\r\n                var onHide = this.opts.onHide;\r\n\r\n                this.$datepicker\r\n                    .removeClass('active')\r\n                    .css({\r\n                        left: '-100000px'\r\n                    });\r\n\r\n                this.focused = '';\r\n                this.keys = [];\r\n\r\n                this.inFocus = false;\r\n                this.visible = false;\r\n                this.$el.blur();\r\n\r\n                if (onHide) {\r\n                    this._bindVisionEvents(onHide)\r\n                }\r\n            },\r\n\r\n            down: function (date) {\r\n                this._changeView(date, 'down');\r\n            },\r\n\r\n            up: function (date) {\r\n                this._changeView(date, 'up');\r\n            },\r\n\r\n            _bindVisionEvents: function (event) {\r\n                this.$datepicker.off('transitionend.dp');\r\n                event(this, false);\r\n                this.$datepicker.one('transitionend.dp', event.bind(this, this, true))\r\n            },\r\n\r\n            _changeView: function (date, dir) {\r\n                date = date || this.focused || this.date;\r\n\r\n                var nextView = dir == 'up' ? this.viewIndex + 1 : this.viewIndex - 1;\r\n                if (nextView > 2) nextView = 2;\r\n                if (nextView < 0) nextView = 0;\r\n\r\n                this.silent = true;\r\n                this.date = new Date(date.getFullYear(), date.getMonth(), 1);\r\n                this.silent = false;\r\n                this.view = this.viewIndexes[nextView];\r\n\r\n            },\r\n\r\n            _handleHotKey: function (key) {\r\n                var date = datepicker.getParsedDate(this._getFocusedDate()),\r\n                    focusedParsed,\r\n                    o = this.opts,\r\n                    newDate,\r\n                    totalDaysInNextMonth,\r\n                    monthChanged = false,\r\n                    yearChanged = false,\r\n                    decadeChanged = false,\r\n                    y = date.year,\r\n                    m = date.month,\r\n                    d = date.date;\r\n\r\n                switch (key) {\r\n                    case 'ctrlRight':\r\n                    case 'ctrlUp':\r\n                        m += 1;\r\n                        monthChanged = true;\r\n                        break;\r\n                    case 'ctrlLeft':\r\n                    case 'ctrlDown':\r\n                        m -= 1;\r\n                        monthChanged = true;\r\n                        break;\r\n                    case 'shiftRight':\r\n                    case 'shiftUp':\r\n                        yearChanged = true;\r\n                        y += 1;\r\n                        break;\r\n                    case 'shiftLeft':\r\n                    case 'shiftDown':\r\n                        yearChanged = true;\r\n                        y -= 1;\r\n                        break;\r\n                    case 'altRight':\r\n                    case 'altUp':\r\n                        decadeChanged = true;\r\n                        y += 10;\r\n                        break;\r\n                    case 'altLeft':\r\n                    case 'altDown':\r\n                        decadeChanged = true;\r\n                        y -= 10;\r\n                        break;\r\n                    case 'ctrlShiftUp':\r\n                        this.up();\r\n                        break;\r\n                }\r\n\r\n                totalDaysInNextMonth = fsdDatepicker.getDaysCount(new Date(y, m));\r\n                newDate = new Date(y, m, d);\r\n\r\n                // If next month has less days than current, set date to total days in that month\r\n                if (totalDaysInNextMonth < d) d = totalDaysInNextMonth;\r\n\r\n                // Check if newDate is in valid range\r\n                if (newDate.getTime() < this.minTime) {\r\n                    newDate = this.minDate;\r\n                } else if (newDate.getTime() > this.maxTime) {\r\n                    newDate = this.maxDate;\r\n                }\r\n\r\n                this.focused = newDate;\r\n\r\n                focusedParsed = datepicker.getParsedDate(newDate);\r\n                if (monthChanged && o.onChangeMonth) {\r\n                    o.onChangeMonth(focusedParsed.month, focusedParsed.year)\r\n                }\r\n                if (yearChanged && o.onChangeYear) {\r\n                    o.onChangeYear(focusedParsed.year)\r\n                }\r\n                if (decadeChanged && o.onChangeDecade) {\r\n                    o.onChangeDecade(this.curDecade)\r\n                }\r\n            },\r\n\r\n            _registerKey: function (key) {\r\n                var exists = this.keys.some(function (curKey) {\r\n                    return curKey == key;\r\n                });\r\n\r\n                if (!exists) {\r\n                    this.keys.push(key)\r\n                }\r\n            },\r\n\r\n            _unRegisterKey: function (key) {\r\n                var index = this.keys.indexOf(key);\r\n\r\n                this.keys.splice(index, 1);\r\n            },\r\n\r\n            _isHotKeyPressed: function () {\r\n                var currentHotKey,\r\n                    found = false,\r\n                    _this = this,\r\n                    pressedKeys = this.keys.sort();\r\n\r\n                for (var hotKey in hotKeys) {\r\n                    currentHotKey = hotKeys[hotKey];\r\n                    if (pressedKeys.length != currentHotKey.length) continue;\r\n\r\n                    if (currentHotKey.every(function (key, i) { return key == pressedKeys[i] })) {\r\n                        _this._trigger('hotKey', hotKey);\r\n                        found = true;\r\n                    }\r\n                }\r\n\r\n                return found;\r\n            },\r\n\r\n            _trigger: function (event, args) {\r\n                this.$el.trigger(event, args)\r\n            },\r\n\r\n            _focusNextCell: function (keyCode, type) {\r\n                type = type || this.cellType;\r\n\r\n                var date = datepicker.getParsedDate(this._getFocusedDate()),\r\n                    y = date.year,\r\n                    m = date.month,\r\n                    d = date.date;\r\n\r\n                if (this._isHotKeyPressed()) {\r\n                    return;\r\n                }\r\n\r\n                switch (keyCode) {\r\n                    case 37: // left\r\n                        type == 'day' ? (d -= 1) : '';\r\n                        type == 'month' ? (m -= 1) : '';\r\n                        type == 'year' ? (y -= 1) : '';\r\n                        break;\r\n                    case 38: // up\r\n                        type == 'day' ? (d -= 7) : '';\r\n                        type == 'month' ? (m -= 3) : '';\r\n                        type == 'year' ? (y -= 4) : '';\r\n                        break;\r\n                    case 39: // right\r\n                        type == 'day' ? (d += 1) : '';\r\n                        type == 'month' ? (m += 1) : '';\r\n                        type == 'year' ? (y += 1) : '';\r\n                        break;\r\n                    case 40: // down\r\n                        type == 'day' ? (d += 7) : '';\r\n                        type == 'month' ? (m += 3) : '';\r\n                        type == 'year' ? (y += 4) : '';\r\n                        break;\r\n                }\r\n\r\n                var nd = new Date(y, m, d);\r\n                if (nd.getTime() < this.minTime) {\r\n                    nd = this.minDate;\r\n                } else if (nd.getTime() > this.maxTime) {\r\n                    nd = this.maxDate;\r\n                }\r\n\r\n                this.focused = nd;\r\n\r\n            },\r\n\r\n            _getFocusedDate: function () {\r\n                var focused = this.focused || this.selectedDates[this.selectedDates.length - 1],\r\n                    d = this.parsedDate;\r\n\r\n                if (!focused) {\r\n                    switch (this.view) {\r\n                        case 'days':\r\n                            focused = new Date(d.year, d.month, new Date().getDate());\r\n                            break;\r\n                        case 'months':\r\n                            focused = new Date(d.year, d.month, 1);\r\n                            break;\r\n                        case 'years':\r\n                            focused = new Date(d.year, 0, 1);\r\n                            break;\r\n                    }\r\n                }\r\n\r\n                return focused;\r\n            },\r\n\r\n            _getCell: function (date, type) {\r\n                type = type || this.cellType;\r\n\r\n                var d = fsdDatepicker.getParsedDate(date),\r\n                    selector = '.datepicker--cell[data-year=\"' + d.year + '\"]',\r\n                    $cell;\r\n\r\n                switch (type) {\r\n                    case 'month':\r\n                        selector = '[data-month=\"' + d.month + '\"]';\r\n                        break;\r\n                    case 'day':\r\n                        selector += '[data-month=\"' + d.month + '\"][data-date=\"' + d.date + '\"]';\r\n                        break;\r\n                }\r\n                $cell = this.views[this.currentView].$el.find(selector);\r\n\r\n                return $cell.length ? $cell : $('');\r\n            },\r\n\r\n            destroy: function () {\r\n                var _this = this;\r\n                _this.$el\r\n                    .off('.adp')\r\n                    .data('datepicker', '');\r\n\r\n                _this.selectedDates = [];\r\n                _this.focused = '';\r\n                _this.views = {};\r\n                _this.keys = [];\r\n                _this.minRange = '';\r\n                _this.maxRange = '';\r\n\r\n                if (_this.opts.inline || !_this.elIsInput) {\r\n                    _this.$datepicker.closest('.datepicker-inline').remove();\r\n                } else {\r\n                    _this.$datepicker.remove();\r\n                }\r\n            },\r\n\r\n            _handleAlreadySelectedDates: function (alreadySelected, selectedDate) {\r\n                if (this.opts.range) {\r\n                    if (!this.opts.toggleSelected) {\r\n                        // Add possibility to select same date when range is true\r\n                        if (this.selectedDates.length != 2) {\r\n                            this._trigger('clickCell', selectedDate);\r\n                        }\r\n                    } else {\r\n                        this.removeDate(selectedDate);\r\n                    }\r\n                } else if (this.opts.toggleSelected) {\r\n                    this.removeDate(selectedDate);\r\n                }\r\n\r\n                // Change last selected date to be able to change time when clicking on this cell\r\n                if (!this.opts.toggleSelected) {\r\n                    this.lastSelectedDate = alreadySelected;\r\n                    if (this.opts.timepicker) {\r\n                        this.timepicker._setTime(alreadySelected);\r\n                        this.timepicker.update();\r\n                    }\r\n                }\r\n            },\r\n\r\n            _onShowEvent: function (e) {\r\n                if (!this.visible) {\r\n                    this.show();\r\n                }\r\n            },\r\n\r\n            _onBlur: function () {\r\n                if (!this.inFocus && this.visible) {\r\n                    this.hide();\r\n                }\r\n            },\r\n\r\n            _onMouseDownDatepicker: function (e) {\r\n                this.inFocus = true;\r\n            },\r\n\r\n            _onMouseUpDatepicker: function (e) {\r\n                this.inFocus = false;\r\n                e.originalEvent.inFocus = true;\r\n                if (!e.originalEvent.timepickerFocus) this.$el.focus();\r\n            },\r\n\r\n            _onKeyUpGeneral: function (e) {\r\n                var val = this.$el.val();\r\n\r\n                if (!val) {\r\n                    this.clear();\r\n                }\r\n            },\r\n\r\n            _onResize: function () {\r\n                if (this.visible) {\r\n                    this.setPosition();\r\n                }\r\n            },\r\n\r\n            _onMouseUpBody: function (e) {\r\n                if (e.originalEvent.inFocus) return;\r\n\r\n                if (this.visible && !this.inFocus) {\r\n                    this.hide();\r\n                }\r\n            },\r\n\r\n            _onMouseUpEl: function (e) {\r\n                e.originalEvent.inFocus = true;\r\n                setTimeout(this._onKeyUpGeneral.bind(this), 4);\r\n            },\r\n\r\n            _onKeyDown: function (e) {\r\n                var code = e.which;\r\n                this._registerKey(code);\r\n\r\n                // Arrows\r\n                if (code >= 37 && code <= 40) {\r\n                    e.preventDefault();\r\n                    this._focusNextCell(code);\r\n                }\r\n\r\n                // Enter\r\n                if (code == 13) {\r\n                    if (this.focused) {\r\n                        if (this._getCell(this.focused).hasClass('-disabled-')) return;\r\n                        if (this.view != this.opts.minView) {\r\n                            this.down()\r\n                        } else {\r\n                            var alreadySelected = this._isSelected(this.focused, this.cellType);\r\n\r\n                            if (!alreadySelected) {\r\n                                if (this.timepicker) {\r\n                                    this.focused.setHours(this.timepicker.hours);\r\n                                    this.focused.setMinutes(this.timepicker.minutes);\r\n                                }\r\n                                this.selectDate(this.focused);\r\n                                return;\r\n                            }\r\n                            this._handleAlreadySelectedDates(alreadySelected, this.focused)\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // Esc\r\n                if (code == 27) {\r\n                    this.hide();\r\n                }\r\n            },\r\n\r\n            _onKeyUp: function (e) {\r\n                var code = e.which;\r\n                this._unRegisterKey(code);\r\n            },\r\n\r\n            _onHotKey: function (e, hotKey) {\r\n                this._handleHotKey(hotKey);\r\n            },\r\n\r\n            _onMouseEnterCell: function (e) {\r\n                var $cell = $(e.target).closest('.datepicker--cell'),\r\n                    date = this._getDateFromCell($cell);\r\n\r\n                // Prevent from unnecessary rendering and setting new currentDate\r\n                this.silent = true;\r\n\r\n                if (this.focused) {\r\n                    this.focused = ''\r\n                }\r\n\r\n                $cell.addClass('-focus-');\r\n\r\n                this.focused = date;\r\n                this.silent = false;\r\n\r\n                if (this.opts.range && this.selectedDates.length == 1) {\r\n                    this.minRange = this.selectedDates[0];\r\n                    this.maxRange = '';\r\n                    if (fsdDatepicker.less(this.minRange, this.focused)) {\r\n                        this.maxRange = this.minRange;\r\n                        this.minRange = '';\r\n                    }\r\n                    this.views[this.currentView]._update();\r\n                }\r\n            },\r\n\r\n            _onMouseLeaveCell: function (e) {\r\n                var $cell = $(e.target).closest('.datepicker--cell');\r\n\r\n                $cell.removeClass('-focus-');\r\n\r\n                this.silent = true;\r\n                this.focused = '';\r\n                this.silent = false;\r\n            },\r\n\r\n            _onTimeChange: function (e, h, m) {\r\n                var date = new Date(),\r\n                    selectedDates = this.selectedDates,\r\n                    selected = false;\r\n\r\n                if (selectedDates.length) {\r\n                    selected = true;\r\n                    date = this.lastSelectedDate;\r\n                }\r\n\r\n                date.setHours(h);\r\n                date.setMinutes(m);\r\n\r\n                if (!selected && !this._getCell(date).hasClass('-disabled-')) {\r\n                    this.selectDate(date);\r\n                } else {\r\n                    this._setInputValue();\r\n                    if (this.opts.onSelect) {\r\n                        this._triggerOnChange();\r\n                    }\r\n                }\r\n            },\r\n\r\n            _onClickCell: function (e, date) {\r\n                if (this.timepicker) {\r\n                    date.setHours(this.timepicker.hours);\r\n                    date.setMinutes(this.timepicker.minutes);\r\n                }\r\n                this.selectDate(date);\r\n            },\r\n\r\n            set focused(val) {\r\n                if (!val && this.focused) {\r\n                    var $cell = this._getCell(this.focused);\r\n\r\n                    if ($cell.length) {\r\n                        $cell.removeClass('-focus-')\r\n                    }\r\n                }\r\n                this._focused = val;\r\n                if (this.opts.range && this.selectedDates.length == 1) {\r\n                    this.minRange = this.selectedDates[0];\r\n                    this.maxRange = '';\r\n                    if (fsdDatepicker.less(this.minRange, this._focused)) {\r\n                        this.maxRange = this.minRange;\r\n                        this.minRange = '';\r\n                    }\r\n                }\r\n                if (this.silent) return;\r\n                this.date = val;\r\n            },\r\n\r\n            get focused() {\r\n                return this._focused;\r\n            },\r\n\r\n            get parsedDate() {\r\n                return fsdDatepicker.getParsedDate(this.date);\r\n            },\r\n\r\n            set date(val) {\r\n                if (!(val instanceof Date)) return;\r\n\r\n                this.currentDate = val;\r\n\r\n                if (this.inited && !this.silent) {\r\n                    this.views[this.view]._render();\r\n                    this.nav._render();\r\n                    if (this.visible && this.elIsInput) {\r\n                        this.setPosition();\r\n                    }\r\n                }\r\n                return val;\r\n            },\r\n\r\n            get date() {\r\n                return this.currentDate\r\n            },\r\n\r\n            set view(val) {\r\n                this.viewIndex = this.viewIndexes.indexOf(val);\r\n\r\n                if (this.viewIndex < 0) {\r\n                    return;\r\n                }\r\n\r\n                this.prevView = this.currentView;\r\n                this.currentView = val;\r\n\r\n                if (this.inited) {\r\n                    if (!this.views[val]) {\r\n                        this.views[val] = new $.fn.fsdDatepicker.Body(this, val, this.opts)\r\n                    } else {\r\n                        this.views[val]._render();\r\n                    }\r\n\r\n                    this.views[this.prevView].hide();\r\n                    this.views[val].show();\r\n                    this.nav._render();\r\n\r\n                    if (this.opts.onChangeView) {\r\n                        this.opts.onChangeView(val)\r\n                    }\r\n                    if (this.elIsInput && this.visible) this.setPosition();\r\n                }\r\n\r\n                return val\r\n            },\r\n\r\n            get view() {\r\n                return this.currentView;\r\n            },\r\n\r\n            get cellType() {\r\n                return this.view.substring(0, this.view.length - 1)\r\n            },\r\n\r\n            get minTime() {\r\n                var min = fsdDatepicker.getParsedDate(this.minDate);\r\n                return new Date(min.year, min.month, min.date).getTime()\r\n            },\r\n\r\n            get maxTime() {\r\n                var max = fsdDatepicker.getParsedDate(this.maxDate);\r\n                return new Date(max.year, max.month, max.date).getTime()\r\n            },\r\n\r\n            get curDecade() {\r\n                return fsdDatepicker.getDecade(this.date)\r\n            }\r\n        };\r\n\r\n        //  Utils\r\n        // -------------------------------------------------\r\n\r\n        fsdDatepicker.getDaysCount = function (date) {\r\n            return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\r\n        };\r\n\r\n        fsdDatepicker.getParsedDate = function (date) {\r\n            return {\r\n                year: date.getFullYear(),\r\n                month: date.getMonth(),\r\n                fullMonth: (date.getMonth() + 1) < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1, // One based\r\n                date: date.getDate(),\r\n                fullDate: date.getDate() < 10 ? '0' + date.getDate() : date.getDate(),\r\n                day: date.getDay(),\r\n                hours: date.getHours(),\r\n                fullHours: date.getHours() < 10 ? '0' + date.getHours() : date.getHours(),\r\n                minutes: date.getMinutes(),\r\n                fullMinutes: date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()\r\n            }\r\n        };\r\n\r\n        fsdDatepicker.getDecade = function (date) {\r\n            var firstYear = Math.floor(date.getFullYear() / 10) * 10;\r\n\r\n            return [firstYear, firstYear + 9];\r\n        };\r\n\r\n        fsdDatepicker.template = function (str, data) {\r\n            return str.replace(/#\\{([\\w]+)\\}/g, function (source, match) {\r\n                if (data[match] || data[match] === 0) {\r\n                    return data[match]\r\n                }\r\n            });\r\n        };\r\n\r\n        fsdDatepicker.isSame = function (date1, date2, type) {\r\n            if (!date1 || !date2) return false;\r\n            var d1 = fsdDatepicker.getParsedDate(date1),\r\n                d2 = fsdDatepicker.getParsedDate(date2),\r\n                _type = type ? type : 'day',\r\n\r\n                conditions = {\r\n                    day: d1.date == d2.date && d1.month == d2.month && d1.year == d2.year,\r\n                    month: d1.month == d2.month && d1.year == d2.year,\r\n                    year: d1.year == d2.year\r\n                };\r\n\r\n            return conditions[_type];\r\n        };\r\n\r\n        fsdDatepicker.less = function (dateCompareTo, date, type) {\r\n            if (!dateCompareTo || !date) return false;\r\n            return date.getTime() < dateCompareTo.getTime();\r\n        };\r\n\r\n        fsdDatepicker.bigger = function (dateCompareTo, date, type) {\r\n            if (!dateCompareTo || !date) return false;\r\n            return date.getTime() > dateCompareTo.getTime();\r\n        };\r\n\r\n        fsdDatepicker.getLeadingZeroNum = function (num) {\r\n            return parseInt(num) < 10 ? '0' + num : num;\r\n        };\r\n\r\n        /**\r\n         * Returns copy of date with hours and minutes equals to 0\r\n         * @param date {Date}\r\n         */\r\n        fsdDatepicker.resetTime = function (date) {\r\n            if (typeof date != 'object') return;\r\n            date = fsdDatepicker.getParsedDate(date);\r\n            return new Date(date.year, date.month, date.date)\r\n        };\r\n\r\n        $.fn.fsdDatepicker = function (options) {\r\n            return this.each(function () {\r\n                if (!$.data(this, pluginName)) {\r\n                    $.data(this, pluginName,\r\n                        new Datepicker(this, options));\r\n                } else {\r\n                    var _this = $.data(this, pluginName);\r\n\r\n                    _this.opts = $.extend(true, _this.opts, options);\r\n                    _this.update();\r\n                }\r\n            });\r\n        };\r\n\r\n        $.fn.fsdDatepicker.Constructor = Datepicker;\r\n\r\n        $.fn.fsdDatepicker.language = {\r\n            ru: {\r\n                days: ['', '', '', '', '', '', ''],\r\n                daysShort: ['', '', '', '', '', '', ''],\r\n                daysMin: ['', '', '', '', '', '', ''],\r\n                months: ['', '', '', '', '', '', '', '', '', '', '', ''],\r\n                monthsShort: ['', '', '', '', '', '', '', '', '', '', '', ''],\r\n                today: '',\r\n                clear: '',\r\n                dateFormat: 'dd.mm.yyyy',\r\n                timeFormat: 'hh:ii',\r\n                firstDay: 1\r\n            }\r\n        };\r\n\r\n        $(function () {\r\n            $(autoInitSelector).fsdDatepicker();\r\n        })\r\n\r\n    })();\r\n\r\n    ; (function () {\r\n        var templates = {\r\n            days: '' +\r\n                '<div class=\"datepicker--days datepicker--body\">' +\r\n                '<div class=\"datepicker--days-names\"></div>' +\r\n                '<div class=\"datepicker--cells datepicker--cells-days\"></div>' +\r\n                '</div>',\r\n            months: '' +\r\n                '<div class=\"datepicker--months datepicker--body\">' +\r\n                '<div class=\"datepicker--cells datepicker--cells-months\"></div>' +\r\n                '</div>',\r\n            years: '' +\r\n                '<div class=\"datepicker--years datepicker--body\">' +\r\n                '<div class=\"datepicker--cells datepicker--cells-years\"></div>' +\r\n                '</div>'\r\n        },\r\n            fsdDatepicker = $.fn.fsdDatepicker,\r\n            dp = fsdDatepicker.Constructor;\r\n\r\n        fsdDatepicker.Body = function (d, type, opts) {\r\n            this.d = d;\r\n            this.type = type;\r\n            this.opts = opts;\r\n            this.$el = $('');\r\n\r\n            if (this.opts.onlyTimepicker) return;\r\n            this.init();\r\n        };\r\n\r\n        fsdDatepicker.Body.prototype = {\r\n            init: function () {\r\n                this._buildBaseHtml();\r\n                this._render();\r\n\r\n                this._bindEvents();\r\n            },\r\n\r\n            _bindEvents: function () {\r\n                this.$el.on('click', '.datepicker--cell', $.proxy(this._onClickCell, this));\r\n            },\r\n\r\n            _buildBaseHtml: function () {\r\n                this.$el = $(templates[this.type]).appendTo(this.d.$content);\r\n                this.$names = $('.datepicker--days-names', this.$el);\r\n                this.$cells = $('.datepicker--cells', this.$el);\r\n            },\r\n\r\n            _getDayNamesHtml: function (firstDay, curDay, html, i) {\r\n                curDay = curDay != undefined ? curDay : firstDay;\r\n                html = html ? html : '';\r\n                i = i != undefined ? i : 0;\r\n\r\n                if (i > 7) return html;\r\n                if (curDay == 7) return this._getDayNamesHtml(firstDay, 0, html, ++i);\r\n\r\n                html += '<div class=\"datepicker--day-name' + (this.d.isWeekend(curDay) ? \" -weekend-\" : \"\") + '\">' + this.d.loc.daysMin[curDay] + '</div>';\r\n\r\n                return this._getDayNamesHtml(firstDay, ++curDay, html, ++i);\r\n            },\r\n\r\n            _getCellContents: function (date, type) {\r\n                var classes = \"datepicker--cell datepicker--cell-\" + type,\r\n                    currentDate = new Date(),\r\n                    parent = this.d,\r\n                    minRange = dp.resetTime(parent.minRange),\r\n                    maxRange = dp.resetTime(parent.maxRange),\r\n                    opts = parent.opts,\r\n                    d = dp.getParsedDate(date),\r\n                    render = {},\r\n                    html = d.date;\r\n\r\n                switch (type) {\r\n                    case 'day':\r\n                        if (parent.isWeekend(d.day)) classes += \" -weekend-\";\r\n                        if (d.month != this.d.parsedDate.month) {\r\n                            classes += \" -other-month-\";\r\n                            if (!opts.selectOtherMonths) {\r\n                                classes += \" -disabled-\";\r\n                            }\r\n                            if (!opts.showOtherMonths) html = '';\r\n                        }\r\n                        break;\r\n                    case 'month':\r\n                        html = parent.loc[parent.opts.monthsField][d.month];\r\n                        break;\r\n                    case 'year':\r\n                        var decade = parent.curDecade;\r\n                        html = d.year;\r\n                        if (d.year < decade[0] || d.year > decade[1]) {\r\n                            classes += ' -other-decade-';\r\n                            if (!opts.selectOtherYears) {\r\n                                classes += \" -disabled-\";\r\n                            }\r\n                            if (!opts.showOtherYears) html = '';\r\n                        }\r\n                        break;\r\n                }\r\n\r\n                if (opts.onRenderCell) {\r\n                    render = opts.onRenderCell(date, type) || {};\r\n                    html = render.html ? render.html : html;\r\n                    classes += render.classes ? ' ' + render.classes : '';\r\n                }\r\n\r\n                if (opts.range) {\r\n                    if (dp.isSame(minRange, date, type)) classes += ' -range-from-';\r\n                    if (dp.isSame(maxRange, date, type)) classes += ' -range-to-';\r\n\r\n                    if (parent.selectedDates.length == 1 && parent.focused) {\r\n                        if (\r\n                            (dp.bigger(minRange, date) && dp.less(parent.focused, date)) ||\r\n                            (dp.less(maxRange, date) && dp.bigger(parent.focused, date))) {\r\n                            classes += ' -in-range-'\r\n                        }\r\n\r\n                        if (dp.less(maxRange, date) && dp.isSame(parent.focused, date)) {\r\n                            classes += ' -range-from-'\r\n                        }\r\n                        if (dp.bigger(minRange, date) && dp.isSame(parent.focused, date)) {\r\n                            classes += ' -range-to-'\r\n                        }\r\n\r\n                    } else if (parent.selectedDates.length == 2) {\r\n                        if (dp.bigger(minRange, date) && dp.less(maxRange, date)) {\r\n                            classes += ' -in-range-'\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n                if (dp.isSame(currentDate, date, type)) classes += ' -current-';\r\n                if (parent.focused && dp.isSame(date, parent.focused, type)) classes += ' -focus-';\r\n                if (parent._isSelected(date, type)) classes += ' -selected-';\r\n                if (!parent._isInRange(date, type) || render.disabled) classes += ' -disabled-';\r\n\r\n                return {\r\n                    html: html,\r\n                    classes: classes\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Calculates days number to render. Generates days html and returns it.\r\n             * @param {object} date - Date object\r\n             * @returns {string}\r\n             * @private\r\n             */\r\n            _getDaysHtml: function (date) {\r\n                var totalMonthDays = dp.getDaysCount(date),\r\n                    firstMonthDay = new Date(date.getFullYear(), date.getMonth(), 1).getDay(),\r\n                    lastMonthDay = new Date(date.getFullYear(), date.getMonth(), totalMonthDays).getDay(),\r\n                    daysFromPevMonth = firstMonthDay - this.d.loc.firstDay,\r\n                    daysFromNextMonth = 6 - lastMonthDay + this.d.loc.firstDay;\r\n\r\n                daysFromPevMonth = daysFromPevMonth < 0 ? daysFromPevMonth + 7 : daysFromPevMonth;\r\n                daysFromNextMonth = daysFromNextMonth > 6 ? daysFromNextMonth - 7 : daysFromNextMonth;\r\n\r\n                var startDayIndex = -daysFromPevMonth + 1,\r\n                    m, y,\r\n                    html = '';\r\n\r\n                for (var i = startDayIndex, max = totalMonthDays + daysFromNextMonth; i <= max; i++) {\r\n                    y = date.getFullYear();\r\n                    m = date.getMonth();\r\n\r\n                    html += this._getDayHtml(new Date(y, m, i))\r\n                }\r\n\r\n                return html;\r\n            },\r\n\r\n            _getDayHtml: function (date) {\r\n                var content = this._getCellContents(date, 'day');\r\n\r\n                return '<div class=\"' + content.classes + '\" ' +\r\n                    'data-date=\"' + date.getDate() + '\" ' +\r\n                    'data-month=\"' + date.getMonth() + '\" ' +\r\n                    'data-year=\"' + date.getFullYear() + '\">' + content.html + '</div>';\r\n            },\r\n\r\n            /**\r\n             * Generates months html\r\n             * @param {object} date - date instance\r\n             * @returns {string}\r\n             * @private\r\n             */\r\n            _getMonthsHtml: function (date) {\r\n                var html = '',\r\n                    d = dp.getParsedDate(date),\r\n                    i = 0;\r\n\r\n                while (i < 12) {\r\n                    html += this._getMonthHtml(new Date(d.year, i));\r\n                    i++\r\n                }\r\n\r\n                return html;\r\n            },\r\n\r\n            _getMonthHtml: function (date) {\r\n                var content = this._getCellContents(date, 'month');\r\n\r\n                return '<div class=\"' + content.classes + '\" data-month=\"' + date.getMonth() + '\">' + content.html + '</div>'\r\n            },\r\n\r\n            _getYearsHtml: function (date) {\r\n                var d = dp.getParsedDate(date),\r\n                    decade = dp.getDecade(date),\r\n                    firstYear = decade[0] - 1,\r\n                    html = '',\r\n                    i = firstYear;\r\n\r\n                for (i; i <= decade[1] + 1; i++) {\r\n                    html += this._getYearHtml(new Date(i, 0));\r\n                }\r\n\r\n                return html;\r\n            },\r\n\r\n            _getYearHtml: function (date) {\r\n                var content = this._getCellContents(date, 'year');\r\n\r\n                return '<div class=\"' + content.classes + '\" data-year=\"' + date.getFullYear() + '\">' + content.html + '</div>'\r\n            },\r\n\r\n            _renderTypes: {\r\n                days: function () {\r\n                    var dayNames = this._getDayNamesHtml(this.d.loc.firstDay),\r\n                        days = this._getDaysHtml(this.d.currentDate);\r\n\r\n                    this.$cells.html(days);\r\n                    this.$names.html(dayNames)\r\n                },\r\n                months: function () {\r\n                    var html = this._getMonthsHtml(this.d.currentDate);\r\n\r\n                    this.$cells.html(html)\r\n                },\r\n                years: function () {\r\n                    var html = this._getYearsHtml(this.d.currentDate);\r\n\r\n                    this.$cells.html(html)\r\n                }\r\n            },\r\n\r\n            _render: function () {\r\n                if (this.opts.onlyTimepicker) return;\r\n                this._renderTypes[this.type].bind(this)();\r\n            },\r\n\r\n            _update: function () {\r\n                var $cells = $('.datepicker--cell', this.$cells),\r\n                    _this = this,\r\n                    classes,\r\n                    $cell,\r\n                    date;\r\n                $cells.each(function (cell, i) {\r\n                    $cell = $(this);\r\n                    date = _this.d._getDateFromCell($(this));\r\n                    classes = _this._getCellContents(date, _this.d.cellType);\r\n                    $cell.attr('class', classes.classes)\r\n                });\r\n            },\r\n\r\n            show: function () {\r\n                if (this.opts.onlyTimepicker) return;\r\n                this.$el.addClass('active');\r\n                this.acitve = true;\r\n            },\r\n\r\n            hide: function () {\r\n                this.$el.removeClass('active');\r\n                this.active = false;\r\n            },\r\n\r\n            //  Events\r\n            // -------------------------------------------------\r\n\r\n            _handleClick: function (el) {\r\n                var date = el.data('date') || 1,\r\n                    month = el.data('month') || 0,\r\n                    year = el.data('year') || this.d.parsedDate.year,\r\n                    dp = this.d;\r\n                // Change view if min view does not reach yet\r\n                if (dp.view != this.opts.minView) {\r\n                    dp.down(new Date(year, month, date));\r\n                    return;\r\n                }\r\n                // Select date if min view is reached\r\n                var selectedDate = new Date(year, month, date),\r\n                    alreadySelected = this.d._isSelected(selectedDate, this.d.cellType);\r\n\r\n                if (!alreadySelected) {\r\n                    dp._trigger('clickCell', selectedDate);\r\n                    return;\r\n                }\r\n\r\n                dp._handleAlreadySelectedDates.bind(dp, alreadySelected, selectedDate)();\r\n\r\n            },\r\n\r\n            _onClickCell: function (e) {\r\n                var $el = $(e.target).closest('.datepicker--cell');\r\n\r\n                if ($el.hasClass('-disabled-')) return;\r\n\r\n                this._handleClick.bind(this)($el);\r\n            }\r\n        };\r\n    })();\r\n\r\n    ; (function () {\r\n        var template = '' +\r\n            '<div class=\"datepicker--nav-action\" data-action=\"prev\">#{prevHtml}</div>' +\r\n            '<div class=\"datepicker--nav-title\">#{title}</div>' +\r\n            '<div class=\"datepicker--nav-action\" data-action=\"next\">#{nextHtml}</div>',\r\n            buttonsContainerTemplate = '<div class=\"datepicker--buttons\"></div>',\r\n            button = '<span class=\"datepicker--button\" data-action=\"#{action}\">#{label}</span>',\r\n            fsdDatepicker = $.fn.fsdDatepicker,\r\n            dp = fsdDatepicker.Constructor;\r\n\r\n        fsdDatepicker.Navigation = function (d, opts) {\r\n            this.d = d;\r\n            this.opts = opts;\r\n\r\n            this.$buttonsContainer = '';\r\n\r\n            this.init();\r\n        };\r\n\r\n        fsdDatepicker.Navigation.prototype = {\r\n            init: function () {\r\n                this._buildBaseHtml();\r\n                this._bindEvents();\r\n            },\r\n\r\n            _bindEvents: function () {\r\n                this.d.$nav.on('click', '.datepicker--nav-action', $.proxy(this._onClickNavButton, this));\r\n                this.d.$nav.on('click', '.datepicker--nav-title', $.proxy(this._onClickNavTitle, this));\r\n                this.d.$datepicker.on('click', '.datepicker--button', $.proxy(this._onClickNavButton, this));\r\n            },\r\n\r\n            _buildBaseHtml: function () {\r\n                if (!this.opts.onlyTimepicker) {\r\n                    this._render();\r\n                }\r\n                this._addButtonsIfNeed();\r\n            },\r\n\r\n            _addButtonsIfNeed: function () {\r\n                if (this.opts.clearButton) {\r\n                    this._addButton('clear')\r\n                }\r\n                if (this.opts.todayButton) {\r\n                    this._addButton('today')\r\n                }\r\n            },\r\n\r\n            _render: function () {\r\n                var title = this._getTitle(this.d.currentDate),\r\n                    html = dp.template(template, $.extend({ title: title }, this.opts));\r\n                this.d.$nav.html(html);\r\n                if (this.d.view == 'years') {\r\n                    $('.datepicker--nav-title', this.d.$nav).addClass('-disabled-');\r\n                }\r\n                this.setNavStatus();\r\n            },\r\n\r\n            _getTitle: function (date) {\r\n                return this.d.formatDate(this.opts.navTitles[this.d.view], date)\r\n            },\r\n\r\n            _addButton: function (type) {\r\n                if (!this.$buttonsContainer.length) {\r\n                    this._addButtonsContainer();\r\n                }\r\n\r\n                var data = {\r\n                    action: type,\r\n                    label: this.d.loc[type]\r\n                },\r\n                    html = dp.template(button, data);\r\n\r\n                if ($('[data-action=' + type + ']', this.$buttonsContainer).length) return;\r\n                this.$buttonsContainer.append(html);\r\n            },\r\n\r\n            _addButtonsContainer: function () {\r\n                this.d.$datepicker.append(buttonsContainerTemplate);\r\n                this.$buttonsContainer = $('.datepicker--buttons', this.d.$datepicker);\r\n            },\r\n\r\n            setNavStatus: function () {\r\n                if (!(this.opts.minDate || this.opts.maxDate) || !this.opts.disableNavWhenOutOfRange) return;\r\n\r\n                var date = this.d.parsedDate,\r\n                    m = date.month,\r\n                    y = date.year,\r\n                    d = date.date;\r\n\r\n                switch (this.d.view) {\r\n                    case 'days':\r\n                        if (!this.d._isInRange(new Date(y, m - 1, 1), 'month')) {\r\n                            this._disableNav('prev')\r\n                        }\r\n                        if (!this.d._isInRange(new Date(y, m + 1, 1), 'month')) {\r\n                            this._disableNav('next')\r\n                        }\r\n                        break;\r\n                    case 'months':\r\n                        if (!this.d._isInRange(new Date(y - 1, m, d), 'year')) {\r\n                            this._disableNav('prev')\r\n                        }\r\n                        if (!this.d._isInRange(new Date(y + 1, m, d), 'year')) {\r\n                            this._disableNav('next')\r\n                        }\r\n                        break;\r\n                    case 'years':\r\n                        var decade = dp.getDecade(this.d.date);\r\n                        if (!this.d._isInRange(new Date(decade[0] - 1, 0, 1), 'year')) {\r\n                            this._disableNav('prev')\r\n                        }\r\n                        if (!this.d._isInRange(new Date(decade[1] + 1, 0, 1), 'year')) {\r\n                            this._disableNav('next')\r\n                        }\r\n                        break;\r\n                }\r\n            },\r\n\r\n            _disableNav: function (nav) {\r\n                $('[data-action=\"' + nav + '\"]', this.d.$nav).addClass('-disabled-')\r\n            },\r\n\r\n            _activateNav: function (nav) {\r\n                $('[data-action=\"' + nav + '\"]', this.d.$nav).removeClass('-disabled-')\r\n            },\r\n\r\n            _onClickNavButton: function (e) {\r\n                var $el = $(e.target).closest('[data-action]'),\r\n                    action = $el.data('action');\r\n\r\n                this.d[action]();\r\n            },\r\n\r\n            _onClickNavTitle: function (e) {\r\n                if ($(e.target).hasClass('-disabled-')) return;\r\n\r\n                if (this.d.view == 'days') {\r\n                    return this.d.view = 'months'\r\n                }\r\n\r\n                this.d.view = 'years';\r\n            }\r\n        }\r\n\r\n    })();\r\n\r\n    ; (function () {\r\n        var template = '<div class=\"datepicker--time\">' +\r\n            '<div class=\"datepicker--time-current\">' +\r\n            '   <span class=\"datepicker--time-current-hours\">#{hourVisible}</span>' +\r\n            '   <span class=\"datepicker--time-current-colon\">:</span>' +\r\n            '   <span class=\"datepicker--time-current-minutes\">#{minValue}</span>' +\r\n            '</div>' +\r\n            '<div class=\"datepicker--time-sliders\">' +\r\n            '   <div class=\"datepicker--time-row\">' +\r\n            '      <input type=\"range\" name=\"hours\" value=\"#{hourValue}\" min=\"#{hourMin}\" max=\"#{hourMax}\" step=\"#{hourStep}\"/>' +\r\n            '   </div>' +\r\n            '   <div class=\"datepicker--time-row\">' +\r\n            '      <input type=\"range\" name=\"minutes\" value=\"#{minValue}\" min=\"#{minMin}\" max=\"#{minMax}\" step=\"#{minStep}\"/>' +\r\n            '   </div>' +\r\n            '</div>' +\r\n            '</div>',\r\n            fsdDatepicker = $.fn.fsdDatepicker,\r\n            dp = fsdDatepicker.Constructor;\r\n\r\n        fsdDatepicker.Timepicker = function (inst, opts) {\r\n            this.d = inst;\r\n            this.opts = opts;\r\n\r\n            this.init();\r\n        };\r\n\r\n        fsdDatepicker.Timepicker.prototype = {\r\n            init: function () {\r\n                var input = 'input';\r\n                this._setTime(this.d.date);\r\n                this._buildHTML();\r\n\r\n                if (navigator.userAgent.match(/trident/gi)) {\r\n                    input = 'change';\r\n                }\r\n\r\n                this.d.$el.on('selectDate', this._onSelectDate.bind(this));\r\n                this.$ranges.on(input, this._onChangeRange.bind(this));\r\n                this.$ranges.on('mouseup', this._onMouseUpRange.bind(this));\r\n                this.$ranges.on('mousemove focus ', this._onMouseEnterRange.bind(this));\r\n                this.$ranges.on('mouseout blur', this._onMouseOutRange.bind(this));\r\n            },\r\n\r\n            _setTime: function (date) {\r\n                var _date = dp.getParsedDate(date);\r\n\r\n                this._handleDate(date);\r\n                this.hours = _date.hours < this.minHours ? this.minHours : _date.hours;\r\n                this.minutes = _date.minutes < this.minMinutes ? this.minMinutes : _date.minutes;\r\n            },\r\n\r\n            /**\r\n             * Sets minHours and minMinutes from date (usually it's a minDate)\r\n             * Also changes minMinutes if current hours are bigger then @date hours\r\n             * @param date {Date}\r\n             * @private\r\n             */\r\n            _setMinTimeFromDate: function (date) {\r\n                this.minHours = date.getHours();\r\n                this.minMinutes = date.getMinutes();\r\n\r\n                // If, for example, min hours are 10, and current hours are 12,\r\n                // update minMinutes to default value, to be able to choose whole range of values\r\n                if (this.d.lastSelectedDate) {\r\n                    if (this.d.lastSelectedDate.getHours() > date.getHours()) {\r\n                        this.minMinutes = this.opts.minMinutes;\r\n                    }\r\n                }\r\n            },\r\n\r\n            _setMaxTimeFromDate: function (date) {\r\n                this.maxHours = date.getHours();\r\n                this.maxMinutes = date.getMinutes();\r\n\r\n                if (this.d.lastSelectedDate) {\r\n                    if (this.d.lastSelectedDate.getHours() < date.getHours()) {\r\n                        this.maxMinutes = this.opts.maxMinutes;\r\n                    }\r\n                }\r\n            },\r\n\r\n            _setDefaultMinMaxTime: function () {\r\n                var maxHours = 23,\r\n                    maxMinutes = 59,\r\n                    opts = this.opts;\r\n\r\n                this.minHours = opts.minHours < 0 || opts.minHours > maxHours ? 0 : opts.minHours;\r\n                this.minMinutes = opts.minMinutes < 0 || opts.minMinutes > maxMinutes ? 0 : opts.minMinutes;\r\n                this.maxHours = opts.maxHours < 0 || opts.maxHours > maxHours ? maxHours : opts.maxHours;\r\n                this.maxMinutes = opts.maxMinutes < 0 || opts.maxMinutes > maxMinutes ? maxMinutes : opts.maxMinutes;\r\n            },\r\n\r\n            /**\r\n             * Looks for min/max hours/minutes and if current values\r\n             * are out of range sets valid values.\r\n             * @private\r\n             */\r\n            _validateHoursMinutes: function (date) {\r\n                if (this.hours < this.minHours) {\r\n                    this.hours = this.minHours;\r\n                } else if (this.hours > this.maxHours) {\r\n                    this.hours = this.maxHours;\r\n                }\r\n\r\n                if (this.minutes < this.minMinutes) {\r\n                    this.minutes = this.minMinutes;\r\n                } else if (this.minutes > this.maxMinutes) {\r\n                    this.minutes = this.maxMinutes;\r\n                }\r\n            },\r\n\r\n            _buildHTML: function () {\r\n                var lz = dp.getLeadingZeroNum,\r\n                    data = {\r\n                        hourMin: this.minHours,\r\n                        hourMax: lz(this.maxHours),\r\n                        hourStep: this.opts.hoursStep,\r\n                        hourValue: this.hours,\r\n                        hourVisible: lz(this.displayHours),\r\n                        minMin: this.minMinutes,\r\n                        minMax: lz(this.maxMinutes),\r\n                        minStep: this.opts.minutesStep,\r\n                        minValue: lz(this.minutes)\r\n                    },\r\n                    _template = dp.template(template, data);\r\n\r\n                this.$timepicker = $(_template).appendTo(this.d.$datepicker);\r\n                this.$ranges = $('[type=\"range\"]', this.$timepicker);\r\n                this.$hours = $('[name=\"hours\"]', this.$timepicker);\r\n                this.$minutes = $('[name=\"minutes\"]', this.$timepicker);\r\n                this.$hoursText = $('.datepicker--time-current-hours', this.$timepicker);\r\n                this.$minutesText = $('.datepicker--time-current-minutes', this.$timepicker);\r\n\r\n                if (this.d.ampm) {\r\n                    this.$ampm = $('<span class=\"datepicker--time-current-ampm\">')\r\n                        .appendTo($('.datepicker--time-current', this.$timepicker))\r\n                        .html(this.dayPeriod);\r\n\r\n                    this.$timepicker.addClass('-am-pm-');\r\n                }\r\n            },\r\n\r\n            _updateCurrentTime: function () {\r\n                var h = dp.getLeadingZeroNum(this.displayHours),\r\n                    m = dp.getLeadingZeroNum(this.minutes);\r\n\r\n                this.$hoursText.html(h);\r\n                this.$minutesText.html(m);\r\n\r\n                if (this.d.ampm) {\r\n                    this.$ampm.html(this.dayPeriod);\r\n                }\r\n            },\r\n\r\n            _updateRanges: function () {\r\n                this.$hours.attr({\r\n                    min: this.minHours,\r\n                    max: this.maxHours\r\n                }).val(this.hours);\r\n\r\n                this.$minutes.attr({\r\n                    min: this.minMinutes,\r\n                    max: this.maxMinutes\r\n                }).val(this.minutes)\r\n            },\r\n\r\n            /**\r\n             * Sets minHours, minMinutes etc. from date. If date is not passed, than sets\r\n             * values from options\r\n             * @param [date] {object} - Date object, to get values from\r\n             * @private\r\n             */\r\n            _handleDate: function (date) {\r\n                this._setDefaultMinMaxTime();\r\n                if (date) {\r\n                    if (dp.isSame(date, this.d.opts.minDate)) {\r\n                        this._setMinTimeFromDate(this.d.opts.minDate);\r\n                    } else if (dp.isSame(date, this.d.opts.maxDate)) {\r\n                        this._setMaxTimeFromDate(this.d.opts.maxDate);\r\n                    }\r\n                }\r\n\r\n                this._validateHoursMinutes(date);\r\n            },\r\n\r\n            update: function () {\r\n                this._updateRanges();\r\n                this._updateCurrentTime();\r\n            },\r\n\r\n            /**\r\n             * Calculates valid hour value to display in text input and datepicker's body.\r\n             * @param date {Date|Number} - date or hours\r\n             * @param [ampm] {Boolean} - 12 hours mode\r\n             * @returns {{hours: *, dayPeriod: string}}\r\n             * @private\r\n             */\r\n            _getValidHoursFromDate: function (date, ampm) {\r\n                var d = date,\r\n                    hours = date;\r\n\r\n                if (date instanceof Date) {\r\n                    d = dp.getParsedDate(date);\r\n                    hours = d.hours;\r\n                }\r\n\r\n                var _ampm = ampm || this.d.ampm,\r\n                    dayPeriod = 'am';\r\n\r\n                if (_ampm) {\r\n                    switch (true) {\r\n                        case hours == 0:\r\n                            hours = 12;\r\n                            break;\r\n                        case hours == 12:\r\n                            dayPeriod = 'pm';\r\n                            break;\r\n                        case hours > 11:\r\n                            hours = hours - 12;\r\n                            dayPeriod = 'pm';\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                }\r\n\r\n                return {\r\n                    hours: hours,\r\n                    dayPeriod: dayPeriod\r\n                }\r\n            },\r\n\r\n            set hours(val) {\r\n                this._hours = val;\r\n\r\n                var displayHours = this._getValidHoursFromDate(val);\r\n\r\n                this.displayHours = displayHours.hours;\r\n                this.dayPeriod = displayHours.dayPeriod;\r\n            },\r\n\r\n            get hours() {\r\n                return this._hours;\r\n            },\r\n\r\n            //  Events\r\n            // -------------------------------------------------\r\n\r\n            _onChangeRange: function (e) {\r\n                var $target = $(e.target),\r\n                    name = $target.attr('name');\r\n\r\n                this.d.timepickerIsActive = true;\r\n\r\n                this[name] = $target.val();\r\n                this._updateCurrentTime();\r\n                this.d._trigger('timeChange', [this.hours, this.minutes]);\r\n\r\n                this._handleDate(this.d.lastSelectedDate);\r\n                this.update()\r\n            },\r\n\r\n            _onSelectDate: function (e, data) {\r\n                this._handleDate(data);\r\n                this.update();\r\n            },\r\n\r\n            _onMouseEnterRange: function (e) {\r\n                var name = $(e.target).attr('name');\r\n                $('.datepicker--time-current-' + name, this.$timepicker).addClass('-focus-');\r\n            },\r\n\r\n            _onMouseOutRange: function (e) {\r\n                var name = $(e.target).attr('name');\r\n                if (this.d.inFocus) return; // Prevent removing focus when mouse out of range slider\r\n                $('.datepicker--time-current-' + name, this.$timepicker).removeClass('-focus-');\r\n            },\r\n\r\n            _onMouseUpRange: function (e) {\r\n                this.d.timepickerIsActive = false;\r\n            }\r\n        };\r\n    })();\r\n})(window, jQuery);","///////////////////////Constants////////////////////////////////////////////\r\nconst adult = counterAdult();\r\nconst child = counterChild();\r\nconst infant = counterInfant();\r\nconst dropDownInputGuests = document.querySelectorAll(\".dropdown-input__guests-arrow\");\r\nconst dropDownInputFieldGuests = document.querySelectorAll(\r\n  \".dropdown-input__guests input\"\r\n);\r\nconst counterAdultValueTag = document.querySelectorAll(\r\n  \".dropdown-guests__adult div:nth-child(3)\"\r\n);\r\nconst counterAdultValueDecrease = document.querySelectorAll(\r\n  \".dropdown-guests__adult div:nth-child(2)\"\r\n);\r\nconst counterAdultValueIncrease = document.querySelectorAll(\r\n  \".dropdown-guests__adult div:nth-child(4)\"\r\n);\r\nconst counterChildValueTag = document.querySelectorAll(\r\n  \".dropdown-guests__child div:nth-child(3)\"\r\n);\r\nconst counterChildValueDecreaseTag = document.querySelectorAll(\r\n  \".dropdown-guests__child div:nth-child(2)\"\r\n);\r\nconst counterChildValueIncreaseTag = document.querySelectorAll(\r\n  \".dropdown-guests__child div:nth-child(4)\"\r\n);\r\nconst counterInfantValueTag = document.querySelectorAll(\r\n  \".dropdown-guests__infant div:nth-child(3)\"\r\n);\r\nconst counterInfantValueDecrease = document.querySelectorAll(\r\n  \".dropdown-guests__infant div:nth-child(2)\"\r\n);\r\nconst counterInfantValueIncrease = document.querySelectorAll(\r\n  \".dropdown-guests__infant div:nth-child(4)\"\r\n);\r\nconst eraseButton = document.querySelectorAll(\r\n  \".dropdown-guests__erase-button\"\r\n);\r\n\r\n\r\nconst applyButton = document.querySelectorAll(\r\n  \".dropdown-guests__apply-button div:nth-child(2)\"\r\n);\r\n\r\n/////////////////////////Listeners//////////////////////////////////////////////\r\ndropDownInputGuests.forEach(elem => elem.addEventListener(\"click\", dropDownGuestsClickHandler));\r\ncounterAdultValueDecrease.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounterGuests(\"decrease\", \"adult\")\r\n));\r\ncounterAdultValueIncrease.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounterGuests(\"increase\", \"adult\")\r\n));\r\ncounterChildValueDecreaseTag.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounterGuests(\"decrease\", \"child\")\r\n));\r\ncounterChildValueIncreaseTag.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounterGuests(\"increase\", \"child\")\r\n));\r\ncounterInfantValueDecrease.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounterGuests(\"decrease\", \"infant\")\r\n));\r\ncounterInfantValueIncrease.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounterGuests(\"increase\", \"infant\")\r\n));\r\napplyButton.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  showResultInDropDownGuests(\"apply\")\r\n));\r\neraseButton.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  showResultInDropDownGuests(\"erase\")\r\n));\r\n//////////////////////Handlers//////////////////////////////////////////\r\nfunction dropDownGuestsClickHandler(event) {\r\n\r\n  event.target.parentNode.parentNode.childNodes[1].classList.toggle('dropdown_active');\r\n  event.target.parentNode.parentNode.childNodes[1].classList.toggle('dropdown-input__guests_rounding-corners-top');\r\n  if (event.target.innerText === 'keyboard_arrow_down') {\r\n    event.target.innerText = 'keyboard_arrow_up';\r\n  } else if (event.target.innerText === 'keyboard_arrow_up') {\r\n    event.target.innerText = 'keyboard_arrow_down';\r\n  }\r\n}\r\nfunction changeCounterGuests(howChange, changeTarget) {\r\n  if (changeTarget === \"adult\") {\r\n    if (howChange === \"increase\") {\r\n\r\n      counterAdultValueTag.innerText++;\r\n      adult.increase();\r\n    } else {\r\n      if (adult.getCounter() > 0) {\r\n        counterAdultValueTag.innerText--;\r\n        adult.decrease();\r\n      }\r\n    }\r\n  } else if (changeTarget === \"child\") {\r\n    if (howChange === \"increase\") {\r\n      counterChildValueTag.innerText++;\r\n      child.increase();\r\n    } else {\r\n      if (child.getCounter() > 0) {\r\n        counterChildValueTag.innerText--;\r\n        child.decrease();\r\n      }\r\n    }\r\n  } else {\r\n    if (howChange === \"increase\") {\r\n      counterInfantValueTag.innerText++;\r\n      infant.increase();\r\n    } else {\r\n      if (infant.getCounter() > 0) {\r\n        counterInfantValueTag.innerText--;\r\n        infant.decrease();\r\n      }\r\n    }\r\n  }\r\n}\r\nfunction showResultInDropDownGuests(action) {\r\n  if (action === \"apply\") {\r\n    let result = \"\";\r\n    let counterGuests = infant.getCounter() + child.getCounter() + adult.getCounter();\r\n    if (\r\n      counterGuests === 1 ||\r\n      (counterGuests > 20 && (counterGuests - 1) % 10 === 0)\r\n    ) {\r\n      result += counterGuests + \" \";\r\n    } else if (counterGuests > 1 && counterGuests < 5) {\r\n      result += counterGuests + \" \";\r\n    } else if (counterGuests >= 5) {\r\n      result += counterGuests + \" \";\r\n    }\r\n    dropDownInputFieldGuests.forEach(elem => elem.value = result);\r\n    dropDownResult = result;\r\n    if (result != \"\") eraseButton.forEach(elem => elem.classList.remove(\"dropdown_button-hidden\"));\r\n    result = \"\";\r\n  } else if (action === \"erase\") {\r\n    eraseResult();\r\n  }\r\n}\r\nfunction eraseResult() {\r\n  eraseCounters();\r\n  dropDownInputFieldGuests.forEach(elem => elem.value = '');\r\n  counterAdultValueTag.forEach(elem => elem.innerText = 0);\r\n  counterChildValueTag.forEach(elem => elem.innerText = 0);\r\n  counterInfantValueTag.forEach(elem => elem.innerText = 0);\r\n  eraseButton.forEach(elem => elem.classList.add(\"dropdown_button-hidden\"));\r\n}\r\nfunction eraseCounters() {\r\n  adult.erase();\r\n  child.erase();\r\n  infant.erase();\r\n}\r\n\r\nfunction counterAdult() {\r\n  let privateCounter = 0;\r\n  return {\r\n    increase: function () {\r\n      privateCounter++;\r\n      counterAdultValueTag.forEach(elem => elem.innerText++);\r\n    },\r\n    decrease: function () {\r\n      if (privateCounter > 0) {\r\n        privateCounter--;\r\n        counterAdultValueTag.forEach(elem => elem.innerText--);\r\n      }\r\n    },\r\n    getCounter: function () {\r\n      return privateCounter;\r\n    },\r\n    erase: function () {\r\n      privateCounter = 0;\r\n    }\r\n  };\r\n}\r\nfunction counterChild() {\r\n  let privateCounter = 0;\r\n  return {\r\n    increase: function () {\r\n      privateCounter++;\r\n      counterChildValueTag.forEach(elem => elem.innerText++);\r\n    },\r\n    decrease: function () {\r\n      if (privateCounter > 0) {\r\n        privateCounter--;\r\n        counterChildValueTag.forEach(elem => elem.innerText--);\r\n      }\r\n    },\r\n    getCounter: function () {\r\n      return privateCounter;\r\n    },\r\n    erase: function () {\r\n      privateCounter = 0;\r\n    }\r\n  };\r\n}\r\nfunction counterInfant() {\r\n  let privateCounter = 0;\r\n  return {\r\n    increase: function () {\r\n      privateCounter++;\r\n      counterInfantValueTag.forEach(elem => elem.innerText++);\r\n    },\r\n    decrease: function () {\r\n      if (privateCounter > 0) {\r\n        privateCounter--;\r\n        counterInfantValueTag.forEach(elem => elem.innerText--);\r\n      }\r\n    },\r\n    getCounter: function () {\r\n      return privateCounter;\r\n    },\r\n    erase: function () {\r\n      privateCounter = 0;\r\n    }\r\n  };\r\n}\r\n","const bulletListExpandableArrow = document.querySelectorAll('.js-bullet-list-expandable span');\nbulletListExpandableArrow.forEach(elem => elem.addEventListener('click', expandableListHandler));\nfunction expandableListHandler(event) {\n event.target.parentNode.parentNode.childNodes[1].classList.toggle('bullet-list_is-visible');\n if (event.target.innerText === 'keyboard_arrow_down') {\n  event.target.innerText = 'keyboard_arrow_up';\n }\n else if (event.target.innerText === 'keyboard_arrow_up') {\n  event.target.innerText = 'keyboard_arrow_down';\n }\n}","const rateButtons = document.querySelectorAll('.js-button-rate label');\nrateButtons.forEach(elem => elem.addEventListener('click', rateClickListener)\n);\nfunction rateClickListener(event) {\n let rateNumber = event.target.title.charAt(0);\n let stars = event.target.parentNode.childNodes;\n for (let i = 0; i < rateNumber; i++) {\n  stars[i * 2 + 1].innerHTML = 'star';\n }\n for (let i = rateNumber; i < 5; i++) {\n  stars[i * 2 + 1].innerHTML = 'star_border';\n }\n}","///////////////////////Constants////////////////////////////////////////////\r\nconst bed = counterBed();\r\nconst bath = counterBath();\r\nconst bedRoom = counterBedRoom();\r\nconst dropDownInputRoom = document.querySelectorAll(\".dropdown-input__room\");\r\nconst dropDownInputFieldRoom = document.querySelectorAll(\r\n  \".dropdown-input__room input\");\r\nconst counterBadRoomValueTag = document.querySelectorAll(\r\n  \".dropdown-room__bedroom div:nth-child(3)\");\r\nconst counterBadRoomValueDecrease = document.querySelectorAll(\r\n  \".dropdown-room__bedroom div:nth-child(2)\");\r\nconst counterBadRoomValueIncrease = document.querySelectorAll(\r\n  \".dropdown-room__bedroom div:nth-child(4)\");\r\nconst counterBadValueTag = document.querySelectorAll(\r\n  \".dropdown-room__bed div:nth-child(3)\");\r\nconst counterBadValueDecreaseTag = document.querySelectorAll(\r\n  \".dropdown-room__bed div:nth-child(2)\");\r\nconst counterBadValueIncreaseTag = document.querySelectorAll(\r\n  \".dropdown-room__bed div:nth-child(4)\");\r\nconst counterBathValueTag = document.querySelectorAll(\r\n  \".dropdown-room__bath div:nth-child(3)\");\r\nconst counterBathValueDecrease = document.querySelectorAll(\r\n  \".dropdown-room__bath div:nth-child(2)\");\r\nconst counterBathValueIncrease = document.querySelectorAll(\r\n  \".dropdown-room__bath div:nth-child(4)\");\r\n\r\n/////////////////////////Listeners//////////////////////////////////////////////\r\ndropDownInputRoom.forEach(elem => elem.addEventListener(\"click\", dropDownRoomClickHandler));\r\ncounterBadRoomValueIncrease.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounter(\"increase\", \"badroom\")\r\n));\r\ncounterBadRoomValueDecrease.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounter(\"decrease\", \"badroom\")\r\n));\r\ncounterBadValueDecreaseTag.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounter(\"decrease\", \"bad\")\r\n));\r\ncounterBadValueIncreaseTag.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounter(\"increase\", \"bad\")\r\n));\r\ncounterBathValueDecrease.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounter(\"decrease\", \"bath\")\r\n));\r\ncounterBathValueIncrease.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounter(\"increase\", \"bath\")\r\n));\r\n//////////////////////Handlers//////////////////////////////////////////\r\nfunction dropDownRoomClickHandler(event) {\r\n  event.target.parentNode.parentNode.childNodes[1].classList.toggle('dropdown_active');\r\n  if (event.target.parentNode.parentNode.childNodes[1].classList.contains('dropdown_active')) {\r\n    event.target.parentNode.parentNode.classList.add('dropdown-input__room_rounding-corners-top');\r\n  }\r\n  else {\r\n    event.target.parentNode.parentNode.classList.remove('dropdown-input__room_rounding-corners-top');\r\n  }\r\n  showResultInDropDown();\r\n}\r\nfunction counterBedRoom() {\r\n  let privateCounter = 2;\r\n  return {\r\n    increase: function () {\r\n      privateCounter++;\r\n      counterBadRoomValueTag.forEach(elem => elem.innerText++);\r\n    },\r\n    decrease: function () {\r\n      if (privateCounter > 0) {\r\n        privateCounter--;\r\n        counterBadRoomValueTag.forEach(elem => elem.innerText--);\r\n      }\r\n    },\r\n    getCounter: function () {\r\n      return privateCounter;\r\n    }\r\n  };\r\n}\r\nfunction counterBed() {\r\n  let privateCounter = 2;\r\n  return {\r\n    increase: function () {\r\n      privateCounter++;\r\n      counterBadValueTag.forEach(elem => elem.innerText++);\r\n    },\r\n    decrease: function () {\r\n      if (privateCounter > 0) {\r\n        privateCounter--;\r\n        counterBadValueTag.forEach(elem => elem.innerText--);\r\n      }\r\n    },\r\n    getCounter: function () {\r\n      return privateCounter;\r\n    }\r\n  };\r\n}\r\nfunction counterBath() {\r\n  let privateCounter = 0;\r\n  return {\r\n    increase: function () {\r\n      privateCounter++;\r\n      counterBathValueTag.forEach(elem => elem.innerText++);\r\n    },\r\n    decrease: function () {\r\n      if (privateCounter > 0) {\r\n        privateCounter--;\r\n        counterBathValueTag.forEach(elem => elem.innerText--);\r\n      }\r\n    },\r\n    getCounter: function () {\r\n      return privateCounter;\r\n    }\r\n  };\r\n}\r\nfunction changeCounter(howChange, changeTarget) {\r\n  if (changeTarget === \"badroom\") {\r\n    if (howChange === \"increase\") {\r\n      bedRoom.increase();\r\n    } else {\r\n      if (bedRoom.getCounter() > 0) {\r\n        bedRoom.decrease();\r\n        console.log();\r\n      }\r\n    }\r\n  } else if (changeTarget === \"bad\") {\r\n    if (howChange === \"increase\") {\r\n      bed.increase();\r\n    } else {\r\n      if (bed.getCounter() > 0) {\r\n        bed.decrease();\r\n      }\r\n    }\r\n  } else {\r\n    if (howChange === \"increase\") {\r\n      bath.increase();\r\n    } else {\r\n      if (bath.getCounter() > 0) {\r\n        bath.decrease();\r\n      }\r\n    }\r\n  }\r\n  showResultInDropDown();\r\n}\r\nfunction showResultInDropDown() {\r\n  let result = \"\";\r\n  if (bedRoom.getCounter() === 1) {\r\n    result += bedRoom.getCounter() + \"  \";\r\n  } else if (bedRoom.getCounter() > 1) {\r\n    result += bedRoom.getCounter() + \"  \";\r\n  }\r\n  if (bed.getCounter() === 1) {\r\n    result += bed.getCounter() + \"  \";\r\n  } else if (bed.getCounter() > 1) {\r\n    result += bed.getCounter() + \"  \";\r\n  }\r\n  if (bath.getCounter() === 1) {\r\n    result += bath.getCounter() + \"  \";\r\n  } else if (bath.getCounter() > 1) {\r\n    result += bath.getCounter() + \"  \";\r\n  }\r\n  dropDownInputFieldRoom.forEach(elem => elem.value = result);\r\n}\r\n","import './styles/search.scss';\r\n\r\nimport 'ion-rangeslider';\r\n\r\nimport './components/UIKit/modules/dropdown/fsdDatepicker.js';\r\nimport './components/UIKit/modules/button/starRating.js';\r\nimport './components/UIKit/modules/dropdown/dropDownGuests.js';\r\nimport './components/UIKit/modules/dropdown/dropDownRoom.js';\r\nimport './components/UIKit/modules/list/expandableCL.js';\r\nimport './components/UIKit/modules/burger/burger.js';\r\n\r\n$('.dropdown-input__filter-input-field').fsdDatepicker({ todayButton: true, clearButton: true, range: true, dateFormat: 'dd M' });\r\n$('.range-slider__input').ionRangeSlider({\r\n type: \"double\",\r\n min: 0,\r\n max: 20000,\r\n from: 5000,\r\n to: 10000,\r\n step: 1000,\r\n onChange: function (data) {\r\n  let minValue = ''\r\n  let maxValue = ''\r\n  if (data.from >= 1000) minValue = Math.floor(data.from / 1000) + ' 000';\r\n  else minValue = data.from;\r\n  if (data.to >= 1000) maxValue = Math.floor(data.to / 1000) + ' 000';\r\n  else maxValue = data.to;\r\n  $('.range-slider__label-wrapper p:nth-child(2)').\r\n   html(minValue + '<span class=\"rub\">i</span> - ' + maxValue + '<span class=\"rub\">i</span>');\r\n },\r\n onStart: function (data) {\r\n  let minValue = ''\r\n  let maxValue = ''\r\n  if (data.from >= 1000) minValue = Math.floor(data.from / 1000) + ' 000';\r\n  else minValue = data.from;\r\n  if (data.to >= 1000) maxValue = Math.floor(data.to / 1000) + ' 000';\r\n  else maxValue = data.to;\r\n  $('.range-slider__label-wrapper p:nth-child(2)').\r\n   html(minValue + '<span class=\"rub\">i</span> - ' + maxValue + '<span class=\"rub\">i</span>');\r\n }\r\n});\r\n"],"sourceRoot":""}