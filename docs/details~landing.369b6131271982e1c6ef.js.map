{"version":3,"sources":["webpack:///./components/UIKit/modules/burger/burger.js","webpack:///./components/UIKit/modules/dropdown/fsdDatepicker.js","webpack:///./components/UIKit/modules/dropdown/dropDownGuests.js"],"names":["$","toggleClass","window","undefined","$body","$datepickersContainer","fsdDatepicker","containerBuilt","defaults","hotKeys","Datepicker","classes","inline","language","startDate","Date","firstDay","weekends","dateFormat","altField","altFieldDateFormat","toggleSelected","keyboardNav","position","offset","view","minView","showOtherMonths","selectOtherMonths","moveToOtherMonthsOnSelect","showOtherYears","selectOtherYears","moveToOtherYearsOnSelect","minDate","maxDate","disableNavWhenOutOfRange","multipleDates","multipleDatesSeparator","range","todayButton","clearButton","showEvent","autoClose","monthsField","prevHtml","nextHtml","navTitles","days","months","years","timepicker","onlyTimepicker","dateTimeSeparator","timeFormat","minHours","maxHours","minMinutes","maxMinutes","hoursStep","minutesStep","onSelect","onShow","onHide","onChangeMonth","onChangeYear","onChangeDecade","onChangeView","onRenderCell","el","options","this","$el","opts","extend","data","nodeName","elIsInput","$altField","inited","visible","silent","currentDate","currentView","_createShortCuts","selectedDates","views","keys","minRange","maxRange","_prevOnSelectValue","init","prototype","VERSION","viewIndexes","_buildDatepickersContainer","_buildBaseHtml","_defineLocale","_syncWithMinMaxDates","_setPositionClasses","_bindEvents","_bindKeyboardEvents","$datepicker","on","_onMouseDownDatepicker","bind","_onMouseUpDatepicker","addClass","fn","datepicker","Timepicker","_bindTimepickerEvents","Body","show","nav","Navigation","_onClickCell","_onMouseEnterCell","_onMouseLeaveCell","_onShowEvent","_onMouseUpEl","_onBlur","_onKeyUpGeneral","_onResize","_onMouseUpBody","_onKeyDown","_onKeyUp","_onHotKey","_onTimeChange","isWeekend","day","indexOf","lang","loc","console","warn","ru","join","boundary","_getWordBoundaryRegExp","match","ampm","append","$appendTarget","$inline","insertAfter","appendTo","$content","$nav","_triggerOnChange","length","formattedDates","parsedSelected","getParsedDate","_this","dates","year","month","date","hours","minutes","map","formatDate","parsedDate","next","d","o","curDecade","prev","string","validHours","result","locale","leadingZero","getLeadingZeroNum","decade","getDecade","fullHours","dayPeriod","replacer","_replacer","_getValidHoursFromDate","test","replace","getTime","toUpperCase","fullDate","daysShort","fullMonth","monthsShort","fullMinutes","toString","slice","str","reg","p1","p2","p3","sign","symbols","RegExp","selectDate","len","newDate","Array","isArray","forEach","lastSelectedDate","_setTime","_trigger","setHours","setMinutes","getMonth","getFullYear","_render","_isSelected","push","bigger","_setInputValue","timepickerIsActive","hide","removeDate","selected","some","curDate","i","isSame","splice","today","clear","update","param","value","arguments","_addButtonsIfNeed","setPosition","_handleDate","_updateRanges","_updateCurrentTime","curTime","minTime","maxTime","checkDate","cellType","res","altValues","format","altFormat","val","_isInRange","type","time","min","max","dMinTime","dMaxTime","types","_getDimensions","width","outerWidth","height","outerHeight","left","top","_getDateFromCell","cell","pos","main","split","removeAttr","dims","selfDims","secondary","css","_bindVisionEvents","removeClass","focused","inFocus","blur","down","_changeView","up","event","off","one","dir","nextView","viewIndex","_handleHotKey","key","focusedParsed","totalDaysInNextMonth","_getFocusedDate","monthChanged","yearChanged","decadeChanged","y","m","getDaysCount","_registerKey","curKey","_unRegisterKey","index","_isHotKeyPressed","currentHotKey","found","pressedKeys","sort","hotKey","every","args","trigger","_focusNextCell","keyCode","nd","getDate","_getCell","$cell","selector","find","destroy","closest","remove","_handleAlreadySelectedDates","alreadySelected","selectedDate","e","originalEvent","timepickerFocus","focus","setTimeout","code","which","preventDefault","hasClass","target","less","_update","h","_focused","prevView","substring","getDay","getHours","getMinutes","firstYear","Math","floor","template","source","date1","date2","d1","d2","_type","dateCompareTo","num","parseInt","resetTime","each","Constructor","daysMin","templates","dp","proxy","$names","$cells","_getDayNamesHtml","curDay","html","_getCellContents","parent","render","disabled","_getDaysHtml","totalMonthDays","firstMonthDay","lastMonthDay","daysFromPevMonth","daysFromNextMonth","_getDayHtml","content","_getMonthsHtml","_getMonthHtml","_getYearsHtml","_getYearHtml","_renderTypes","dayNames","attr","acitve","active","_handleClick","$buttonsContainer","_onClickNavButton","_onClickNavTitle","_addButton","title","_getTitle","setNavStatus","_addButtonsContainer","action","label","_disableNav","_activateNav","inst","input","_buildHTML","navigator","userAgent","_onSelectDate","$ranges","_onChangeRange","_onMouseUpRange","_onMouseEnterRange","_onMouseOutRange","_date","_setMinTimeFromDate","_setMaxTimeFromDate","_setDefaultMinMaxTime","_validateHoursMinutes","lz","hourMin","hourMax","hourStep","hourValue","hourVisible","displayHours","minMin","minMax","minStep","minValue","_template","$timepicker","$hours","$minutes","$hoursText","$minutesText","$ampm","_hours","$target","name","jQuery","adult","privateCounter","increase","counterAdultValueTag","elem","innerText","decrease","getCounter","erase","counterAdult","child","counterChildValueTag","counterChild","infant","counterInfantValueTag","counterInfant","dropDownInputGuests","document","querySelectorAll","dropDownInputFieldGuests","counterAdultValueDecrease","counterAdultValueIncrease","counterChildValueDecreaseTag","counterChildValueIncreaseTag","counterInfantValueDecrease","counterInfantValueIncrease","eraseButton","applyButton","dropDownGuestsClickHandler","parentNode","childNodes","classList","toggle","changeCounterGuests","howChange","changeTarget","showResultInDropDownGuests","counterGuests","dropDownResult","add","addEventListener"],"mappings":"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","file":"details~landing.369b6131271982e1c6ef.js","sourcesContent":["$('.js-header-burger__input').on(function (event) {\r\n $('.header-burger__label,.header-login-nav,.header-login-nav__nav,.header-login,.header-login__nav').toggleClass('active');\r\n});\r\n\r\n// $('.header-login__burger-input').on(function (event) {\r\n//  $('.header-login__burger-label,.header-login,.header-login__nav').toggleClass('active');\r\n// });","; (function (window, $, undefined) {\r\n    ; (function () {\r\n        var VERSION = '2.2.3',\r\n            pluginName = 'fsd-datepicker',\r\n            autoInitSelector = '.fsd-datepicker-here',\r\n            $body, $datepickersContainer,\r\n            containerBuilt = false,\r\n            baseTemplate = '' +\r\n                '<div class=\"datepicker\">' +\r\n                '<i class=\"datepicker--pointer\"></i>' +\r\n                '<nav class=\"datepicker--nav\"></nav>' +\r\n                '<div class=\"datepicker--content\"></div>' +\r\n                '</div>',\r\n            defaults = {\r\n                classes: '',\r\n                inline: false,\r\n                language: 'ru',\r\n                startDate: new Date(),\r\n                firstDay: '',\r\n                weekends: [6, 0],\r\n                dateFormat: '',\r\n                altField: '',\r\n                altFieldDateFormat: '@',\r\n                toggleSelected: true,\r\n                keyboardNav: true,\r\n\r\n                position: 'bottom left',\r\n                offset: 12,\r\n\r\n                view: 'days',\r\n                minView: 'days',\r\n\r\n                showOtherMonths: true,\r\n                selectOtherMonths: true,\r\n                moveToOtherMonthsOnSelect: true,\r\n\r\n                showOtherYears: true,\r\n                selectOtherYears: true,\r\n                moveToOtherYearsOnSelect: true,\r\n\r\n                minDate: '',\r\n                maxDate: '',\r\n                disableNavWhenOutOfRange: true,\r\n\r\n                multipleDates: false, // Boolean or Number\r\n                multipleDatesSeparator: ' - ',\r\n                range: false,\r\n\r\n                todayButton: false,\r\n                clearButton: false,\r\n\r\n                showEvent: 'focus',\r\n                autoClose: false,\r\n\r\n                // navigation\r\n                monthsField: 'monthsShort',\r\n                prevHtml: 'arrow_back',\r\n                nextHtml: 'arrow_forward',\r\n                navTitles: {\r\n                    days: 'MM <i>yyyy</i>',\r\n                    months: 'yyyy',\r\n                    years: 'yyyy1 - yyyy2'\r\n                },\r\n\r\n                // timepicker\r\n                timepicker: false,\r\n                onlyTimepicker: false,\r\n                dateTimeSeparator: ' ',\r\n                timeFormat: '',\r\n                minHours: 0,\r\n                maxHours: 24,\r\n                minMinutes: 0,\r\n                maxMinutes: 59,\r\n                hoursStep: 1,\r\n                minutesStep: 1,\r\n\r\n                // events\r\n                onSelect: '',\r\n                onShow: '',\r\n                onHide: '',\r\n                onChangeMonth: '',\r\n                onChangeYear: '',\r\n                onChangeDecade: '',\r\n                onChangeView: '',\r\n                onRenderCell: ''\r\n            },\r\n            hotKeys = {\r\n                'ctrlRight': [17, 39],\r\n                'ctrlUp': [17, 38],\r\n                'ctrlLeft': [17, 37],\r\n                'ctrlDown': [17, 40],\r\n                'shiftRight': [16, 39],\r\n                'shiftUp': [16, 38],\r\n                'shiftLeft': [16, 37],\r\n                'shiftDown': [16, 40],\r\n                'altUp': [18, 38],\r\n                'altRight': [18, 39],\r\n                'altLeft': [18, 37],\r\n                'altDown': [18, 40],\r\n                'ctrlShiftUp': [16, 17, 38]\r\n            },\r\n            fsdDatepicker;\r\n\r\n        var Datepicker = function (el, options) {\r\n            this.el = el;\r\n            this.$el = $(el);\r\n\r\n            this.opts = $.extend(true, {}, defaults, options, this.$el.data());\r\n\r\n            if ($body == undefined) {\r\n                $body = $('body');\r\n            }\r\n\r\n            if (!this.opts.startDate) {\r\n                this.opts.startDate = new Date();\r\n            }\r\n\r\n            if (this.el.nodeName == 'INPUT') {\r\n                this.elIsInput = true;\r\n            }\r\n\r\n            if (this.opts.altField) {\r\n                this.$altField = typeof this.opts.altField == 'string' ? $(this.opts.altField) : this.opts.altField;\r\n            }\r\n\r\n            this.inited = false;\r\n            this.visible = false;\r\n            this.silent = false; // Need to prevent unnecessary rendering\r\n\r\n            this.currentDate = this.opts.startDate;\r\n            this.currentView = this.opts.view;\r\n            this._createShortCuts();\r\n            this.selectedDates = [];\r\n            this.views = {};\r\n            this.keys = [];\r\n            this.minRange = '';\r\n            this.maxRange = '';\r\n            this._prevOnSelectValue = '';\r\n\r\n            this.init()\r\n        };\r\n\r\n        fsdDatepicker = Datepicker;\r\n\r\n        fsdDatepicker.prototype = {\r\n            VERSION: VERSION,\r\n            viewIndexes: ['days', 'months', 'years'],\r\n\r\n            init: function () {\r\n                if (!containerBuilt && !this.opts.inline && this.elIsInput) {\r\n                    this._buildDatepickersContainer();\r\n                }\r\n                this._buildBaseHtml();\r\n                this._defineLocale(this.opts.language);\r\n                this._syncWithMinMaxDates();\r\n\r\n                if (this.elIsInput) {\r\n                    if (!this.opts.inline) {\r\n                        // Set extra classes for proper transitions\r\n                        this._setPositionClasses(this.opts.position);\r\n                        this._bindEvents()\r\n                    }\r\n                    if (this.opts.keyboardNav && !this.opts.onlyTimepicker) {\r\n                        this._bindKeyboardEvents();\r\n                    }\r\n                    this.$datepicker.on('mousedown', this._onMouseDownDatepicker.bind(this));\r\n                    this.$datepicker.on('mouseup', this._onMouseUpDatepicker.bind(this));\r\n                }\r\n\r\n                if (this.opts.classes) {\r\n                    this.$datepicker.addClass(this.opts.classes)\r\n                }\r\n\r\n                if (this.opts.timepicker) {\r\n                    this.timepicker = new $.fn.datepicker.Timepicker(this, this.opts);\r\n                    this._bindTimepickerEvents();\r\n                }\r\n\r\n                if (this.opts.onlyTimepicker) {\r\n                    this.$datepicker.addClass('-only-timepicker-');\r\n                }\r\n\r\n                this.views[this.currentView] = new $.fn.fsdDatepicker.Body(this, this.currentView, this.opts);\r\n                this.views[this.currentView].show();\r\n                this.nav = new $.fn.fsdDatepicker.Navigation(this, this.opts);\r\n                this.view = this.currentView;\r\n\r\n                this.$el.on('clickCell.adp', this._onClickCell.bind(this));\r\n                this.$datepicker.on('mouseenter', '.datepicker--cell', this._onMouseEnterCell.bind(this));\r\n                this.$datepicker.on('mouseleave', '.datepicker--cell', this._onMouseLeaveCell.bind(this));\r\n\r\n                this.inited = true;\r\n            },\r\n\r\n            _createShortCuts: function () {\r\n                this.minDate = this.opts.minDate ? this.opts.minDate : new Date(-8639999913600000);\r\n                this.maxDate = this.opts.maxDate ? this.opts.maxDate : new Date(8639999913600000);\r\n            },\r\n\r\n            _bindEvents: function () {\r\n                this.$el.on(this.opts.showEvent + '.adp', this._onShowEvent.bind(this));\r\n                this.$el.on('mouseup.adp', this._onMouseUpEl.bind(this));\r\n                this.$el.on('blur.adp', this._onBlur.bind(this));\r\n                this.$el.on('keyup.adp', this._onKeyUpGeneral.bind(this));\r\n                $(window).on('resize.adp', this._onResize.bind(this));\r\n                $('body').on('mouseup.adp', this._onMouseUpBody.bind(this));\r\n            },\r\n\r\n            _bindKeyboardEvents: function () {\r\n                this.$el.on('keydown.adp', this._onKeyDown.bind(this));\r\n                this.$el.on('keyup.adp', this._onKeyUp.bind(this));\r\n                this.$el.on('hotKey.adp', this._onHotKey.bind(this));\r\n            },\r\n\r\n            _bindTimepickerEvents: function () {\r\n                this.$el.on('timeChange.adp', this._onTimeChange.bind(this));\r\n            },\r\n\r\n            isWeekend: function (day) {\r\n                return this.opts.weekends.indexOf(day) !== -1;\r\n            },\r\n\r\n            _defineLocale: function (lang) {\r\n                if (typeof lang == 'string') {\r\n                    this.loc = $.fn.fsdDatepicker.language[lang];\r\n                    if (!this.loc) {\r\n                        console.warn('Can\\'t find language \"' + lang + '\" in Datepicker.language, will use \"ru\" instead');\r\n                        this.loc = $.extend(true, {}, $.fn.fsdDatepicker.language.ru)\r\n                    }\r\n\r\n                    this.loc = $.extend(true, {}, $.fn.fsdDatepicker.language.ru, $.fn.fsdDatepicker.language[lang])\r\n                } else {\r\n                    this.loc = $.extend(true, {}, $.fn.fsdDatepicker.language.ru, lang)\r\n                }\r\n\r\n                if (this.opts.dateFormat) {\r\n                    this.loc.dateFormat = this.opts.dateFormat\r\n                }\r\n\r\n                if (this.opts.timeFormat) {\r\n                    this.loc.timeFormat = this.opts.timeFormat\r\n                }\r\n\r\n                if (this.opts.firstDay !== '') {\r\n                    this.loc.firstDay = this.opts.firstDay\r\n                }\r\n\r\n                if (this.opts.timepicker) {\r\n                    this.loc.dateFormat = [this.loc.dateFormat, this.loc.timeFormat].join(this.opts.dateTimeSeparator);\r\n                }\r\n\r\n                if (this.opts.onlyTimepicker) {\r\n                    this.loc.dateFormat = this.loc.timeFormat;\r\n                }\r\n\r\n                var boundary = this._getWordBoundaryRegExp;\r\n                if (this.loc.timeFormat.match(boundary('aa')) ||\r\n                    this.loc.timeFormat.match(boundary('AA'))\r\n                ) {\r\n                    this.ampm = true;\r\n                }\r\n            },\r\n\r\n            _buildDatepickersContainer: function () {\r\n                containerBuilt = true;\r\n                $body.append('<div class=\"datepickers-container\" id=\"datepickers-container\"></div>');\r\n                $datepickersContainer = $('#datepickers-container');\r\n            },\r\n\r\n            _buildBaseHtml: function () {\r\n                var $appendTarget,\r\n                    $inline = $('<div class=\"datepicker-inline\">');\r\n\r\n                if (this.el.nodeName == 'INPUT') {\r\n                    if (!this.opts.inline) {\r\n                        $appendTarget = $datepickersContainer;\r\n                    } else {\r\n                        $appendTarget = $inline.insertAfter(this.$el)\r\n                    }\r\n                } else {\r\n                    $appendTarget = $inline.appendTo(this.$el)\r\n                }\r\n\r\n                this.$datepicker = $(baseTemplate).appendTo($appendTarget);\r\n                this.$content = $('.datepicker--content', this.$datepicker);\r\n                this.$nav = $('.datepicker--nav', this.$datepicker);\r\n            },\r\n\r\n            _triggerOnChange: function () {\r\n                if (!this.selectedDates.length) {\r\n                    // Prevent from triggering multiple onSelect callback with same argument (empty string) in IE10-11\r\n                    if (this._prevOnSelectValue === '') return;\r\n                    this._prevOnSelectValue = '';\r\n                    return this.opts.onSelect('', '', this);\r\n                }\r\n\r\n                var selectedDates = this.selectedDates,\r\n                    parsedSelected = fsdDatepicker.getParsedDate(selectedDates[0]),\r\n                    formattedDates,\r\n                    _this = this,\r\n                    dates = new Date(\r\n                        parsedSelected.year,\r\n                        parsedSelected.month,\r\n                        parsedSelected.date,\r\n                        parsedSelected.hours,\r\n                        parsedSelected.minutes\r\n                    );\r\n\r\n                formattedDates = selectedDates.map(function (date) {\r\n                    return _this.formatDate(_this.loc.dateFormat, date)\r\n                }).join(this.opts.multipleDatesSeparator);\r\n\r\n                // Create new dates array, to separate it from original selectedDates\r\n                if (this.opts.multipleDates || this.opts.range) {\r\n                    dates = selectedDates.map(function (date) {\r\n                        var parsedDate = fsdDatepicker.getParsedDate(date);\r\n                        return new Date(\r\n                            parsedDate.year,\r\n                            parsedDate.month,\r\n                            parsedDate.date,\r\n                            parsedDate.hours,\r\n                            parsedDate.minutes\r\n                        );\r\n                    })\r\n                }\r\n\r\n                this._prevOnSelectValue = formattedDates;\r\n                this.opts.onSelect(formattedDates, dates, this);\r\n            },\r\n\r\n            next: function () {\r\n                var d = this.parsedDate,\r\n                    o = this.opts;\r\n                switch (this.view) {\r\n                    case 'days':\r\n                        this.date = new Date(d.year, d.month + 1, 1);\r\n                        if (o.onChangeMonth) o.onChangeMonth(this.parsedDate.month, this.parsedDate.year);\r\n                        break;\r\n                    case 'months':\r\n                        this.date = new Date(d.year + 1, d.month, 1);\r\n                        if (o.onChangeYear) o.onChangeYear(this.parsedDate.year);\r\n                        break;\r\n                    case 'years':\r\n                        this.date = new Date(d.year + 10, 0, 1);\r\n                        if (o.onChangeDecade) o.onChangeDecade(this.curDecade);\r\n                        break;\r\n                }\r\n            },\r\n\r\n            prev: function () {\r\n                var d = this.parsedDate,\r\n                    o = this.opts;\r\n                switch (this.view) {\r\n                    case 'days':\r\n                        this.date = new Date(d.year, d.month - 1, 1);\r\n                        if (o.onChangeMonth) o.onChangeMonth(this.parsedDate.month, this.parsedDate.year);\r\n                        break;\r\n                    case 'months':\r\n                        this.date = new Date(d.year - 1, d.month, 1);\r\n                        if (o.onChangeYear) o.onChangeYear(this.parsedDate.year);\r\n                        break;\r\n                    case 'years':\r\n                        this.date = new Date(d.year - 10, 0, 1);\r\n                        if (o.onChangeDecade) o.onChangeDecade(this.curDecade);\r\n                        break;\r\n                }\r\n            },\r\n\r\n            formatDate: function (string, date) {\r\n                date = date || this.date;\r\n                var result = string,\r\n                    boundary = this._getWordBoundaryRegExp,\r\n                    locale = this.loc,\r\n                    leadingZero = fsdDatepicker.getLeadingZeroNum,\r\n                    decade = fsdDatepicker.getDecade(date),\r\n                    d = fsdDatepicker.getParsedDate(date),\r\n                    fullHours = d.fullHours,\r\n                    hours = d.hours,\r\n                    ampm = string.match(boundary('aa')) || string.match(boundary('AA')),\r\n                    dayPeriod = 'am',\r\n                    replacer = this._replacer,\r\n                    validHours;\r\n\r\n                if (this.opts.timepicker && this.timepicker && ampm) {\r\n                    validHours = this.timepicker._getValidHoursFromDate(date, ampm);\r\n                    fullHours = leadingZero(validHours.hours);\r\n                    hours = validHours.hours;\r\n                    dayPeriod = validHours.dayPeriod;\r\n                }\r\n\r\n                switch (true) {\r\n                    case /@/.test(result):\r\n                        result = result.replace(/@/, date.getTime());\r\n                    case /aa/.test(result):\r\n                        result = replacer(result, boundary('aa'), dayPeriod);\r\n                    case /AA/.test(result):\r\n                        result = replacer(result, boundary('AA'), dayPeriod.toUpperCase());\r\n                    case /dd/.test(result):\r\n                        result = replacer(result, boundary('dd'), d.fullDate);\r\n                    case /d/.test(result):\r\n                        result = replacer(result, boundary('d'), d.date);\r\n                    case /DD/.test(result):\r\n                        result = replacer(result, boundary('DD'), locale.days[d.day]);\r\n                    case /D/.test(result):\r\n                        result = replacer(result, boundary('D'), locale.daysShort[d.day]);\r\n                    case /mm/.test(result):\r\n                        result = replacer(result, boundary('mm'), d.fullMonth);\r\n                    case /m/.test(result):\r\n                        result = replacer(result, boundary('m'), d.month + 1);\r\n                    case /MM/.test(result):\r\n                        result = replacer(result, boundary('MM'), this.loc.months[d.month]);\r\n                    case /M/.test(result):\r\n                        result = replacer(result, boundary('M'), locale.monthsShort[d.month]);\r\n                    case /ii/.test(result):\r\n                        result = replacer(result, boundary('ii'), d.fullMinutes);\r\n                    case /i/.test(result):\r\n                        result = replacer(result, boundary('i'), d.minutes);\r\n                    case /hh/.test(result):\r\n                        result = replacer(result, boundary('hh'), fullHours);\r\n                    case /h/.test(result):\r\n                        result = replacer(result, boundary('h'), hours);\r\n                    case /yyyy/.test(result):\r\n                        result = replacer(result, boundary('yyyy'), d.year);\r\n                    case /yyyy1/.test(result):\r\n                        result = replacer(result, boundary('yyyy1'), decade[0]);\r\n                    case /yyyy2/.test(result):\r\n                        result = replacer(result, boundary('yyyy2'), decade[1]);\r\n                    case /yy/.test(result):\r\n                        result = replacer(result, boundary('yy'), d.year.toString().slice(-2));\r\n                }\r\n                return result;\r\n            },\r\n\r\n            _replacer: function (str, reg, data) {\r\n                return str.replace(reg, function (match, p1, p2, p3) {\r\n                    return p1 + data + p3;\r\n                })\r\n            },\r\n\r\n            _getWordBoundaryRegExp: function (sign) {\r\n                var symbols = '\\\\s|\\\\.|-|/|\\\\\\\\|,|\\\\$|\\\\!|\\\\?|:|;';\r\n\r\n                return new RegExp('(^|>|' + symbols + ')(' + sign + ')($|<|' + symbols + ')', 'g');\r\n            },\r\n\r\n\r\n            selectDate: function (date) {\r\n                var _this = this,\r\n                    opts = _this.opts,\r\n                    d = _this.parsedDate,\r\n                    selectedDates = _this.selectedDates,\r\n                    len = selectedDates.length,\r\n                    newDate = '';\r\n\r\n                if (Array.isArray(date)) {\r\n                    date.forEach(function (d) {\r\n                        _this.selectDate(d)\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                if (!(date instanceof Date)) return;\r\n\r\n                this.lastSelectedDate = date;\r\n\r\n                // Set new time values from Date\r\n                if (this.timepicker) {\r\n                    this.timepicker._setTime(date);\r\n                }\r\n\r\n                // On this step timepicker will set valid values in it's instance\r\n                _this._trigger('selectDate', date);\r\n\r\n                // Set correct time values after timepicker's validation\r\n                // Prevent from setting hours or minutes which values are lesser then `min` value or\r\n                // greater then `max` value\r\n                if (this.timepicker) {\r\n                    date.setHours(this.timepicker.hours);\r\n                    date.setMinutes(this.timepicker.minutes)\r\n                }\r\n\r\n                if (_this.view == 'days') {\r\n                    if (date.getMonth() != d.month && opts.moveToOtherMonthsOnSelect) {\r\n                        newDate = new Date(date.getFullYear(), date.getMonth(), 1);\r\n                    }\r\n                }\r\n\r\n                if (_this.view == 'years') {\r\n                    if (date.getFullYear() != d.year && opts.moveToOtherYearsOnSelect) {\r\n                        newDate = new Date(date.getFullYear(), 0, 1);\r\n                    }\r\n                }\r\n\r\n                if (newDate) {\r\n                    _this.silent = true;\r\n                    _this.date = newDate;\r\n                    _this.silent = false;\r\n                    _this.nav._render()\r\n                }\r\n\r\n                if (opts.multipleDates && !opts.range) { // Set priority to range functionality\r\n                    if (len === opts.multipleDates) return;\r\n                    if (!_this._isSelected(date)) {\r\n                        _this.selectedDates.push(date);\r\n                    }\r\n                } else if (opts.range) {\r\n                    if (len == 2) {\r\n                        _this.selectedDates = [date];\r\n                        _this.minRange = date;\r\n                        _this.maxRange = '';\r\n                    } else if (len == 1) {\r\n                        _this.selectedDates.push(date);\r\n                        if (!_this.maxRange) {\r\n                            _this.maxRange = date;\r\n                        } else {\r\n                            _this.minRange = date;\r\n                        }\r\n                        // Swap dates if they were selected via dp.selectDate() and second date was smaller then first\r\n                        if (fsdDatepicker.bigger(_this.maxRange, _this.minRange)) {\r\n                            _this.maxRange = _this.minRange;\r\n                            _this.minRange = date;\r\n                        }\r\n                        _this.selectedDates = [_this.minRange, _this.maxRange]\r\n\r\n                    } else {\r\n                        _this.selectedDates = [date];\r\n                        _this.minRange = date;\r\n                    }\r\n                } else {\r\n                    _this.selectedDates = [date];\r\n                }\r\n\r\n                _this._setInputValue();\r\n\r\n                if (opts.onSelect) {\r\n                    _this._triggerOnChange();\r\n                }\r\n\r\n                if (opts.autoClose && !this.timepickerIsActive) {\r\n                    if (!opts.multipleDates && !opts.range) {\r\n                        _this.hide();\r\n                    } else if (opts.range && _this.selectedDates.length == 2) {\r\n                        _this.hide();\r\n                    }\r\n                }\r\n\r\n                _this.views[this.currentView]._render()\r\n            },\r\n\r\n            removeDate: function (date) {\r\n                var selected = this.selectedDates,\r\n                    _this = this;\r\n\r\n                if (!(date instanceof Date)) return;\r\n\r\n                return selected.some(function (curDate, i) {\r\n                    if (datepicker.isSame(curDate, date)) {\r\n                        selected.splice(i, 1);\r\n\r\n                        if (!_this.selectedDates.length) {\r\n                            _this.minRange = '';\r\n                            _this.maxRange = '';\r\n                            _this.lastSelectedDate = '';\r\n                        } else {\r\n                            _this.lastSelectedDate = _this.selectedDates[_this.selectedDates.length - 1];\r\n                        }\r\n\r\n                        _this.views[_this.currentView]._render();\r\n                        _this._setInputValue();\r\n\r\n                        if (_this.opts.onSelect) {\r\n                            _this._triggerOnChange();\r\n                        }\r\n\r\n                        return true\r\n                    }\r\n                })\r\n            },\r\n\r\n            today: function () {\r\n                this.silent = true;\r\n                this.view = this.opts.minView;\r\n                this.silent = false;\r\n                this.date = new Date();\r\n\r\n                if (this.opts.todayButton instanceof Date) {\r\n                    this.selectDate(this.opts.todayButton)\r\n                }\r\n            },\r\n\r\n            clear: function () {\r\n                this.selectedDates = [];\r\n                this.minRange = '';\r\n                this.maxRange = '';\r\n                this.views[this.currentView]._render();\r\n                this._setInputValue();\r\n                if (this.opts.onSelect) {\r\n                    this._triggerOnChange()\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Updates datepicker options\r\n             * @param {String|Object} param - parameter's name to update. If object then it will extend current options\r\n             * @param {String|Number|Object} [value] - new param value\r\n             */\r\n            update: function (param, value) {\r\n                var len = arguments.length,\r\n                    lastSelectedDate = this.lastSelectedDate;\r\n\r\n                if (len == 2) {\r\n                    this.opts[param] = value;\r\n                } else if (len == 1 && typeof param == 'object') {\r\n                    this.opts = $.extend(true, this.opts, param)\r\n                }\r\n\r\n                this._createShortCuts();\r\n                this._syncWithMinMaxDates();\r\n                this._defineLocale(this.opts.language);\r\n                this.nav._addButtonsIfNeed();\r\n                if (!this.opts.onlyTimepicker) this.nav._render();\r\n                this.views[this.currentView]._render();\r\n\r\n                if (this.elIsInput && !this.opts.inline) {\r\n                    this._setPositionClasses(this.opts.position);\r\n                    if (this.visible) {\r\n                        this.setPosition(this.opts.position)\r\n                    }\r\n                }\r\n\r\n                if (this.opts.classes) {\r\n                    this.$datepicker.addClass(this.opts.classes)\r\n                }\r\n\r\n                if (this.opts.onlyTimepicker) {\r\n                    this.$datepicker.addClass('-only-timepicker-');\r\n                }\r\n\r\n                if (this.opts.timepicker) {\r\n                    if (lastSelectedDate) this.timepicker._handleDate(lastSelectedDate);\r\n                    this.timepicker._updateRanges();\r\n                    this.timepicker._updateCurrentTime();\r\n                    // Change hours and minutes if it's values have been changed through min/max hours/minutes\r\n                    if (lastSelectedDate) {\r\n                        lastSelectedDate.setHours(this.timepicker.hours);\r\n                        lastSelectedDate.setMinutes(this.timepicker.minutes);\r\n                    }\r\n                }\r\n\r\n                this._setInputValue();\r\n\r\n                return this;\r\n            },\r\n\r\n            _syncWithMinMaxDates: function () {\r\n                var curTime = this.date.getTime();\r\n                this.silent = true;\r\n                if (this.minTime > curTime) {\r\n                    this.date = this.minDate;\r\n                }\r\n\r\n                if (this.maxTime < curTime) {\r\n                    this.date = this.maxDate;\r\n                }\r\n                this.silent = false;\r\n            },\r\n\r\n            _isSelected: function (checkDate, cellType) {\r\n                var res = false;\r\n                this.selectedDates.some(function (date) {\r\n                    if (fsdDatepicker.isSame(date, checkDate, cellType)) {\r\n                        res = date;\r\n                        return true;\r\n                    }\r\n                });\r\n                return res;\r\n            },\r\n\r\n            _setInputValue: function () {\r\n                var _this = this,\r\n                    opts = _this.opts,\r\n                    format = _this.loc.dateFormat,\r\n                    altFormat = opts.altFieldDateFormat,\r\n                    value = _this.selectedDates.map(function (date) {\r\n                        return _this.formatDate(format, date)\r\n                    }),\r\n                    altValues;\r\n\r\n                if (opts.altField && _this.$altField.length) {\r\n                    altValues = this.selectedDates.map(function (date) {\r\n                        return _this.formatDate(altFormat, date)\r\n                    });\r\n                    altValues = altValues.join(this.opts.multipleDatesSeparator);\r\n                    this.$altField.val(altValues);\r\n                }\r\n\r\n                value = value.join(this.opts.multipleDatesSeparator);\r\n\r\n                this.$el.val(value)\r\n            },\r\n\r\n            /**\r\n             * Check if date is between minDate and maxDate\r\n             * @param date {object} - date object\r\n             * @param type {string} - cell type\r\n             * @returns {boolean}\r\n             * @private\r\n             */\r\n            _isInRange: function (date, type) {\r\n                var time = date.getTime(),\r\n                    d = fsdDatepicker.getParsedDate(date),\r\n                    min = fsdDatepicker.getParsedDate(this.minDate),\r\n                    max = fsdDatepicker.getParsedDate(this.maxDate),\r\n                    dMinTime = new Date(d.year, d.month, min.date).getTime(),\r\n                    dMaxTime = new Date(d.year, d.month, max.date).getTime(),\r\n                    types = {\r\n                        day: time >= this.minTime && time <= this.maxTime,\r\n                        month: dMinTime >= this.minTime && dMaxTime <= this.maxTime,\r\n                        year: d.year >= min.year && d.year <= max.year\r\n                    };\r\n                return type ? types[type] : types.day\r\n            },\r\n\r\n            _getDimensions: function ($el) {\r\n                var offset = $el.offset();\r\n\r\n                return {\r\n                    width: $el.outerWidth(),\r\n                    height: $el.outerHeight(),\r\n                    left: offset.left,\r\n                    top: offset.top\r\n                }\r\n            },\r\n\r\n            _getDateFromCell: function (cell) {\r\n                var curDate = this.parsedDate,\r\n                    year = cell.data('year') || curDate.year,\r\n                    month = cell.data('month') == undefined ? curDate.month : cell.data('month'),\r\n                    date = cell.data('date') || 1;\r\n\r\n                return new Date(year, month, date);\r\n            },\r\n\r\n            _setPositionClasses: function (pos) {\r\n                pos = pos.split(' ');\r\n                var main = pos[0],\r\n                    sec = pos[1],\r\n                    classes = 'datepicker -' + main + '-' + sec + '- -from-' + main + '-';\r\n\r\n                if (this.visible) classes += ' active';\r\n\r\n                this.$datepicker\r\n                    .removeAttr('class')\r\n                    .addClass(classes);\r\n            },\r\n\r\n            setPosition: function (position) {\r\n                position = position || this.opts.position;\r\n\r\n                var dims = this._getDimensions(this.$el),\r\n                    selfDims = this._getDimensions(this.$datepicker),\r\n                    pos = position.split(' '),\r\n                    top, left,\r\n                    offset = this.opts.offset,\r\n                    main = pos[0],\r\n                    secondary = pos[1];\r\n\r\n                switch (main) {\r\n                    case 'top':\r\n                        top = dims.top - selfDims.height - offset;\r\n                        break;\r\n                    case 'right':\r\n                        left = dims.left + dims.width + offset;\r\n                        break;\r\n                    case 'bottom':\r\n                        top = dims.top + dims.height + offset;\r\n                        break;\r\n                    case 'left':\r\n                        left = dims.left - selfDims.width - offset;\r\n                        break;\r\n                }\r\n\r\n                switch (secondary) {\r\n                    case 'top':\r\n                        top = dims.top;\r\n                        break;\r\n                    case 'right':\r\n                        left = dims.left + dims.width - selfDims.width;\r\n                        break;\r\n                    case 'bottom':\r\n                        top = dims.top + dims.height - selfDims.height;\r\n                        break;\r\n                    case 'left':\r\n                        left = dims.left;\r\n                        break;\r\n                    case 'center':\r\n                        if (/left|right/.test(main)) {\r\n                            top = dims.top + dims.height / 2 - selfDims.height / 2;\r\n                        } else {\r\n                            left = dims.left + dims.width / 2 - selfDims.width / 2;\r\n                        }\r\n                }\r\n\r\n                this.$datepicker\r\n                    .css({\r\n                        left: left,\r\n                        top: top\r\n                    })\r\n            },\r\n\r\n            show: function () {\r\n                var onShow = this.opts.onShow;\r\n\r\n                this.setPosition(this.opts.position);\r\n                this.$datepicker.addClass('active');\r\n                this.visible = true;\r\n\r\n                if (onShow) {\r\n                    this._bindVisionEvents(onShow)\r\n                }\r\n            },\r\n\r\n            hide: function () {\r\n                var onHide = this.opts.onHide;\r\n\r\n                this.$datepicker\r\n                    .removeClass('active')\r\n                    .css({\r\n                        left: '-100000px'\r\n                    });\r\n\r\n                this.focused = '';\r\n                this.keys = [];\r\n\r\n                this.inFocus = false;\r\n                this.visible = false;\r\n                this.$el.blur();\r\n\r\n                if (onHide) {\r\n                    this._bindVisionEvents(onHide)\r\n                }\r\n            },\r\n\r\n            down: function (date) {\r\n                this._changeView(date, 'down');\r\n            },\r\n\r\n            up: function (date) {\r\n                this._changeView(date, 'up');\r\n            },\r\n\r\n            _bindVisionEvents: function (event) {\r\n                this.$datepicker.off('transitionend.dp');\r\n                event(this, false);\r\n                this.$datepicker.one('transitionend.dp', event.bind(this, this, true))\r\n            },\r\n\r\n            _changeView: function (date, dir) {\r\n                date = date || this.focused || this.date;\r\n\r\n                var nextView = dir == 'up' ? this.viewIndex + 1 : this.viewIndex - 1;\r\n                if (nextView > 2) nextView = 2;\r\n                if (nextView < 0) nextView = 0;\r\n\r\n                this.silent = true;\r\n                this.date = new Date(date.getFullYear(), date.getMonth(), 1);\r\n                this.silent = false;\r\n                this.view = this.viewIndexes[nextView];\r\n\r\n            },\r\n\r\n            _handleHotKey: function (key) {\r\n                var date = datepicker.getParsedDate(this._getFocusedDate()),\r\n                    focusedParsed,\r\n                    o = this.opts,\r\n                    newDate,\r\n                    totalDaysInNextMonth,\r\n                    monthChanged = false,\r\n                    yearChanged = false,\r\n                    decadeChanged = false,\r\n                    y = date.year,\r\n                    m = date.month,\r\n                    d = date.date;\r\n\r\n                switch (key) {\r\n                    case 'ctrlRight':\r\n                    case 'ctrlUp':\r\n                        m += 1;\r\n                        monthChanged = true;\r\n                        break;\r\n                    case 'ctrlLeft':\r\n                    case 'ctrlDown':\r\n                        m -= 1;\r\n                        monthChanged = true;\r\n                        break;\r\n                    case 'shiftRight':\r\n                    case 'shiftUp':\r\n                        yearChanged = true;\r\n                        y += 1;\r\n                        break;\r\n                    case 'shiftLeft':\r\n                    case 'shiftDown':\r\n                        yearChanged = true;\r\n                        y -= 1;\r\n                        break;\r\n                    case 'altRight':\r\n                    case 'altUp':\r\n                        decadeChanged = true;\r\n                        y += 10;\r\n                        break;\r\n                    case 'altLeft':\r\n                    case 'altDown':\r\n                        decadeChanged = true;\r\n                        y -= 10;\r\n                        break;\r\n                    case 'ctrlShiftUp':\r\n                        this.up();\r\n                        break;\r\n                }\r\n\r\n                totalDaysInNextMonth = fsdDatepicker.getDaysCount(new Date(y, m));\r\n                newDate = new Date(y, m, d);\r\n\r\n                // If next month has less days than current, set date to total days in that month\r\n                if (totalDaysInNextMonth < d) d = totalDaysInNextMonth;\r\n\r\n                // Check if newDate is in valid range\r\n                if (newDate.getTime() < this.minTime) {\r\n                    newDate = this.minDate;\r\n                } else if (newDate.getTime() > this.maxTime) {\r\n                    newDate = this.maxDate;\r\n                }\r\n\r\n                this.focused = newDate;\r\n\r\n                focusedParsed = datepicker.getParsedDate(newDate);\r\n                if (monthChanged && o.onChangeMonth) {\r\n                    o.onChangeMonth(focusedParsed.month, focusedParsed.year)\r\n                }\r\n                if (yearChanged && o.onChangeYear) {\r\n                    o.onChangeYear(focusedParsed.year)\r\n                }\r\n                if (decadeChanged && o.onChangeDecade) {\r\n                    o.onChangeDecade(this.curDecade)\r\n                }\r\n            },\r\n\r\n            _registerKey: function (key) {\r\n                var exists = this.keys.some(function (curKey) {\r\n                    return curKey == key;\r\n                });\r\n\r\n                if (!exists) {\r\n                    this.keys.push(key)\r\n                }\r\n            },\r\n\r\n            _unRegisterKey: function (key) {\r\n                var index = this.keys.indexOf(key);\r\n\r\n                this.keys.splice(index, 1);\r\n            },\r\n\r\n            _isHotKeyPressed: function () {\r\n                var currentHotKey,\r\n                    found = false,\r\n                    _this = this,\r\n                    pressedKeys = this.keys.sort();\r\n\r\n                for (var hotKey in hotKeys) {\r\n                    currentHotKey = hotKeys[hotKey];\r\n                    if (pressedKeys.length != currentHotKey.length) continue;\r\n\r\n                    if (currentHotKey.every(function (key, i) { return key == pressedKeys[i] })) {\r\n                        _this._trigger('hotKey', hotKey);\r\n                        found = true;\r\n                    }\r\n                }\r\n\r\n                return found;\r\n            },\r\n\r\n            _trigger: function (event, args) {\r\n                this.$el.trigger(event, args)\r\n            },\r\n\r\n            _focusNextCell: function (keyCode, type) {\r\n                type = type || this.cellType;\r\n\r\n                var date = datepicker.getParsedDate(this._getFocusedDate()),\r\n                    y = date.year,\r\n                    m = date.month,\r\n                    d = date.date;\r\n\r\n                if (this._isHotKeyPressed()) {\r\n                    return;\r\n                }\r\n\r\n                switch (keyCode) {\r\n                    case 37: // left\r\n                        type == 'day' ? (d -= 1) : '';\r\n                        type == 'month' ? (m -= 1) : '';\r\n                        type == 'year' ? (y -= 1) : '';\r\n                        break;\r\n                    case 38: // up\r\n                        type == 'day' ? (d -= 7) : '';\r\n                        type == 'month' ? (m -= 3) : '';\r\n                        type == 'year' ? (y -= 4) : '';\r\n                        break;\r\n                    case 39: // right\r\n                        type == 'day' ? (d += 1) : '';\r\n                        type == 'month' ? (m += 1) : '';\r\n                        type == 'year' ? (y += 1) : '';\r\n                        break;\r\n                    case 40: // down\r\n                        type == 'day' ? (d += 7) : '';\r\n                        type == 'month' ? (m += 3) : '';\r\n                        type == 'year' ? (y += 4) : '';\r\n                        break;\r\n                }\r\n\r\n                var nd = new Date(y, m, d);\r\n                if (nd.getTime() < this.minTime) {\r\n                    nd = this.minDate;\r\n                } else if (nd.getTime() > this.maxTime) {\r\n                    nd = this.maxDate;\r\n                }\r\n\r\n                this.focused = nd;\r\n\r\n            },\r\n\r\n            _getFocusedDate: function () {\r\n                var focused = this.focused || this.selectedDates[this.selectedDates.length - 1],\r\n                    d = this.parsedDate;\r\n\r\n                if (!focused) {\r\n                    switch (this.view) {\r\n                        case 'days':\r\n                            focused = new Date(d.year, d.month, new Date().getDate());\r\n                            break;\r\n                        case 'months':\r\n                            focused = new Date(d.year, d.month, 1);\r\n                            break;\r\n                        case 'years':\r\n                            focused = new Date(d.year, 0, 1);\r\n                            break;\r\n                    }\r\n                }\r\n\r\n                return focused;\r\n            },\r\n\r\n            _getCell: function (date, type) {\r\n                type = type || this.cellType;\r\n\r\n                var d = fsdDatepicker.getParsedDate(date),\r\n                    selector = '.datepicker--cell[data-year=\"' + d.year + '\"]',\r\n                    $cell;\r\n\r\n                switch (type) {\r\n                    case 'month':\r\n                        selector = '[data-month=\"' + d.month + '\"]';\r\n                        break;\r\n                    case 'day':\r\n                        selector += '[data-month=\"' + d.month + '\"][data-date=\"' + d.date + '\"]';\r\n                        break;\r\n                }\r\n                $cell = this.views[this.currentView].$el.find(selector);\r\n\r\n                return $cell.length ? $cell : $('');\r\n            },\r\n\r\n            destroy: function () {\r\n                var _this = this;\r\n                _this.$el\r\n                    .off('.adp')\r\n                    .data('datepicker', '');\r\n\r\n                _this.selectedDates = [];\r\n                _this.focused = '';\r\n                _this.views = {};\r\n                _this.keys = [];\r\n                _this.minRange = '';\r\n                _this.maxRange = '';\r\n\r\n                if (_this.opts.inline || !_this.elIsInput) {\r\n                    _this.$datepicker.closest('.datepicker-inline').remove();\r\n                } else {\r\n                    _this.$datepicker.remove();\r\n                }\r\n            },\r\n\r\n            _handleAlreadySelectedDates: function (alreadySelected, selectedDate) {\r\n                if (this.opts.range) {\r\n                    if (!this.opts.toggleSelected) {\r\n                        // Add possibility to select same date when range is true\r\n                        if (this.selectedDates.length != 2) {\r\n                            this._trigger('clickCell', selectedDate);\r\n                        }\r\n                    } else {\r\n                        this.removeDate(selectedDate);\r\n                    }\r\n                } else if (this.opts.toggleSelected) {\r\n                    this.removeDate(selectedDate);\r\n                }\r\n\r\n                // Change last selected date to be able to change time when clicking on this cell\r\n                if (!this.opts.toggleSelected) {\r\n                    this.lastSelectedDate = alreadySelected;\r\n                    if (this.opts.timepicker) {\r\n                        this.timepicker._setTime(alreadySelected);\r\n                        this.timepicker.update();\r\n                    }\r\n                }\r\n            },\r\n\r\n            _onShowEvent: function (e) {\r\n                if (!this.visible) {\r\n                    this.show();\r\n                }\r\n            },\r\n\r\n            _onBlur: function () {\r\n                if (!this.inFocus && this.visible) {\r\n                    this.hide();\r\n                }\r\n            },\r\n\r\n            _onMouseDownDatepicker: function (e) {\r\n                this.inFocus = true;\r\n            },\r\n\r\n            _onMouseUpDatepicker: function (e) {\r\n                this.inFocus = false;\r\n                e.originalEvent.inFocus = true;\r\n                if (!e.originalEvent.timepickerFocus) this.$el.focus();\r\n            },\r\n\r\n            _onKeyUpGeneral: function (e) {\r\n                var val = this.$el.val();\r\n\r\n                if (!val) {\r\n                    this.clear();\r\n                }\r\n            },\r\n\r\n            _onResize: function () {\r\n                if (this.visible) {\r\n                    this.setPosition();\r\n                }\r\n            },\r\n\r\n            _onMouseUpBody: function (e) {\r\n                if (e.originalEvent.inFocus) return;\r\n\r\n                if (this.visible && !this.inFocus) {\r\n                    this.hide();\r\n                }\r\n            },\r\n\r\n            _onMouseUpEl: function (e) {\r\n                e.originalEvent.inFocus = true;\r\n                setTimeout(this._onKeyUpGeneral.bind(this), 4);\r\n            },\r\n\r\n            _onKeyDown: function (e) {\r\n                var code = e.which;\r\n                this._registerKey(code);\r\n\r\n                // Arrows\r\n                if (code >= 37 && code <= 40) {\r\n                    e.preventDefault();\r\n                    this._focusNextCell(code);\r\n                }\r\n\r\n                // Enter\r\n                if (code == 13) {\r\n                    if (this.focused) {\r\n                        if (this._getCell(this.focused).hasClass('-disabled-')) return;\r\n                        if (this.view != this.opts.minView) {\r\n                            this.down()\r\n                        } else {\r\n                            var alreadySelected = this._isSelected(this.focused, this.cellType);\r\n\r\n                            if (!alreadySelected) {\r\n                                if (this.timepicker) {\r\n                                    this.focused.setHours(this.timepicker.hours);\r\n                                    this.focused.setMinutes(this.timepicker.minutes);\r\n                                }\r\n                                this.selectDate(this.focused);\r\n                                return;\r\n                            }\r\n                            this._handleAlreadySelectedDates(alreadySelected, this.focused)\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // Esc\r\n                if (code == 27) {\r\n                    this.hide();\r\n                }\r\n            },\r\n\r\n            _onKeyUp: function (e) {\r\n                var code = e.which;\r\n                this._unRegisterKey(code);\r\n            },\r\n\r\n            _onHotKey: function (e, hotKey) {\r\n                this._handleHotKey(hotKey);\r\n            },\r\n\r\n            _onMouseEnterCell: function (e) {\r\n                var $cell = $(e.target).closest('.datepicker--cell'),\r\n                    date = this._getDateFromCell($cell);\r\n\r\n                // Prevent from unnecessary rendering and setting new currentDate\r\n                this.silent = true;\r\n\r\n                if (this.focused) {\r\n                    this.focused = ''\r\n                }\r\n\r\n                $cell.addClass('-focus-');\r\n\r\n                this.focused = date;\r\n                this.silent = false;\r\n\r\n                if (this.opts.range && this.selectedDates.length == 1) {\r\n                    this.minRange = this.selectedDates[0];\r\n                    this.maxRange = '';\r\n                    if (fsdDatepicker.less(this.minRange, this.focused)) {\r\n                        this.maxRange = this.minRange;\r\n                        this.minRange = '';\r\n                    }\r\n                    this.views[this.currentView]._update();\r\n                }\r\n            },\r\n\r\n            _onMouseLeaveCell: function (e) {\r\n                var $cell = $(e.target).closest('.datepicker--cell');\r\n\r\n                $cell.removeClass('-focus-');\r\n\r\n                this.silent = true;\r\n                this.focused = '';\r\n                this.silent = false;\r\n            },\r\n\r\n            _onTimeChange: function (e, h, m) {\r\n                var date = new Date(),\r\n                    selectedDates = this.selectedDates,\r\n                    selected = false;\r\n\r\n                if (selectedDates.length) {\r\n                    selected = true;\r\n                    date = this.lastSelectedDate;\r\n                }\r\n\r\n                date.setHours(h);\r\n                date.setMinutes(m);\r\n\r\n                if (!selected && !this._getCell(date).hasClass('-disabled-')) {\r\n                    this.selectDate(date);\r\n                } else {\r\n                    this._setInputValue();\r\n                    if (this.opts.onSelect) {\r\n                        this._triggerOnChange();\r\n                    }\r\n                }\r\n            },\r\n\r\n            _onClickCell: function (e, date) {\r\n                if (this.timepicker) {\r\n                    date.setHours(this.timepicker.hours);\r\n                    date.setMinutes(this.timepicker.minutes);\r\n                }\r\n                this.selectDate(date);\r\n            },\r\n\r\n            set focused(val) {\r\n                if (!val && this.focused) {\r\n                    var $cell = this._getCell(this.focused);\r\n\r\n                    if ($cell.length) {\r\n                        $cell.removeClass('-focus-')\r\n                    }\r\n                }\r\n                this._focused = val;\r\n                if (this.opts.range && this.selectedDates.length == 1) {\r\n                    this.minRange = this.selectedDates[0];\r\n                    this.maxRange = '';\r\n                    if (fsdDatepicker.less(this.minRange, this._focused)) {\r\n                        this.maxRange = this.minRange;\r\n                        this.minRange = '';\r\n                    }\r\n                }\r\n                if (this.silent) return;\r\n                this.date = val;\r\n            },\r\n\r\n            get focused() {\r\n                return this._focused;\r\n            },\r\n\r\n            get parsedDate() {\r\n                return fsdDatepicker.getParsedDate(this.date);\r\n            },\r\n\r\n            set date(val) {\r\n                if (!(val instanceof Date)) return;\r\n\r\n                this.currentDate = val;\r\n\r\n                if (this.inited && !this.silent) {\r\n                    this.views[this.view]._render();\r\n                    this.nav._render();\r\n                    if (this.visible && this.elIsInput) {\r\n                        this.setPosition();\r\n                    }\r\n                }\r\n                return val;\r\n            },\r\n\r\n            get date() {\r\n                return this.currentDate\r\n            },\r\n\r\n            set view(val) {\r\n                this.viewIndex = this.viewIndexes.indexOf(val);\r\n\r\n                if (this.viewIndex < 0) {\r\n                    return;\r\n                }\r\n\r\n                this.prevView = this.currentView;\r\n                this.currentView = val;\r\n\r\n                if (this.inited) {\r\n                    if (!this.views[val]) {\r\n                        this.views[val] = new $.fn.fsdDatepicker.Body(this, val, this.opts)\r\n                    } else {\r\n                        this.views[val]._render();\r\n                    }\r\n\r\n                    this.views[this.prevView].hide();\r\n                    this.views[val].show();\r\n                    this.nav._render();\r\n\r\n                    if (this.opts.onChangeView) {\r\n                        this.opts.onChangeView(val)\r\n                    }\r\n                    if (this.elIsInput && this.visible) this.setPosition();\r\n                }\r\n\r\n                return val\r\n            },\r\n\r\n            get view() {\r\n                return this.currentView;\r\n            },\r\n\r\n            get cellType() {\r\n                return this.view.substring(0, this.view.length - 1)\r\n            },\r\n\r\n            get minTime() {\r\n                var min = fsdDatepicker.getParsedDate(this.minDate);\r\n                return new Date(min.year, min.month, min.date).getTime()\r\n            },\r\n\r\n            get maxTime() {\r\n                var max = fsdDatepicker.getParsedDate(this.maxDate);\r\n                return new Date(max.year, max.month, max.date).getTime()\r\n            },\r\n\r\n            get curDecade() {\r\n                return fsdDatepicker.getDecade(this.date)\r\n            }\r\n        };\r\n\r\n        //  Utils\r\n        // -------------------------------------------------\r\n\r\n        fsdDatepicker.getDaysCount = function (date) {\r\n            return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\r\n        };\r\n\r\n        fsdDatepicker.getParsedDate = function (date) {\r\n            return {\r\n                year: date.getFullYear(),\r\n                month: date.getMonth(),\r\n                fullMonth: (date.getMonth() + 1) < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1, // One based\r\n                date: date.getDate(),\r\n                fullDate: date.getDate() < 10 ? '0' + date.getDate() : date.getDate(),\r\n                day: date.getDay(),\r\n                hours: date.getHours(),\r\n                fullHours: date.getHours() < 10 ? '0' + date.getHours() : date.getHours(),\r\n                minutes: date.getMinutes(),\r\n                fullMinutes: date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()\r\n            }\r\n        };\r\n\r\n        fsdDatepicker.getDecade = function (date) {\r\n            var firstYear = Math.floor(date.getFullYear() / 10) * 10;\r\n\r\n            return [firstYear, firstYear + 9];\r\n        };\r\n\r\n        fsdDatepicker.template = function (str, data) {\r\n            return str.replace(/#\\{([\\w]+)\\}/g, function (source, match) {\r\n                if (data[match] || data[match] === 0) {\r\n                    return data[match]\r\n                }\r\n            });\r\n        };\r\n\r\n        fsdDatepicker.isSame = function (date1, date2, type) {\r\n            if (!date1 || !date2) return false;\r\n            var d1 = fsdDatepicker.getParsedDate(date1),\r\n                d2 = fsdDatepicker.getParsedDate(date2),\r\n                _type = type ? type : 'day',\r\n\r\n                conditions = {\r\n                    day: d1.date == d2.date && d1.month == d2.month && d1.year == d2.year,\r\n                    month: d1.month == d2.month && d1.year == d2.year,\r\n                    year: d1.year == d2.year\r\n                };\r\n\r\n            return conditions[_type];\r\n        };\r\n\r\n        fsdDatepicker.less = function (dateCompareTo, date, type) {\r\n            if (!dateCompareTo || !date) return false;\r\n            return date.getTime() < dateCompareTo.getTime();\r\n        };\r\n\r\n        fsdDatepicker.bigger = function (dateCompareTo, date, type) {\r\n            if (!dateCompareTo || !date) return false;\r\n            return date.getTime() > dateCompareTo.getTime();\r\n        };\r\n\r\n        fsdDatepicker.getLeadingZeroNum = function (num) {\r\n            return parseInt(num) < 10 ? '0' + num : num;\r\n        };\r\n\r\n        /**\r\n         * Returns copy of date with hours and minutes equals to 0\r\n         * @param date {Date}\r\n         */\r\n        fsdDatepicker.resetTime = function (date) {\r\n            if (typeof date != 'object') return;\r\n            date = fsdDatepicker.getParsedDate(date);\r\n            return new Date(date.year, date.month, date.date)\r\n        };\r\n\r\n        $.fn.fsdDatepicker = function (options) {\r\n            return this.each(function () {\r\n                if (!$.data(this, pluginName)) {\r\n                    $.data(this, pluginName,\r\n                        new Datepicker(this, options));\r\n                } else {\r\n                    var _this = $.data(this, pluginName);\r\n\r\n                    _this.opts = $.extend(true, _this.opts, options);\r\n                    _this.update();\r\n                }\r\n            });\r\n        };\r\n\r\n        $.fn.fsdDatepicker.Constructor = Datepicker;\r\n\r\n        $.fn.fsdDatepicker.language = {\r\n            ru: {\r\n                days: ['', '', '', '', '', '', ''],\r\n                daysShort: ['', '', '', '', '', '', ''],\r\n                daysMin: ['', '', '', '', '', '', ''],\r\n                months: ['', '', '', '', '', '', '', '', '', '', '', ''],\r\n                monthsShort: ['', '', '', '', '', '', '', '', '', '', '', ''],\r\n                today: '',\r\n                clear: '',\r\n                dateFormat: 'dd.mm.yyyy',\r\n                timeFormat: 'hh:ii',\r\n                firstDay: 1\r\n            }\r\n        };\r\n\r\n        $(function () {\r\n            $(autoInitSelector).fsdDatepicker();\r\n        })\r\n\r\n    })();\r\n\r\n    ; (function () {\r\n        var templates = {\r\n            days: '' +\r\n                '<div class=\"datepicker--days datepicker--body\">' +\r\n                '<div class=\"datepicker--days-names\"></div>' +\r\n                '<div class=\"datepicker--cells datepicker--cells-days\"></div>' +\r\n                '</div>',\r\n            months: '' +\r\n                '<div class=\"datepicker--months datepicker--body\">' +\r\n                '<div class=\"datepicker--cells datepicker--cells-months\"></div>' +\r\n                '</div>',\r\n            years: '' +\r\n                '<div class=\"datepicker--years datepicker--body\">' +\r\n                '<div class=\"datepicker--cells datepicker--cells-years\"></div>' +\r\n                '</div>'\r\n        },\r\n            fsdDatepicker = $.fn.fsdDatepicker,\r\n            dp = fsdDatepicker.Constructor;\r\n\r\n        fsdDatepicker.Body = function (d, type, opts) {\r\n            this.d = d;\r\n            this.type = type;\r\n            this.opts = opts;\r\n            this.$el = $('');\r\n\r\n            if (this.opts.onlyTimepicker) return;\r\n            this.init();\r\n        };\r\n\r\n        fsdDatepicker.Body.prototype = {\r\n            init: function () {\r\n                this._buildBaseHtml();\r\n                this._render();\r\n\r\n                this._bindEvents();\r\n            },\r\n\r\n            _bindEvents: function () {\r\n                this.$el.on('click', '.datepicker--cell', $.proxy(this._onClickCell, this));\r\n            },\r\n\r\n            _buildBaseHtml: function () {\r\n                this.$el = $(templates[this.type]).appendTo(this.d.$content);\r\n                this.$names = $('.datepicker--days-names', this.$el);\r\n                this.$cells = $('.datepicker--cells', this.$el);\r\n            },\r\n\r\n            _getDayNamesHtml: function (firstDay, curDay, html, i) {\r\n                curDay = curDay != undefined ? curDay : firstDay;\r\n                html = html ? html : '';\r\n                i = i != undefined ? i : 0;\r\n\r\n                if (i > 7) return html;\r\n                if (curDay == 7) return this._getDayNamesHtml(firstDay, 0, html, ++i);\r\n\r\n                html += '<div class=\"datepicker--day-name' + (this.d.isWeekend(curDay) ? \" -weekend-\" : \"\") + '\">' + this.d.loc.daysMin[curDay] + '</div>';\r\n\r\n                return this._getDayNamesHtml(firstDay, ++curDay, html, ++i);\r\n            },\r\n\r\n            _getCellContents: function (date, type) {\r\n                var classes = \"datepicker--cell datepicker--cell-\" + type,\r\n                    currentDate = new Date(),\r\n                    parent = this.d,\r\n                    minRange = dp.resetTime(parent.minRange),\r\n                    maxRange = dp.resetTime(parent.maxRange),\r\n                    opts = parent.opts,\r\n                    d = dp.getParsedDate(date),\r\n                    render = {},\r\n                    html = d.date;\r\n\r\n                switch (type) {\r\n                    case 'day':\r\n                        if (parent.isWeekend(d.day)) classes += \" -weekend-\";\r\n                        if (d.month != this.d.parsedDate.month) {\r\n                            classes += \" -other-month-\";\r\n                            if (!opts.selectOtherMonths) {\r\n                                classes += \" -disabled-\";\r\n                            }\r\n                            if (!opts.showOtherMonths) html = '';\r\n                        }\r\n                        break;\r\n                    case 'month':\r\n                        html = parent.loc[parent.opts.monthsField][d.month];\r\n                        break;\r\n                    case 'year':\r\n                        var decade = parent.curDecade;\r\n                        html = d.year;\r\n                        if (d.year < decade[0] || d.year > decade[1]) {\r\n                            classes += ' -other-decade-';\r\n                            if (!opts.selectOtherYears) {\r\n                                classes += \" -disabled-\";\r\n                            }\r\n                            if (!opts.showOtherYears) html = '';\r\n                        }\r\n                        break;\r\n                }\r\n\r\n                if (opts.onRenderCell) {\r\n                    render = opts.onRenderCell(date, type) || {};\r\n                    html = render.html ? render.html : html;\r\n                    classes += render.classes ? ' ' + render.classes : '';\r\n                }\r\n\r\n                if (opts.range) {\r\n                    if (dp.isSame(minRange, date, type)) classes += ' -range-from-';\r\n                    if (dp.isSame(maxRange, date, type)) classes += ' -range-to-';\r\n\r\n                    if (parent.selectedDates.length == 1 && parent.focused) {\r\n                        if (\r\n                            (dp.bigger(minRange, date) && dp.less(parent.focused, date)) ||\r\n                            (dp.less(maxRange, date) && dp.bigger(parent.focused, date))) {\r\n                            classes += ' -in-range-'\r\n                        }\r\n\r\n                        if (dp.less(maxRange, date) && dp.isSame(parent.focused, date)) {\r\n                            classes += ' -range-from-'\r\n                        }\r\n                        if (dp.bigger(minRange, date) && dp.isSame(parent.focused, date)) {\r\n                            classes += ' -range-to-'\r\n                        }\r\n\r\n                    } else if (parent.selectedDates.length == 2) {\r\n                        if (dp.bigger(minRange, date) && dp.less(maxRange, date)) {\r\n                            classes += ' -in-range-'\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n                if (dp.isSame(currentDate, date, type)) classes += ' -current-';\r\n                if (parent.focused && dp.isSame(date, parent.focused, type)) classes += ' -focus-';\r\n                if (parent._isSelected(date, type)) classes += ' -selected-';\r\n                if (!parent._isInRange(date, type) || render.disabled) classes += ' -disabled-';\r\n\r\n                return {\r\n                    html: html,\r\n                    classes: classes\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Calculates days number to render. Generates days html and returns it.\r\n             * @param {object} date - Date object\r\n             * @returns {string}\r\n             * @private\r\n             */\r\n            _getDaysHtml: function (date) {\r\n                var totalMonthDays = dp.getDaysCount(date),\r\n                    firstMonthDay = new Date(date.getFullYear(), date.getMonth(), 1).getDay(),\r\n                    lastMonthDay = new Date(date.getFullYear(), date.getMonth(), totalMonthDays).getDay(),\r\n                    daysFromPevMonth = firstMonthDay - this.d.loc.firstDay,\r\n                    daysFromNextMonth = 6 - lastMonthDay + this.d.loc.firstDay;\r\n\r\n                daysFromPevMonth = daysFromPevMonth < 0 ? daysFromPevMonth + 7 : daysFromPevMonth;\r\n                daysFromNextMonth = daysFromNextMonth > 6 ? daysFromNextMonth - 7 : daysFromNextMonth;\r\n\r\n                var startDayIndex = -daysFromPevMonth + 1,\r\n                    m, y,\r\n                    html = '';\r\n\r\n                for (var i = startDayIndex, max = totalMonthDays + daysFromNextMonth; i <= max; i++) {\r\n                    y = date.getFullYear();\r\n                    m = date.getMonth();\r\n\r\n                    html += this._getDayHtml(new Date(y, m, i))\r\n                }\r\n\r\n                return html;\r\n            },\r\n\r\n            _getDayHtml: function (date) {\r\n                var content = this._getCellContents(date, 'day');\r\n\r\n                return '<div class=\"' + content.classes + '\" ' +\r\n                    'data-date=\"' + date.getDate() + '\" ' +\r\n                    'data-month=\"' + date.getMonth() + '\" ' +\r\n                    'data-year=\"' + date.getFullYear() + '\">' + content.html + '</div>';\r\n            },\r\n\r\n            /**\r\n             * Generates months html\r\n             * @param {object} date - date instance\r\n             * @returns {string}\r\n             * @private\r\n             */\r\n            _getMonthsHtml: function (date) {\r\n                var html = '',\r\n                    d = dp.getParsedDate(date),\r\n                    i = 0;\r\n\r\n                while (i < 12) {\r\n                    html += this._getMonthHtml(new Date(d.year, i));\r\n                    i++\r\n                }\r\n\r\n                return html;\r\n            },\r\n\r\n            _getMonthHtml: function (date) {\r\n                var content = this._getCellContents(date, 'month');\r\n\r\n                return '<div class=\"' + content.classes + '\" data-month=\"' + date.getMonth() + '\">' + content.html + '</div>'\r\n            },\r\n\r\n            _getYearsHtml: function (date) {\r\n                var d = dp.getParsedDate(date),\r\n                    decade = dp.getDecade(date),\r\n                    firstYear = decade[0] - 1,\r\n                    html = '',\r\n                    i = firstYear;\r\n\r\n                for (i; i <= decade[1] + 1; i++) {\r\n                    html += this._getYearHtml(new Date(i, 0));\r\n                }\r\n\r\n                return html;\r\n            },\r\n\r\n            _getYearHtml: function (date) {\r\n                var content = this._getCellContents(date, 'year');\r\n\r\n                return '<div class=\"' + content.classes + '\" data-year=\"' + date.getFullYear() + '\">' + content.html + '</div>'\r\n            },\r\n\r\n            _renderTypes: {\r\n                days: function () {\r\n                    var dayNames = this._getDayNamesHtml(this.d.loc.firstDay),\r\n                        days = this._getDaysHtml(this.d.currentDate);\r\n\r\n                    this.$cells.html(days);\r\n                    this.$names.html(dayNames)\r\n                },\r\n                months: function () {\r\n                    var html = this._getMonthsHtml(this.d.currentDate);\r\n\r\n                    this.$cells.html(html)\r\n                },\r\n                years: function () {\r\n                    var html = this._getYearsHtml(this.d.currentDate);\r\n\r\n                    this.$cells.html(html)\r\n                }\r\n            },\r\n\r\n            _render: function () {\r\n                if (this.opts.onlyTimepicker) return;\r\n                this._renderTypes[this.type].bind(this)();\r\n            },\r\n\r\n            _update: function () {\r\n                var $cells = $('.datepicker--cell', this.$cells),\r\n                    _this = this,\r\n                    classes,\r\n                    $cell,\r\n                    date;\r\n                $cells.each(function (cell, i) {\r\n                    $cell = $(this);\r\n                    date = _this.d._getDateFromCell($(this));\r\n                    classes = _this._getCellContents(date, _this.d.cellType);\r\n                    $cell.attr('class', classes.classes)\r\n                });\r\n            },\r\n\r\n            show: function () {\r\n                if (this.opts.onlyTimepicker) return;\r\n                this.$el.addClass('active');\r\n                this.acitve = true;\r\n            },\r\n\r\n            hide: function () {\r\n                this.$el.removeClass('active');\r\n                this.active = false;\r\n            },\r\n\r\n            //  Events\r\n            // -------------------------------------------------\r\n\r\n            _handleClick: function (el) {\r\n                var date = el.data('date') || 1,\r\n                    month = el.data('month') || 0,\r\n                    year = el.data('year') || this.d.parsedDate.year,\r\n                    dp = this.d;\r\n                // Change view if min view does not reach yet\r\n                if (dp.view != this.opts.minView) {\r\n                    dp.down(new Date(year, month, date));\r\n                    return;\r\n                }\r\n                // Select date if min view is reached\r\n                var selectedDate = new Date(year, month, date),\r\n                    alreadySelected = this.d._isSelected(selectedDate, this.d.cellType);\r\n\r\n                if (!alreadySelected) {\r\n                    dp._trigger('clickCell', selectedDate);\r\n                    return;\r\n                }\r\n\r\n                dp._handleAlreadySelectedDates.bind(dp, alreadySelected, selectedDate)();\r\n\r\n            },\r\n\r\n            _onClickCell: function (e) {\r\n                var $el = $(e.target).closest('.datepicker--cell');\r\n\r\n                if ($el.hasClass('-disabled-')) return;\r\n\r\n                this._handleClick.bind(this)($el);\r\n            }\r\n        };\r\n    })();\r\n\r\n    ; (function () {\r\n        var template = '' +\r\n            '<div class=\"datepicker--nav-action\" data-action=\"prev\">#{prevHtml}</div>' +\r\n            '<div class=\"datepicker--nav-title\">#{title}</div>' +\r\n            '<div class=\"datepicker--nav-action\" data-action=\"next\">#{nextHtml}</div>',\r\n            buttonsContainerTemplate = '<div class=\"datepicker--buttons\"></div>',\r\n            button = '<span class=\"datepicker--button\" data-action=\"#{action}\">#{label}</span>',\r\n            fsdDatepicker = $.fn.fsdDatepicker,\r\n            dp = fsdDatepicker.Constructor;\r\n\r\n        fsdDatepicker.Navigation = function (d, opts) {\r\n            this.d = d;\r\n            this.opts = opts;\r\n\r\n            this.$buttonsContainer = '';\r\n\r\n            this.init();\r\n        };\r\n\r\n        fsdDatepicker.Navigation.prototype = {\r\n            init: function () {\r\n                this._buildBaseHtml();\r\n                this._bindEvents();\r\n            },\r\n\r\n            _bindEvents: function () {\r\n                this.d.$nav.on('click', '.datepicker--nav-action', $.proxy(this._onClickNavButton, this));\r\n                this.d.$nav.on('click', '.datepicker--nav-title', $.proxy(this._onClickNavTitle, this));\r\n                this.d.$datepicker.on('click', '.datepicker--button', $.proxy(this._onClickNavButton, this));\r\n            },\r\n\r\n            _buildBaseHtml: function () {\r\n                if (!this.opts.onlyTimepicker) {\r\n                    this._render();\r\n                }\r\n                this._addButtonsIfNeed();\r\n            },\r\n\r\n            _addButtonsIfNeed: function () {\r\n                if (this.opts.clearButton) {\r\n                    this._addButton('clear')\r\n                }\r\n                if (this.opts.todayButton) {\r\n                    this._addButton('today')\r\n                }\r\n            },\r\n\r\n            _render: function () {\r\n                var title = this._getTitle(this.d.currentDate),\r\n                    html = dp.template(template, $.extend({ title: title }, this.opts));\r\n                this.d.$nav.html(html);\r\n                if (this.d.view == 'years') {\r\n                    $('.datepicker--nav-title', this.d.$nav).addClass('-disabled-');\r\n                }\r\n                this.setNavStatus();\r\n            },\r\n\r\n            _getTitle: function (date) {\r\n                return this.d.formatDate(this.opts.navTitles[this.d.view], date)\r\n            },\r\n\r\n            _addButton: function (type) {\r\n                if (!this.$buttonsContainer.length) {\r\n                    this._addButtonsContainer();\r\n                }\r\n\r\n                var data = {\r\n                    action: type,\r\n                    label: this.d.loc[type]\r\n                },\r\n                    html = dp.template(button, data);\r\n\r\n                if ($('[data-action=' + type + ']', this.$buttonsContainer).length) return;\r\n                this.$buttonsContainer.append(html);\r\n            },\r\n\r\n            _addButtonsContainer: function () {\r\n                this.d.$datepicker.append(buttonsContainerTemplate);\r\n                this.$buttonsContainer = $('.datepicker--buttons', this.d.$datepicker);\r\n            },\r\n\r\n            setNavStatus: function () {\r\n                if (!(this.opts.minDate || this.opts.maxDate) || !this.opts.disableNavWhenOutOfRange) return;\r\n\r\n                var date = this.d.parsedDate,\r\n                    m = date.month,\r\n                    y = date.year,\r\n                    d = date.date;\r\n\r\n                switch (this.d.view) {\r\n                    case 'days':\r\n                        if (!this.d._isInRange(new Date(y, m - 1, 1), 'month')) {\r\n                            this._disableNav('prev')\r\n                        }\r\n                        if (!this.d._isInRange(new Date(y, m + 1, 1), 'month')) {\r\n                            this._disableNav('next')\r\n                        }\r\n                        break;\r\n                    case 'months':\r\n                        if (!this.d._isInRange(new Date(y - 1, m, d), 'year')) {\r\n                            this._disableNav('prev')\r\n                        }\r\n                        if (!this.d._isInRange(new Date(y + 1, m, d), 'year')) {\r\n                            this._disableNav('next')\r\n                        }\r\n                        break;\r\n                    case 'years':\r\n                        var decade = dp.getDecade(this.d.date);\r\n                        if (!this.d._isInRange(new Date(decade[0] - 1, 0, 1), 'year')) {\r\n                            this._disableNav('prev')\r\n                        }\r\n                        if (!this.d._isInRange(new Date(decade[1] + 1, 0, 1), 'year')) {\r\n                            this._disableNav('next')\r\n                        }\r\n                        break;\r\n                }\r\n            },\r\n\r\n            _disableNav: function (nav) {\r\n                $('[data-action=\"' + nav + '\"]', this.d.$nav).addClass('-disabled-')\r\n            },\r\n\r\n            _activateNav: function (nav) {\r\n                $('[data-action=\"' + nav + '\"]', this.d.$nav).removeClass('-disabled-')\r\n            },\r\n\r\n            _onClickNavButton: function (e) {\r\n                var $el = $(e.target).closest('[data-action]'),\r\n                    action = $el.data('action');\r\n\r\n                this.d[action]();\r\n            },\r\n\r\n            _onClickNavTitle: function (e) {\r\n                if ($(e.target).hasClass('-disabled-')) return;\r\n\r\n                if (this.d.view == 'days') {\r\n                    return this.d.view = 'months'\r\n                }\r\n\r\n                this.d.view = 'years';\r\n            }\r\n        }\r\n\r\n    })();\r\n\r\n    ; (function () {\r\n        var template = '<div class=\"datepicker--time\">' +\r\n            '<div class=\"datepicker--time-current\">' +\r\n            '   <span class=\"datepicker--time-current-hours\">#{hourVisible}</span>' +\r\n            '   <span class=\"datepicker--time-current-colon\">:</span>' +\r\n            '   <span class=\"datepicker--time-current-minutes\">#{minValue}</span>' +\r\n            '</div>' +\r\n            '<div class=\"datepicker--time-sliders\">' +\r\n            '   <div class=\"datepicker--time-row\">' +\r\n            '      <input type=\"range\" name=\"hours\" value=\"#{hourValue}\" min=\"#{hourMin}\" max=\"#{hourMax}\" step=\"#{hourStep}\"/>' +\r\n            '   </div>' +\r\n            '   <div class=\"datepicker--time-row\">' +\r\n            '      <input type=\"range\" name=\"minutes\" value=\"#{minValue}\" min=\"#{minMin}\" max=\"#{minMax}\" step=\"#{minStep}\"/>' +\r\n            '   </div>' +\r\n            '</div>' +\r\n            '</div>',\r\n            fsdDatepicker = $.fn.fsdDatepicker,\r\n            dp = fsdDatepicker.Constructor;\r\n\r\n        fsdDatepicker.Timepicker = function (inst, opts) {\r\n            this.d = inst;\r\n            this.opts = opts;\r\n\r\n            this.init();\r\n        };\r\n\r\n        fsdDatepicker.Timepicker.prototype = {\r\n            init: function () {\r\n                var input = 'input';\r\n                this._setTime(this.d.date);\r\n                this._buildHTML();\r\n\r\n                if (navigator.userAgent.match(/trident/gi)) {\r\n                    input = 'change';\r\n                }\r\n\r\n                this.d.$el.on('selectDate', this._onSelectDate.bind(this));\r\n                this.$ranges.on(input, this._onChangeRange.bind(this));\r\n                this.$ranges.on('mouseup', this._onMouseUpRange.bind(this));\r\n                this.$ranges.on('mousemove focus ', this._onMouseEnterRange.bind(this));\r\n                this.$ranges.on('mouseout blur', this._onMouseOutRange.bind(this));\r\n            },\r\n\r\n            _setTime: function (date) {\r\n                var _date = dp.getParsedDate(date);\r\n\r\n                this._handleDate(date);\r\n                this.hours = _date.hours < this.minHours ? this.minHours : _date.hours;\r\n                this.minutes = _date.minutes < this.minMinutes ? this.minMinutes : _date.minutes;\r\n            },\r\n\r\n            /**\r\n             * Sets minHours and minMinutes from date (usually it's a minDate)\r\n             * Also changes minMinutes if current hours are bigger then @date hours\r\n             * @param date {Date}\r\n             * @private\r\n             */\r\n            _setMinTimeFromDate: function (date) {\r\n                this.minHours = date.getHours();\r\n                this.minMinutes = date.getMinutes();\r\n\r\n                // If, for example, min hours are 10, and current hours are 12,\r\n                // update minMinutes to default value, to be able to choose whole range of values\r\n                if (this.d.lastSelectedDate) {\r\n                    if (this.d.lastSelectedDate.getHours() > date.getHours()) {\r\n                        this.minMinutes = this.opts.minMinutes;\r\n                    }\r\n                }\r\n            },\r\n\r\n            _setMaxTimeFromDate: function (date) {\r\n                this.maxHours = date.getHours();\r\n                this.maxMinutes = date.getMinutes();\r\n\r\n                if (this.d.lastSelectedDate) {\r\n                    if (this.d.lastSelectedDate.getHours() < date.getHours()) {\r\n                        this.maxMinutes = this.opts.maxMinutes;\r\n                    }\r\n                }\r\n            },\r\n\r\n            _setDefaultMinMaxTime: function () {\r\n                var maxHours = 23,\r\n                    maxMinutes = 59,\r\n                    opts = this.opts;\r\n\r\n                this.minHours = opts.minHours < 0 || opts.minHours > maxHours ? 0 : opts.minHours;\r\n                this.minMinutes = opts.minMinutes < 0 || opts.minMinutes > maxMinutes ? 0 : opts.minMinutes;\r\n                this.maxHours = opts.maxHours < 0 || opts.maxHours > maxHours ? maxHours : opts.maxHours;\r\n                this.maxMinutes = opts.maxMinutes < 0 || opts.maxMinutes > maxMinutes ? maxMinutes : opts.maxMinutes;\r\n            },\r\n\r\n            /**\r\n             * Looks for min/max hours/minutes and if current values\r\n             * are out of range sets valid values.\r\n             * @private\r\n             */\r\n            _validateHoursMinutes: function (date) {\r\n                if (this.hours < this.minHours) {\r\n                    this.hours = this.minHours;\r\n                } else if (this.hours > this.maxHours) {\r\n                    this.hours = this.maxHours;\r\n                }\r\n\r\n                if (this.minutes < this.minMinutes) {\r\n                    this.minutes = this.minMinutes;\r\n                } else if (this.minutes > this.maxMinutes) {\r\n                    this.minutes = this.maxMinutes;\r\n                }\r\n            },\r\n\r\n            _buildHTML: function () {\r\n                var lz = dp.getLeadingZeroNum,\r\n                    data = {\r\n                        hourMin: this.minHours,\r\n                        hourMax: lz(this.maxHours),\r\n                        hourStep: this.opts.hoursStep,\r\n                        hourValue: this.hours,\r\n                        hourVisible: lz(this.displayHours),\r\n                        minMin: this.minMinutes,\r\n                        minMax: lz(this.maxMinutes),\r\n                        minStep: this.opts.minutesStep,\r\n                        minValue: lz(this.minutes)\r\n                    },\r\n                    _template = dp.template(template, data);\r\n\r\n                this.$timepicker = $(_template).appendTo(this.d.$datepicker);\r\n                this.$ranges = $('[type=\"range\"]', this.$timepicker);\r\n                this.$hours = $('[name=\"hours\"]', this.$timepicker);\r\n                this.$minutes = $('[name=\"minutes\"]', this.$timepicker);\r\n                this.$hoursText = $('.datepicker--time-current-hours', this.$timepicker);\r\n                this.$minutesText = $('.datepicker--time-current-minutes', this.$timepicker);\r\n\r\n                if (this.d.ampm) {\r\n                    this.$ampm = $('<span class=\"datepicker--time-current-ampm\">')\r\n                        .appendTo($('.datepicker--time-current', this.$timepicker))\r\n                        .html(this.dayPeriod);\r\n\r\n                    this.$timepicker.addClass('-am-pm-');\r\n                }\r\n            },\r\n\r\n            _updateCurrentTime: function () {\r\n                var h = dp.getLeadingZeroNum(this.displayHours),\r\n                    m = dp.getLeadingZeroNum(this.minutes);\r\n\r\n                this.$hoursText.html(h);\r\n                this.$minutesText.html(m);\r\n\r\n                if (this.d.ampm) {\r\n                    this.$ampm.html(this.dayPeriod);\r\n                }\r\n            },\r\n\r\n            _updateRanges: function () {\r\n                this.$hours.attr({\r\n                    min: this.minHours,\r\n                    max: this.maxHours\r\n                }).val(this.hours);\r\n\r\n                this.$minutes.attr({\r\n                    min: this.minMinutes,\r\n                    max: this.maxMinutes\r\n                }).val(this.minutes)\r\n            },\r\n\r\n            /**\r\n             * Sets minHours, minMinutes etc. from date. If date is not passed, than sets\r\n             * values from options\r\n             * @param [date] {object} - Date object, to get values from\r\n             * @private\r\n             */\r\n            _handleDate: function (date) {\r\n                this._setDefaultMinMaxTime();\r\n                if (date) {\r\n                    if (dp.isSame(date, this.d.opts.minDate)) {\r\n                        this._setMinTimeFromDate(this.d.opts.minDate);\r\n                    } else if (dp.isSame(date, this.d.opts.maxDate)) {\r\n                        this._setMaxTimeFromDate(this.d.opts.maxDate);\r\n                    }\r\n                }\r\n\r\n                this._validateHoursMinutes(date);\r\n            },\r\n\r\n            update: function () {\r\n                this._updateRanges();\r\n                this._updateCurrentTime();\r\n            },\r\n\r\n            /**\r\n             * Calculates valid hour value to display in text input and datepicker's body.\r\n             * @param date {Date|Number} - date or hours\r\n             * @param [ampm] {Boolean} - 12 hours mode\r\n             * @returns {{hours: *, dayPeriod: string}}\r\n             * @private\r\n             */\r\n            _getValidHoursFromDate: function (date, ampm) {\r\n                var d = date,\r\n                    hours = date;\r\n\r\n                if (date instanceof Date) {\r\n                    d = dp.getParsedDate(date);\r\n                    hours = d.hours;\r\n                }\r\n\r\n                var _ampm = ampm || this.d.ampm,\r\n                    dayPeriod = 'am';\r\n\r\n                if (_ampm) {\r\n                    switch (true) {\r\n                        case hours == 0:\r\n                            hours = 12;\r\n                            break;\r\n                        case hours == 12:\r\n                            dayPeriod = 'pm';\r\n                            break;\r\n                        case hours > 11:\r\n                            hours = hours - 12;\r\n                            dayPeriod = 'pm';\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                }\r\n\r\n                return {\r\n                    hours: hours,\r\n                    dayPeriod: dayPeriod\r\n                }\r\n            },\r\n\r\n            set hours(val) {\r\n                this._hours = val;\r\n\r\n                var displayHours = this._getValidHoursFromDate(val);\r\n\r\n                this.displayHours = displayHours.hours;\r\n                this.dayPeriod = displayHours.dayPeriod;\r\n            },\r\n\r\n            get hours() {\r\n                return this._hours;\r\n            },\r\n\r\n            //  Events\r\n            // -------------------------------------------------\r\n\r\n            _onChangeRange: function (e) {\r\n                var $target = $(e.target),\r\n                    name = $target.attr('name');\r\n\r\n                this.d.timepickerIsActive = true;\r\n\r\n                this[name] = $target.val();\r\n                this._updateCurrentTime();\r\n                this.d._trigger('timeChange', [this.hours, this.minutes]);\r\n\r\n                this._handleDate(this.d.lastSelectedDate);\r\n                this.update()\r\n            },\r\n\r\n            _onSelectDate: function (e, data) {\r\n                this._handleDate(data);\r\n                this.update();\r\n            },\r\n\r\n            _onMouseEnterRange: function (e) {\r\n                var name = $(e.target).attr('name');\r\n                $('.datepicker--time-current-' + name, this.$timepicker).addClass('-focus-');\r\n            },\r\n\r\n            _onMouseOutRange: function (e) {\r\n                var name = $(e.target).attr('name');\r\n                if (this.d.inFocus) return; // Prevent removing focus when mouse out of range slider\r\n                $('.datepicker--time-current-' + name, this.$timepicker).removeClass('-focus-');\r\n            },\r\n\r\n            _onMouseUpRange: function (e) {\r\n                this.d.timepickerIsActive = false;\r\n            }\r\n        };\r\n    })();\r\n})(window, jQuery);","///////////////////////Constants////////////////////////////////////////////\r\nconst adult = counterAdult();\r\nconst child = counterChild();\r\nconst infant = counterInfant();\r\nconst dropDownInputGuests = document.querySelectorAll(\".dropdown-input__guests-arrow\");\r\nconst dropDownInputFieldGuests = document.querySelectorAll(\r\n  \".dropdown-input__guests input\"\r\n);\r\nconst counterAdultValueTag = document.querySelectorAll(\r\n  \".dropdown-guests__adult div:nth-child(3)\"\r\n);\r\nconst counterAdultValueDecrease = document.querySelectorAll(\r\n  \".dropdown-guests__adult div:nth-child(2)\"\r\n);\r\nconst counterAdultValueIncrease = document.querySelectorAll(\r\n  \".dropdown-guests__adult div:nth-child(4)\"\r\n);\r\nconst counterChildValueTag = document.querySelectorAll(\r\n  \".dropdown-guests__child div:nth-child(3)\"\r\n);\r\nconst counterChildValueDecreaseTag = document.querySelectorAll(\r\n  \".dropdown-guests__child div:nth-child(2)\"\r\n);\r\nconst counterChildValueIncreaseTag = document.querySelectorAll(\r\n  \".dropdown-guests__child div:nth-child(4)\"\r\n);\r\nconst counterInfantValueTag = document.querySelectorAll(\r\n  \".dropdown-guests__infant div:nth-child(3)\"\r\n);\r\nconst counterInfantValueDecrease = document.querySelectorAll(\r\n  \".dropdown-guests__infant div:nth-child(2)\"\r\n);\r\nconst counterInfantValueIncrease = document.querySelectorAll(\r\n  \".dropdown-guests__infant div:nth-child(4)\"\r\n);\r\nconst eraseButton = document.querySelectorAll(\r\n  \".dropdown-guests__erase-button\"\r\n);\r\n\r\n\r\nconst applyButton = document.querySelectorAll(\r\n  \".dropdown-guests__apply-button div:nth-child(2)\"\r\n);\r\n\r\n/////////////////////////Listeners//////////////////////////////////////////////\r\ndropDownInputGuests.forEach(elem => elem.addEventListener(\"click\", dropDownGuestsClickHandler));\r\ncounterAdultValueDecrease.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounterGuests(\"decrease\", \"adult\")\r\n));\r\ncounterAdultValueIncrease.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounterGuests(\"increase\", \"adult\")\r\n));\r\ncounterChildValueDecreaseTag.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounterGuests(\"decrease\", \"child\")\r\n));\r\ncounterChildValueIncreaseTag.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounterGuests(\"increase\", \"child\")\r\n));\r\ncounterInfantValueDecrease.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounterGuests(\"decrease\", \"infant\")\r\n));\r\ncounterInfantValueIncrease.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounterGuests(\"increase\", \"infant\")\r\n));\r\napplyButton.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  showResultInDropDownGuests(\"apply\")\r\n));\r\neraseButton.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  showResultInDropDownGuests(\"erase\")\r\n));\r\n//////////////////////Handlers//////////////////////////////////////////\r\nfunction dropDownGuestsClickHandler(event) {\r\n\r\n  event.target.parentNode.parentNode.childNodes[1].classList.toggle('dropdown_active');\r\n  event.target.parentNode.parentNode.childNodes[1].classList.toggle('dropdown-input__guests_rounding-corners-top');\r\n  if (event.target.innerText === 'keyboard_arrow_down') {\r\n    event.target.innerText = 'keyboard_arrow_up';\r\n  } else if (event.target.innerText === 'keyboard_arrow_up') {\r\n    event.target.innerText = 'keyboard_arrow_down';\r\n  }\r\n}\r\nfunction changeCounterGuests(howChange, changeTarget) {\r\n  if (changeTarget === \"adult\") {\r\n    if (howChange === \"increase\") {\r\n\r\n      counterAdultValueTag.innerText++;\r\n      adult.increase();\r\n    } else {\r\n      if (adult.getCounter() > 0) {\r\n        counterAdultValueTag.innerText--;\r\n        adult.decrease();\r\n      }\r\n    }\r\n  } else if (changeTarget === \"child\") {\r\n    if (howChange === \"increase\") {\r\n      counterChildValueTag.innerText++;\r\n      child.increase();\r\n    } else {\r\n      if (child.getCounter() > 0) {\r\n        counterChildValueTag.innerText--;\r\n        child.decrease();\r\n      }\r\n    }\r\n  } else {\r\n    if (howChange === \"increase\") {\r\n      counterInfantValueTag.innerText++;\r\n      infant.increase();\r\n    } else {\r\n      if (infant.getCounter() > 0) {\r\n        counterInfantValueTag.innerText--;\r\n        infant.decrease();\r\n      }\r\n    }\r\n  }\r\n}\r\nfunction showResultInDropDownGuests(action) {\r\n  if (action === \"apply\") {\r\n    let result = \"\";\r\n    let counterGuests = infant.getCounter() + child.getCounter() + adult.getCounter();\r\n    if (\r\n      counterGuests === 1 ||\r\n      (counterGuests > 20 && (counterGuests - 1) % 10 === 0)\r\n    ) {\r\n      result += counterGuests + \" \";\r\n    } else if (counterGuests > 1 && counterGuests < 5) {\r\n      result += counterGuests + \" \";\r\n    } else if (counterGuests >= 5) {\r\n      result += counterGuests + \" \";\r\n    }\r\n    dropDownInputFieldGuests.forEach(elem => elem.value = result);\r\n    dropDownResult = result;\r\n    if (result != \"\") eraseButton.forEach(elem => elem.classList.remove(\"dropdown_button-hidden\"));\r\n    result = \"\";\r\n  } else if (action === \"erase\") {\r\n    eraseResult();\r\n  }\r\n}\r\nfunction eraseResult() {\r\n  eraseCounters();\r\n  dropDownInputFieldGuests.forEach(elem => elem.value = '');\r\n  counterAdultValueTag.forEach(elem => elem.innerText = 0);\r\n  counterChildValueTag.forEach(elem => elem.innerText = 0);\r\n  counterInfantValueTag.forEach(elem => elem.innerText = 0);\r\n  eraseButton.forEach(elem => elem.classList.add(\"dropdown_button-hidden\"));\r\n}\r\nfunction eraseCounters() {\r\n  adult.erase();\r\n  child.erase();\r\n  infant.erase();\r\n}\r\n\r\nfunction counterAdult() {\r\n  let privateCounter = 0;\r\n  return {\r\n    increase: function () {\r\n      privateCounter++;\r\n      counterAdultValueTag.forEach(elem => elem.innerText++);\r\n    },\r\n    decrease: function () {\r\n      if (privateCounter > 0) {\r\n        privateCounter--;\r\n        counterAdultValueTag.forEach(elem => elem.innerText--);\r\n      }\r\n    },\r\n    getCounter: function () {\r\n      return privateCounter;\r\n    },\r\n    erase: function () {\r\n      privateCounter = 0;\r\n    }\r\n  };\r\n}\r\nfunction counterChild() {\r\n  let privateCounter = 0;\r\n  return {\r\n    increase: function () {\r\n      privateCounter++;\r\n      counterChildValueTag.forEach(elem => elem.innerText++);\r\n    },\r\n    decrease: function () {\r\n      if (privateCounter > 0) {\r\n        privateCounter--;\r\n        counterChildValueTag.forEach(elem => elem.innerText--);\r\n      }\r\n    },\r\n    getCounter: function () {\r\n      return privateCounter;\r\n    },\r\n    erase: function () {\r\n      privateCounter = 0;\r\n    }\r\n  };\r\n}\r\nfunction counterInfant() {\r\n  let privateCounter = 0;\r\n  return {\r\n    increase: function () {\r\n      privateCounter++;\r\n      counterInfantValueTag.forEach(elem => elem.innerText++);\r\n    },\r\n    decrease: function () {\r\n      if (privateCounter > 0) {\r\n        privateCounter--;\r\n        counterInfantValueTag.forEach(elem => elem.innerText--);\r\n      }\r\n    },\r\n    getCounter: function () {\r\n      return privateCounter;\r\n    },\r\n    erase: function () {\r\n      privateCounter = 0;\r\n    }\r\n  };\r\n}\r\n"],"sourceRoot":""}