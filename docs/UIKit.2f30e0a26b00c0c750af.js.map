{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./components/UIKit/modules/burger/burger.js","webpack:///./components/UIKit/modules/dropdown/fsdDatepicker.js","webpack:///./components/UIKit/modules/dropdown/dropDownGuests.js","webpack:///./components/UIKit/modules/list/expandableCL.js","webpack:///./components/UIKit/modules/button/starRating.js","webpack:///./components/UIKit/modules/button/likeRating.js","webpack:///./components/UIKit/modules/dropdown/dropDownRoom.js","webpack:///./UIKit.js","webpack:///../node_modules/cleave.js/dist/cleave-esm.js","webpack:///../node_modules/webpack/buildin/global.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","3","1","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","$","toggleClass","undefined","$body","$datepickersContainer","fsdDatepicker","containerBuilt","defaults","hotKeys","Datepicker","classes","inline","language","startDate","Date","firstDay","weekends","dateFormat","altField","altFieldDateFormat","toggleSelected","keyboardNav","position","offset","view","minView","showOtherMonths","selectOtherMonths","moveToOtherMonthsOnSelect","showOtherYears","selectOtherYears","moveToOtherYearsOnSelect","minDate","maxDate","disableNavWhenOutOfRange","multipleDates","multipleDatesSeparator","range","todayButton","clearButton","showEvent","autoClose","monthsField","prevHtml","nextHtml","navTitles","days","months","years","timepicker","onlyTimepicker","dateTimeSeparator","timeFormat","minHours","maxHours","minMinutes","maxMinutes","hoursStep","minutesStep","onSelect","onShow","onHide","onChangeMonth","onChangeYear","onChangeDecade","onChangeView","onRenderCell","el","options","this","$el","opts","extend","nodeName","elIsInput","$altField","inited","visible","silent","currentDate","currentView","_createShortCuts","selectedDates","views","keys","minRange","maxRange","_prevOnSelectValue","init","VERSION","viewIndexes","_buildDatepickersContainer","_buildBaseHtml","_defineLocale","_syncWithMinMaxDates","_setPositionClasses","_bindEvents","_bindKeyboardEvents","$datepicker","on","_onMouseDownDatepicker","_onMouseUpDatepicker","addClass","fn","datepicker","Timepicker","_bindTimepickerEvents","Body","show","nav","Navigation","_onClickCell","_onMouseEnterCell","_onMouseLeaveCell","_onShowEvent","_onMouseUpEl","_onBlur","_onKeyUpGeneral","_onResize","_onMouseUpBody","_onKeyDown","_onKeyUp","_onHotKey","_onTimeChange","isWeekend","day","indexOf","lang","loc","console","warn","ru","join","boundary","_getWordBoundaryRegExp","match","ampm","append","$appendTarget","$inline","insertAfter","appendTo","$content","$nav","_triggerOnChange","formattedDates","parsedSelected","getParsedDate","_this","dates","year","month","date","hours","minutes","map","formatDate","parsedDate","next","curDecade","prev","string","validHours","locale","leadingZero","getLeadingZeroNum","decade","getDecade","fullHours","dayPeriod","replacer","_replacer","_getValidHoursFromDate","test","replace","getTime","toUpperCase","fullDate","daysShort","fullMonth","monthsShort","fullMinutes","toString","str","reg","p1","p2","p3","sign","symbols","RegExp","selectDate","len","newDate","Array","isArray","forEach","lastSelectedDate","_setTime","_trigger","setHours","setMinutes","getMonth","getFullYear","_render","_isSelected","bigger","_setInputValue","timepickerIsActive","hide","removeDate","selected","some","curDate","isSame","today","clear","update","param","arguments","_addButtonsIfNeed","setPosition","_handleDate","_updateRanges","_updateCurrentTime","curTime","minTime","maxTime","checkDate","cellType","res","altValues","format","altFormat","val","_isInRange","type","time","min","max","dMinTime","dMaxTime","types","_getDimensions","width","outerWidth","height","outerHeight","left","top","_getDateFromCell","cell","pos","main","split","removeAttr","dims","selfDims","secondary","css","_bindVisionEvents","removeClass","focused","inFocus","blur","down","_changeView","up","event","off","one","dir","nextView","viewIndex","_handleHotKey","focusedParsed","totalDaysInNextMonth","_getFocusedDate","monthChanged","yearChanged","decadeChanged","y","getDaysCount","_registerKey","curKey","_unRegisterKey","index","_isHotKeyPressed","currentHotKey","found","pressedKeys","sort","hotKey","every","args","trigger","_focusNextCell","keyCode","nd","getDate","_getCell","$cell","selector","find","destroy","closest","remove","_handleAlreadySelectedDates","alreadySelected","selectedDate","e","originalEvent","timepickerFocus","focus","setTimeout","code","which","preventDefault","hasClass","target","less","_update","h","_focused","prevView","substring","getDay","getHours","getMinutes","firstYear","Math","floor","template","source","date1","date2","d1","d2","_type","dateCompareTo","num","parseInt","resetTime","each","Constructor","daysMin","templates","dp","proxy","$names","$cells","_getDayNamesHtml","curDay","html","_getCellContents","parent","render","disabled","_getDaysHtml","totalMonthDays","firstMonthDay","lastMonthDay","daysFromPevMonth","daysFromNextMonth","_getDayHtml","content","_getMonthsHtml","_getMonthHtml","_getYearsHtml","_getYearHtml","_renderTypes","dayNames","attr","acitve","active","_handleClick","$buttonsContainer","_onClickNavButton","_onClickNavTitle","_addButton","title","_getTitle","setNavStatus","_addButtonsContainer","action","label","_disableNav","_activateNav","inst","input","_buildHTML","navigator","userAgent","_onSelectDate","$ranges","_onChangeRange","_onMouseUpRange","_onMouseEnterRange","_onMouseOutRange","_date","_setMinTimeFromDate","_setMaxTimeFromDate","_setDefaultMinMaxTime","_validateHoursMinutes","lz","hourMin","hourMax","hourStep","hourValue","hourVisible","displayHours","minMin","minMax","minStep","minValue","_template","$timepicker","$hours","$minutes","$hoursText","$minutesText","$ampm","_hours","$target","jQuery","adult","privateCounter","increase","counterAdultValueTag","elem","innerText","decrease","getCounter","erase","counterAdult","child","counterChildValueTag","counterChild","infant","counterInfantValueTag","counterInfant","dropDownInputGuests","document","querySelectorAll","dropDownInputFieldGuests","counterAdultValueDecrease","counterAdultValueIncrease","counterChildValueDecreaseTag","counterChildValueIncreaseTag","counterInfantValueDecrease","counterInfantValueIncrease","eraseButton","applyButton","dropDownGuestsClickHandler","parentNode","childNodes","classList","toggle","changeCounterGuests","howChange","changeTarget","showResultInDropDownGuests","counterGuests","dropDownResult","add","addEventListener","expandableListHandler","rateClickListener","rateNumber","charAt","stars","innerHTML","likeClickListener","className","parentElement","contains","bed","counterBadValueTag","counterBed","bath","counterBathValueTag","counterBath","bedRoom","counterBadRoomValueTag","counterBedRoom","dropDownInputRoom","dropDownInputFieldRoom","counterBadRoomValueDecrease","counterBadRoomValueIncrease","counterBadValueDecreaseTag","counterBadValueIncreaseTag","counterBathValueDecrease","counterBathValueIncrease","dropDownRoomClickHandler","showResultInDropDown","changeCounter","log","Cleave","delimiter","datePattern","ionRangeSlider","from","to","step","onChange","maxValue","onStart","NumeralFormatter","numeralDecimalMark","numeralIntegerScale","numeralDecimalScale","numeralThousandsGroupStyle","numeralPositiveOnly","stripLeadingZeroes","prefix","signBeforePrefix","tailPrefix","groupStyle","thousand","delimiterRE","lakh","wan","none","getRawValue","parts","partSign","partSignAndPrefix","partInteger","partDecimal","NumeralFormatter_1","DateFormatter","dateMin","dateMax","blocks","reverse","x","unshift","initBlocks","owner","getISOFormatDate","addLeadingZero","getBlocks","getValidatedDate","sub","sub0","rest","getFixedDateString","dayIndex","monthIndex","yearIndex","dayStartIndex","monthStartIndex","yearStartIndex","fullYearDone","toLowerCase","getFixedDate","getRangeFixedDate","reduce","previous","current","addLeadingZeroForYear","isLeapYear","number","fullYearMode","DateFormatter_1","TimeFormatter","timePattern","getISOFormatTime","getTimeFormatOptions","String","maxHourFirstDigit","maxMinutesFirstDigit","getValidatedTime","timeFormatOptions","getFixedTimeString","second","minute","hour","secondIndex","minuteIndex","hourIndex","secondStartIndex","minuteStartIndex","hourStartIndex","getFixedTime","TimeFormatter_1","PhoneFormatter","formatter","setFormatter","phoneNumber","validated","iMax","inputDigit","PhoneFormatter_1","CreditCardDetector","uatp","amex","diners","discover","mastercard","dankort","instapayment","jcb15","jcb","maestro","visa","mir","unionPay","general","re","getStrictBlocks","block","total","concat","getInfo","strictMode","matchedBlocks","CreditCardDetector_1","Util_1","noop","strip","getPostDelimiter","delimiters","matchedDelimiter","getDelimiterREByDelimiter","getNextCursorPosition","prevPos","oldValue","newValue","getPositionOffset","oldRawValue","newRawValue","lengthOffset","stripDelimiters","abs","letter","headStr","getMaxLength","getPrefixStrippedValue","prefixLength","prevResult","noImmediatePrefix","prevValue","getFirstDiffIndex","getFormattedValue","blocksLength","delimiterLazyShow","multipleDelimiters","currentDelimiter","fixPrefixCursor","appendix","setSelectionRange","checkFullSelection","getSelection","ex","setSelection","element","doc","getActiveElement","createTextRange","move","select","activeElement","shadowRoot","isAndroid","isAndroidBackspaceKeydown","lastInputValue","currentInputValue","DefaultProperties_1","assign","creditCard","creditCardStrictMode","creditCardType","onCreditCardTypeChanged","phone","phoneRegionCode","phoneFormatter","timeFormatter","dateFormatter","numeral","swapHiddenInput","numericOnly","uppercase","lowercase","rawValueTrimPrefix","copyDelimiter","initValue","delimiterLength","root","commonjsGlobal","maxLength","backspace","onValueChanged","hasMultipleElements","querySelector","Error","properties","DefaultProperties","pps","Util","isBackward","onChangeListener","onKeyDownListener","onKeyDown","onFocusListener","onFocus","onCutListener","onCut","onCopyListener","onCopy","initSwapHiddenInput","initPhoneFormatter","initDateFormatter","initTimeFormatter","initNumeralFormatter","onInput","inputFormatter","cloneNode","insertBefore","elementSwapHidden","id","numeralFormatter","AsYouTypeFormatter","charCode","inputType","postDelimiter","postDelimiterBackspace","copyClipboardData","inputValue","textToCopy","clipboardData","setData","postDelimiterAfter","updateValueState","updateCreditCardPropsByValue","creditCardInfo","endPos","selectionEnd","callOnValueChanged","rawValue","setPhoneRegionCode","setRawValue","removeEventListener","g","Function"],"mappings":"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","file":"UIKit.2f30e0a26b00c0c750af.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t3: 0,\n \t\t1: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([11,0,2]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","$('.js-header-burger__input').on(function (event) {\r\n $('.header-burger__label,.header-login-nav,.header-login-nav__nav,.header-login,.header-login__nav').toggleClass('active');\r\n});\r\n\r\n// $('.header-login__burger-input').on(function (event) {\r\n//  $('.header-login__burger-label,.header-login,.header-login__nav').toggleClass('active');\r\n// });","; (function (window, $, undefined) {\r\n    ; (function () {\r\n        var VERSION = '2.2.3',\r\n            pluginName = 'fsd-datepicker',\r\n            autoInitSelector = '.fsd-datepicker-here',\r\n            $body, $datepickersContainer,\r\n            containerBuilt = false,\r\n            baseTemplate = '' +\r\n                '<div class=\"datepicker\">' +\r\n                '<i class=\"datepicker--pointer\"></i>' +\r\n                '<nav class=\"datepicker--nav\"></nav>' +\r\n                '<div class=\"datepicker--content\"></div>' +\r\n                '</div>',\r\n            defaults = {\r\n                classes: '',\r\n                inline: false,\r\n                language: 'ru',\r\n                startDate: new Date(),\r\n                firstDay: '',\r\n                weekends: [6, 0],\r\n                dateFormat: '',\r\n                altField: '',\r\n                altFieldDateFormat: '@',\r\n                toggleSelected: true,\r\n                keyboardNav: true,\r\n\r\n                position: 'bottom left',\r\n                offset: 12,\r\n\r\n                view: 'days',\r\n                minView: 'days',\r\n\r\n                showOtherMonths: true,\r\n                selectOtherMonths: true,\r\n                moveToOtherMonthsOnSelect: true,\r\n\r\n                showOtherYears: true,\r\n                selectOtherYears: true,\r\n                moveToOtherYearsOnSelect: true,\r\n\r\n                minDate: '',\r\n                maxDate: '',\r\n                disableNavWhenOutOfRange: true,\r\n\r\n                multipleDates: false, // Boolean or Number\r\n                multipleDatesSeparator: ' - ',\r\n                range: false,\r\n\r\n                todayButton: false,\r\n                clearButton: false,\r\n\r\n                showEvent: 'focus',\r\n                autoClose: false,\r\n\r\n                // navigation\r\n                monthsField: 'monthsShort',\r\n                prevHtml: 'arrow_back',\r\n                nextHtml: 'arrow_forward',\r\n                navTitles: {\r\n                    days: 'MM <i>yyyy</i>',\r\n                    months: 'yyyy',\r\n                    years: 'yyyy1 - yyyy2'\r\n                },\r\n\r\n                // timepicker\r\n                timepicker: false,\r\n                onlyTimepicker: false,\r\n                dateTimeSeparator: ' ',\r\n                timeFormat: '',\r\n                minHours: 0,\r\n                maxHours: 24,\r\n                minMinutes: 0,\r\n                maxMinutes: 59,\r\n                hoursStep: 1,\r\n                minutesStep: 1,\r\n\r\n                // events\r\n                onSelect: '',\r\n                onShow: '',\r\n                onHide: '',\r\n                onChangeMonth: '',\r\n                onChangeYear: '',\r\n                onChangeDecade: '',\r\n                onChangeView: '',\r\n                onRenderCell: ''\r\n            },\r\n            hotKeys = {\r\n                'ctrlRight': [17, 39],\r\n                'ctrlUp': [17, 38],\r\n                'ctrlLeft': [17, 37],\r\n                'ctrlDown': [17, 40],\r\n                'shiftRight': [16, 39],\r\n                'shiftUp': [16, 38],\r\n                'shiftLeft': [16, 37],\r\n                'shiftDown': [16, 40],\r\n                'altUp': [18, 38],\r\n                'altRight': [18, 39],\r\n                'altLeft': [18, 37],\r\n                'altDown': [18, 40],\r\n                'ctrlShiftUp': [16, 17, 38]\r\n            },\r\n            fsdDatepicker;\r\n\r\n        var Datepicker = function (el, options) {\r\n            this.el = el;\r\n            this.$el = $(el);\r\n\r\n            this.opts = $.extend(true, {}, defaults, options, this.$el.data());\r\n\r\n            if ($body == undefined) {\r\n                $body = $('body');\r\n            }\r\n\r\n            if (!this.opts.startDate) {\r\n                this.opts.startDate = new Date();\r\n            }\r\n\r\n            if (this.el.nodeName == 'INPUT') {\r\n                this.elIsInput = true;\r\n            }\r\n\r\n            if (this.opts.altField) {\r\n                this.$altField = typeof this.opts.altField == 'string' ? $(this.opts.altField) : this.opts.altField;\r\n            }\r\n\r\n            this.inited = false;\r\n            this.visible = false;\r\n            this.silent = false; // Need to prevent unnecessary rendering\r\n\r\n            this.currentDate = this.opts.startDate;\r\n            this.currentView = this.opts.view;\r\n            this._createShortCuts();\r\n            this.selectedDates = [];\r\n            this.views = {};\r\n            this.keys = [];\r\n            this.minRange = '';\r\n            this.maxRange = '';\r\n            this._prevOnSelectValue = '';\r\n\r\n            this.init()\r\n        };\r\n\r\n        fsdDatepicker = Datepicker;\r\n\r\n        fsdDatepicker.prototype = {\r\n            VERSION: VERSION,\r\n            viewIndexes: ['days', 'months', 'years'],\r\n\r\n            init: function () {\r\n                if (!containerBuilt && !this.opts.inline && this.elIsInput) {\r\n                    this._buildDatepickersContainer();\r\n                }\r\n                this._buildBaseHtml();\r\n                this._defineLocale(this.opts.language);\r\n                this._syncWithMinMaxDates();\r\n\r\n                if (this.elIsInput) {\r\n                    if (!this.opts.inline) {\r\n                        // Set extra classes for proper transitions\r\n                        this._setPositionClasses(this.opts.position);\r\n                        this._bindEvents()\r\n                    }\r\n                    if (this.opts.keyboardNav && !this.opts.onlyTimepicker) {\r\n                        this._bindKeyboardEvents();\r\n                    }\r\n                    this.$datepicker.on('mousedown', this._onMouseDownDatepicker.bind(this));\r\n                    this.$datepicker.on('mouseup', this._onMouseUpDatepicker.bind(this));\r\n                }\r\n\r\n                if (this.opts.classes) {\r\n                    this.$datepicker.addClass(this.opts.classes)\r\n                }\r\n\r\n                if (this.opts.timepicker) {\r\n                    this.timepicker = new $.fn.datepicker.Timepicker(this, this.opts);\r\n                    this._bindTimepickerEvents();\r\n                }\r\n\r\n                if (this.opts.onlyTimepicker) {\r\n                    this.$datepicker.addClass('-only-timepicker-');\r\n                }\r\n\r\n                this.views[this.currentView] = new $.fn.fsdDatepicker.Body(this, this.currentView, this.opts);\r\n                this.views[this.currentView].show();\r\n                this.nav = new $.fn.fsdDatepicker.Navigation(this, this.opts);\r\n                this.view = this.currentView;\r\n\r\n                this.$el.on('clickCell.adp', this._onClickCell.bind(this));\r\n                this.$datepicker.on('mouseenter', '.datepicker--cell', this._onMouseEnterCell.bind(this));\r\n                this.$datepicker.on('mouseleave', '.datepicker--cell', this._onMouseLeaveCell.bind(this));\r\n\r\n                this.inited = true;\r\n            },\r\n\r\n            _createShortCuts: function () {\r\n                this.minDate = this.opts.minDate ? this.opts.minDate : new Date(-8639999913600000);\r\n                this.maxDate = this.opts.maxDate ? this.opts.maxDate : new Date(8639999913600000);\r\n            },\r\n\r\n            _bindEvents: function () {\r\n                this.$el.on(this.opts.showEvent + '.adp', this._onShowEvent.bind(this));\r\n                this.$el.on('mouseup.adp', this._onMouseUpEl.bind(this));\r\n                this.$el.on('blur.adp', this._onBlur.bind(this));\r\n                this.$el.on('keyup.adp', this._onKeyUpGeneral.bind(this));\r\n                $(window).on('resize.adp', this._onResize.bind(this));\r\n                $('body').on('mouseup.adp', this._onMouseUpBody.bind(this));\r\n            },\r\n\r\n            _bindKeyboardEvents: function () {\r\n                this.$el.on('keydown.adp', this._onKeyDown.bind(this));\r\n                this.$el.on('keyup.adp', this._onKeyUp.bind(this));\r\n                this.$el.on('hotKey.adp', this._onHotKey.bind(this));\r\n            },\r\n\r\n            _bindTimepickerEvents: function () {\r\n                this.$el.on('timeChange.adp', this._onTimeChange.bind(this));\r\n            },\r\n\r\n            isWeekend: function (day) {\r\n                return this.opts.weekends.indexOf(day) !== -1;\r\n            },\r\n\r\n            _defineLocale: function (lang) {\r\n                if (typeof lang == 'string') {\r\n                    this.loc = $.fn.fsdDatepicker.language[lang];\r\n                    if (!this.loc) {\r\n                        console.warn('Can\\'t find language \"' + lang + '\" in Datepicker.language, will use \"ru\" instead');\r\n                        this.loc = $.extend(true, {}, $.fn.fsdDatepicker.language.ru)\r\n                    }\r\n\r\n                    this.loc = $.extend(true, {}, $.fn.fsdDatepicker.language.ru, $.fn.fsdDatepicker.language[lang])\r\n                } else {\r\n                    this.loc = $.extend(true, {}, $.fn.fsdDatepicker.language.ru, lang)\r\n                }\r\n\r\n                if (this.opts.dateFormat) {\r\n                    this.loc.dateFormat = this.opts.dateFormat\r\n                }\r\n\r\n                if (this.opts.timeFormat) {\r\n                    this.loc.timeFormat = this.opts.timeFormat\r\n                }\r\n\r\n                if (this.opts.firstDay !== '') {\r\n                    this.loc.firstDay = this.opts.firstDay\r\n                }\r\n\r\n                if (this.opts.timepicker) {\r\n                    this.loc.dateFormat = [this.loc.dateFormat, this.loc.timeFormat].join(this.opts.dateTimeSeparator);\r\n                }\r\n\r\n                if (this.opts.onlyTimepicker) {\r\n                    this.loc.dateFormat = this.loc.timeFormat;\r\n                }\r\n\r\n                var boundary = this._getWordBoundaryRegExp;\r\n                if (this.loc.timeFormat.match(boundary('aa')) ||\r\n                    this.loc.timeFormat.match(boundary('AA'))\r\n                ) {\r\n                    this.ampm = true;\r\n                }\r\n            },\r\n\r\n            _buildDatepickersContainer: function () {\r\n                containerBuilt = true;\r\n                $body.append('<div class=\"datepickers-container\" id=\"datepickers-container\"></div>');\r\n                $datepickersContainer = $('#datepickers-container');\r\n            },\r\n\r\n            _buildBaseHtml: function () {\r\n                var $appendTarget,\r\n                    $inline = $('<div class=\"datepicker-inline\">');\r\n\r\n                if (this.el.nodeName == 'INPUT') {\r\n                    if (!this.opts.inline) {\r\n                        $appendTarget = $datepickersContainer;\r\n                    } else {\r\n                        $appendTarget = $inline.insertAfter(this.$el)\r\n                    }\r\n                } else {\r\n                    $appendTarget = $inline.appendTo(this.$el)\r\n                }\r\n\r\n                this.$datepicker = $(baseTemplate).appendTo($appendTarget);\r\n                this.$content = $('.datepicker--content', this.$datepicker);\r\n                this.$nav = $('.datepicker--nav', this.$datepicker);\r\n            },\r\n\r\n            _triggerOnChange: function () {\r\n                if (!this.selectedDates.length) {\r\n                    // Prevent from triggering multiple onSelect callback with same argument (empty string) in IE10-11\r\n                    if (this._prevOnSelectValue === '') return;\r\n                    this._prevOnSelectValue = '';\r\n                    return this.opts.onSelect('', '', this);\r\n                }\r\n\r\n                var selectedDates = this.selectedDates,\r\n                    parsedSelected = fsdDatepicker.getParsedDate(selectedDates[0]),\r\n                    formattedDates,\r\n                    _this = this,\r\n                    dates = new Date(\r\n                        parsedSelected.year,\r\n                        parsedSelected.month,\r\n                        parsedSelected.date,\r\n                        parsedSelected.hours,\r\n                        parsedSelected.minutes\r\n                    );\r\n\r\n                formattedDates = selectedDates.map(function (date) {\r\n                    return _this.formatDate(_this.loc.dateFormat, date)\r\n                }).join(this.opts.multipleDatesSeparator);\r\n\r\n                // Create new dates array, to separate it from original selectedDates\r\n                if (this.opts.multipleDates || this.opts.range) {\r\n                    dates = selectedDates.map(function (date) {\r\n                        var parsedDate = fsdDatepicker.getParsedDate(date);\r\n                        return new Date(\r\n                            parsedDate.year,\r\n                            parsedDate.month,\r\n                            parsedDate.date,\r\n                            parsedDate.hours,\r\n                            parsedDate.minutes\r\n                        );\r\n                    })\r\n                }\r\n\r\n                this._prevOnSelectValue = formattedDates;\r\n                this.opts.onSelect(formattedDates, dates, this);\r\n            },\r\n\r\n            next: function () {\r\n                var d = this.parsedDate,\r\n                    o = this.opts;\r\n                switch (this.view) {\r\n                    case 'days':\r\n                        this.date = new Date(d.year, d.month + 1, 1);\r\n                        if (o.onChangeMonth) o.onChangeMonth(this.parsedDate.month, this.parsedDate.year);\r\n                        break;\r\n                    case 'months':\r\n                        this.date = new Date(d.year + 1, d.month, 1);\r\n                        if (o.onChangeYear) o.onChangeYear(this.parsedDate.year);\r\n                        break;\r\n                    case 'years':\r\n                        this.date = new Date(d.year + 10, 0, 1);\r\n                        if (o.onChangeDecade) o.onChangeDecade(this.curDecade);\r\n                        break;\r\n                }\r\n            },\r\n\r\n            prev: function () {\r\n                var d = this.parsedDate,\r\n                    o = this.opts;\r\n                switch (this.view) {\r\n                    case 'days':\r\n                        this.date = new Date(d.year, d.month - 1, 1);\r\n                        if (o.onChangeMonth) o.onChangeMonth(this.parsedDate.month, this.parsedDate.year);\r\n                        break;\r\n                    case 'months':\r\n                        this.date = new Date(d.year - 1, d.month, 1);\r\n                        if (o.onChangeYear) o.onChangeYear(this.parsedDate.year);\r\n                        break;\r\n                    case 'years':\r\n                        this.date = new Date(d.year - 10, 0, 1);\r\n                        if (o.onChangeDecade) o.onChangeDecade(this.curDecade);\r\n                        break;\r\n                }\r\n            },\r\n\r\n            formatDate: function (string, date) {\r\n                date = date || this.date;\r\n                var result = string,\r\n                    boundary = this._getWordBoundaryRegExp,\r\n                    locale = this.loc,\r\n                    leadingZero = fsdDatepicker.getLeadingZeroNum,\r\n                    decade = fsdDatepicker.getDecade(date),\r\n                    d = fsdDatepicker.getParsedDate(date),\r\n                    fullHours = d.fullHours,\r\n                    hours = d.hours,\r\n                    ampm = string.match(boundary('aa')) || string.match(boundary('AA')),\r\n                    dayPeriod = 'am',\r\n                    replacer = this._replacer,\r\n                    validHours;\r\n\r\n                if (this.opts.timepicker && this.timepicker && ampm) {\r\n                    validHours = this.timepicker._getValidHoursFromDate(date, ampm);\r\n                    fullHours = leadingZero(validHours.hours);\r\n                    hours = validHours.hours;\r\n                    dayPeriod = validHours.dayPeriod;\r\n                }\r\n\r\n                switch (true) {\r\n                    case /@/.test(result):\r\n                        result = result.replace(/@/, date.getTime());\r\n                    case /aa/.test(result):\r\n                        result = replacer(result, boundary('aa'), dayPeriod);\r\n                    case /AA/.test(result):\r\n                        result = replacer(result, boundary('AA'), dayPeriod.toUpperCase());\r\n                    case /dd/.test(result):\r\n                        result = replacer(result, boundary('dd'), d.fullDate);\r\n                    case /d/.test(result):\r\n                        result = replacer(result, boundary('d'), d.date);\r\n                    case /DD/.test(result):\r\n                        result = replacer(result, boundary('DD'), locale.days[d.day]);\r\n                    case /D/.test(result):\r\n                        result = replacer(result, boundary('D'), locale.daysShort[d.day]);\r\n                    case /mm/.test(result):\r\n                        result = replacer(result, boundary('mm'), d.fullMonth);\r\n                    case /m/.test(result):\r\n                        result = replacer(result, boundary('m'), d.month + 1);\r\n                    case /MM/.test(result):\r\n                        result = replacer(result, boundary('MM'), this.loc.months[d.month]);\r\n                    case /M/.test(result):\r\n                        result = replacer(result, boundary('M'), locale.monthsShort[d.month]);\r\n                    case /ii/.test(result):\r\n                        result = replacer(result, boundary('ii'), d.fullMinutes);\r\n                    case /i/.test(result):\r\n                        result = replacer(result, boundary('i'), d.minutes);\r\n                    case /hh/.test(result):\r\n                        result = replacer(result, boundary('hh'), fullHours);\r\n                    case /h/.test(result):\r\n                        result = replacer(result, boundary('h'), hours);\r\n                    case /yyyy/.test(result):\r\n                        result = replacer(result, boundary('yyyy'), d.year);\r\n                    case /yyyy1/.test(result):\r\n                        result = replacer(result, boundary('yyyy1'), decade[0]);\r\n                    case /yyyy2/.test(result):\r\n                        result = replacer(result, boundary('yyyy2'), decade[1]);\r\n                    case /yy/.test(result):\r\n                        result = replacer(result, boundary('yy'), d.year.toString().slice(-2));\r\n                }\r\n                return result;\r\n            },\r\n\r\n            _replacer: function (str, reg, data) {\r\n                return str.replace(reg, function (match, p1, p2, p3) {\r\n                    return p1 + data + p3;\r\n                })\r\n            },\r\n\r\n            _getWordBoundaryRegExp: function (sign) {\r\n                var symbols = '\\\\s|\\\\.|-|/|\\\\\\\\|,|\\\\$|\\\\!|\\\\?|:|;';\r\n\r\n                return new RegExp('(^|>|' + symbols + ')(' + sign + ')($|<|' + symbols + ')', 'g');\r\n            },\r\n\r\n\r\n            selectDate: function (date) {\r\n                var _this = this,\r\n                    opts = _this.opts,\r\n                    d = _this.parsedDate,\r\n                    selectedDates = _this.selectedDates,\r\n                    len = selectedDates.length,\r\n                    newDate = '';\r\n\r\n                if (Array.isArray(date)) {\r\n                    date.forEach(function (d) {\r\n                        _this.selectDate(d)\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                if (!(date instanceof Date)) return;\r\n\r\n                this.lastSelectedDate = date;\r\n\r\n                // Set new time values from Date\r\n                if (this.timepicker) {\r\n                    this.timepicker._setTime(date);\r\n                }\r\n\r\n                // On this step timepicker will set valid values in it's instance\r\n                _this._trigger('selectDate', date);\r\n\r\n                // Set correct time values after timepicker's validation\r\n                // Prevent from setting hours or minutes which values are lesser then `min` value or\r\n                // greater then `max` value\r\n                if (this.timepicker) {\r\n                    date.setHours(this.timepicker.hours);\r\n                    date.setMinutes(this.timepicker.minutes)\r\n                }\r\n\r\n                if (_this.view == 'days') {\r\n                    if (date.getMonth() != d.month && opts.moveToOtherMonthsOnSelect) {\r\n                        newDate = new Date(date.getFullYear(), date.getMonth(), 1);\r\n                    }\r\n                }\r\n\r\n                if (_this.view == 'years') {\r\n                    if (date.getFullYear() != d.year && opts.moveToOtherYearsOnSelect) {\r\n                        newDate = new Date(date.getFullYear(), 0, 1);\r\n                    }\r\n                }\r\n\r\n                if (newDate) {\r\n                    _this.silent = true;\r\n                    _this.date = newDate;\r\n                    _this.silent = false;\r\n                    _this.nav._render()\r\n                }\r\n\r\n                if (opts.multipleDates && !opts.range) { // Set priority to range functionality\r\n                    if (len === opts.multipleDates) return;\r\n                    if (!_this._isSelected(date)) {\r\n                        _this.selectedDates.push(date);\r\n                    }\r\n                } else if (opts.range) {\r\n                    if (len == 2) {\r\n                        _this.selectedDates = [date];\r\n                        _this.minRange = date;\r\n                        _this.maxRange = '';\r\n                    } else if (len == 1) {\r\n                        _this.selectedDates.push(date);\r\n                        if (!_this.maxRange) {\r\n                            _this.maxRange = date;\r\n                        } else {\r\n                            _this.minRange = date;\r\n                        }\r\n                        // Swap dates if they were selected via dp.selectDate() and second date was smaller then first\r\n                        if (fsdDatepicker.bigger(_this.maxRange, _this.minRange)) {\r\n                            _this.maxRange = _this.minRange;\r\n                            _this.minRange = date;\r\n                        }\r\n                        _this.selectedDates = [_this.minRange, _this.maxRange]\r\n\r\n                    } else {\r\n                        _this.selectedDates = [date];\r\n                        _this.minRange = date;\r\n                    }\r\n                } else {\r\n                    _this.selectedDates = [date];\r\n                }\r\n\r\n                _this._setInputValue();\r\n\r\n                if (opts.onSelect) {\r\n                    _this._triggerOnChange();\r\n                }\r\n\r\n                if (opts.autoClose && !this.timepickerIsActive) {\r\n                    if (!opts.multipleDates && !opts.range) {\r\n                        _this.hide();\r\n                    } else if (opts.range && _this.selectedDates.length == 2) {\r\n                        _this.hide();\r\n                    }\r\n                }\r\n\r\n                _this.views[this.currentView]._render()\r\n            },\r\n\r\n            removeDate: function (date) {\r\n                var selected = this.selectedDates,\r\n                    _this = this;\r\n\r\n                if (!(date instanceof Date)) return;\r\n\r\n                return selected.some(function (curDate, i) {\r\n                    if (datepicker.isSame(curDate, date)) {\r\n                        selected.splice(i, 1);\r\n\r\n                        if (!_this.selectedDates.length) {\r\n                            _this.minRange = '';\r\n                            _this.maxRange = '';\r\n                            _this.lastSelectedDate = '';\r\n                        } else {\r\n                            _this.lastSelectedDate = _this.selectedDates[_this.selectedDates.length - 1];\r\n                        }\r\n\r\n                        _this.views[_this.currentView]._render();\r\n                        _this._setInputValue();\r\n\r\n                        if (_this.opts.onSelect) {\r\n                            _this._triggerOnChange();\r\n                        }\r\n\r\n                        return true\r\n                    }\r\n                })\r\n            },\r\n\r\n            today: function () {\r\n                this.silent = true;\r\n                this.view = this.opts.minView;\r\n                this.silent = false;\r\n                this.date = new Date();\r\n\r\n                if (this.opts.todayButton instanceof Date) {\r\n                    this.selectDate(this.opts.todayButton)\r\n                }\r\n            },\r\n\r\n            clear: function () {\r\n                this.selectedDates = [];\r\n                this.minRange = '';\r\n                this.maxRange = '';\r\n                this.views[this.currentView]._render();\r\n                this._setInputValue();\r\n                if (this.opts.onSelect) {\r\n                    this._triggerOnChange()\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Updates datepicker options\r\n             * @param {String|Object} param - parameter's name to update. If object then it will extend current options\r\n             * @param {String|Number|Object} [value] - new param value\r\n             */\r\n            update: function (param, value) {\r\n                var len = arguments.length,\r\n                    lastSelectedDate = this.lastSelectedDate;\r\n\r\n                if (len == 2) {\r\n                    this.opts[param] = value;\r\n                } else if (len == 1 && typeof param == 'object') {\r\n                    this.opts = $.extend(true, this.opts, param)\r\n                }\r\n\r\n                this._createShortCuts();\r\n                this._syncWithMinMaxDates();\r\n                this._defineLocale(this.opts.language);\r\n                this.nav._addButtonsIfNeed();\r\n                if (!this.opts.onlyTimepicker) this.nav._render();\r\n                this.views[this.currentView]._render();\r\n\r\n                if (this.elIsInput && !this.opts.inline) {\r\n                    this._setPositionClasses(this.opts.position);\r\n                    if (this.visible) {\r\n                        this.setPosition(this.opts.position)\r\n                    }\r\n                }\r\n\r\n                if (this.opts.classes) {\r\n                    this.$datepicker.addClass(this.opts.classes)\r\n                }\r\n\r\n                if (this.opts.onlyTimepicker) {\r\n                    this.$datepicker.addClass('-only-timepicker-');\r\n                }\r\n\r\n                if (this.opts.timepicker) {\r\n                    if (lastSelectedDate) this.timepicker._handleDate(lastSelectedDate);\r\n                    this.timepicker._updateRanges();\r\n                    this.timepicker._updateCurrentTime();\r\n                    // Change hours and minutes if it's values have been changed through min/max hours/minutes\r\n                    if (lastSelectedDate) {\r\n                        lastSelectedDate.setHours(this.timepicker.hours);\r\n                        lastSelectedDate.setMinutes(this.timepicker.minutes);\r\n                    }\r\n                }\r\n\r\n                this._setInputValue();\r\n\r\n                return this;\r\n            },\r\n\r\n            _syncWithMinMaxDates: function () {\r\n                var curTime = this.date.getTime();\r\n                this.silent = true;\r\n                if (this.minTime > curTime) {\r\n                    this.date = this.minDate;\r\n                }\r\n\r\n                if (this.maxTime < curTime) {\r\n                    this.date = this.maxDate;\r\n                }\r\n                this.silent = false;\r\n            },\r\n\r\n            _isSelected: function (checkDate, cellType) {\r\n                var res = false;\r\n                this.selectedDates.some(function (date) {\r\n                    if (fsdDatepicker.isSame(date, checkDate, cellType)) {\r\n                        res = date;\r\n                        return true;\r\n                    }\r\n                });\r\n                return res;\r\n            },\r\n\r\n            _setInputValue: function () {\r\n                var _this = this,\r\n                    opts = _this.opts,\r\n                    format = _this.loc.dateFormat,\r\n                    altFormat = opts.altFieldDateFormat,\r\n                    value = _this.selectedDates.map(function (date) {\r\n                        return _this.formatDate(format, date)\r\n                    }),\r\n                    altValues;\r\n\r\n                if (opts.altField && _this.$altField.length) {\r\n                    altValues = this.selectedDates.map(function (date) {\r\n                        return _this.formatDate(altFormat, date)\r\n                    });\r\n                    altValues = altValues.join(this.opts.multipleDatesSeparator);\r\n                    this.$altField.val(altValues);\r\n                }\r\n\r\n                value = value.join(this.opts.multipleDatesSeparator);\r\n\r\n                this.$el.val(value)\r\n            },\r\n\r\n            /**\r\n             * Check if date is between minDate and maxDate\r\n             * @param date {object} - date object\r\n             * @param type {string} - cell type\r\n             * @returns {boolean}\r\n             * @private\r\n             */\r\n            _isInRange: function (date, type) {\r\n                var time = date.getTime(),\r\n                    d = fsdDatepicker.getParsedDate(date),\r\n                    min = fsdDatepicker.getParsedDate(this.minDate),\r\n                    max = fsdDatepicker.getParsedDate(this.maxDate),\r\n                    dMinTime = new Date(d.year, d.month, min.date).getTime(),\r\n                    dMaxTime = new Date(d.year, d.month, max.date).getTime(),\r\n                    types = {\r\n                        day: time >= this.minTime && time <= this.maxTime,\r\n                        month: dMinTime >= this.minTime && dMaxTime <= this.maxTime,\r\n                        year: d.year >= min.year && d.year <= max.year\r\n                    };\r\n                return type ? types[type] : types.day\r\n            },\r\n\r\n            _getDimensions: function ($el) {\r\n                var offset = $el.offset();\r\n\r\n                return {\r\n                    width: $el.outerWidth(),\r\n                    height: $el.outerHeight(),\r\n                    left: offset.left,\r\n                    top: offset.top\r\n                }\r\n            },\r\n\r\n            _getDateFromCell: function (cell) {\r\n                var curDate = this.parsedDate,\r\n                    year = cell.data('year') || curDate.year,\r\n                    month = cell.data('month') == undefined ? curDate.month : cell.data('month'),\r\n                    date = cell.data('date') || 1;\r\n\r\n                return new Date(year, month, date);\r\n            },\r\n\r\n            _setPositionClasses: function (pos) {\r\n                pos = pos.split(' ');\r\n                var main = pos[0],\r\n                    sec = pos[1],\r\n                    classes = 'datepicker -' + main + '-' + sec + '- -from-' + main + '-';\r\n\r\n                if (this.visible) classes += ' active';\r\n\r\n                this.$datepicker\r\n                    .removeAttr('class')\r\n                    .addClass(classes);\r\n            },\r\n\r\n            setPosition: function (position) {\r\n                position = position || this.opts.position;\r\n\r\n                var dims = this._getDimensions(this.$el),\r\n                    selfDims = this._getDimensions(this.$datepicker),\r\n                    pos = position.split(' '),\r\n                    top, left,\r\n                    offset = this.opts.offset,\r\n                    main = pos[0],\r\n                    secondary = pos[1];\r\n\r\n                switch (main) {\r\n                    case 'top':\r\n                        top = dims.top - selfDims.height - offset;\r\n                        break;\r\n                    case 'right':\r\n                        left = dims.left + dims.width + offset;\r\n                        break;\r\n                    case 'bottom':\r\n                        top = dims.top + dims.height + offset;\r\n                        break;\r\n                    case 'left':\r\n                        left = dims.left - selfDims.width - offset;\r\n                        break;\r\n                }\r\n\r\n                switch (secondary) {\r\n                    case 'top':\r\n                        top = dims.top;\r\n                        break;\r\n                    case 'right':\r\n                        left = dims.left + dims.width - selfDims.width;\r\n                        break;\r\n                    case 'bottom':\r\n                        top = dims.top + dims.height - selfDims.height;\r\n                        break;\r\n                    case 'left':\r\n                        left = dims.left;\r\n                        break;\r\n                    case 'center':\r\n                        if (/left|right/.test(main)) {\r\n                            top = dims.top + dims.height / 2 - selfDims.height / 2;\r\n                        } else {\r\n                            left = dims.left + dims.width / 2 - selfDims.width / 2;\r\n                        }\r\n                }\r\n\r\n                this.$datepicker\r\n                    .css({\r\n                        left: left,\r\n                        top: top\r\n                    })\r\n            },\r\n\r\n            show: function () {\r\n                var onShow = this.opts.onShow;\r\n\r\n                this.setPosition(this.opts.position);\r\n                this.$datepicker.addClass('active');\r\n                this.visible = true;\r\n\r\n                if (onShow) {\r\n                    this._bindVisionEvents(onShow)\r\n                }\r\n            },\r\n\r\n            hide: function () {\r\n                var onHide = this.opts.onHide;\r\n\r\n                this.$datepicker\r\n                    .removeClass('active')\r\n                    .css({\r\n                        left: '-100000px'\r\n                    });\r\n\r\n                this.focused = '';\r\n                this.keys = [];\r\n\r\n                this.inFocus = false;\r\n                this.visible = false;\r\n                this.$el.blur();\r\n\r\n                if (onHide) {\r\n                    this._bindVisionEvents(onHide)\r\n                }\r\n            },\r\n\r\n            down: function (date) {\r\n                this._changeView(date, 'down');\r\n            },\r\n\r\n            up: function (date) {\r\n                this._changeView(date, 'up');\r\n            },\r\n\r\n            _bindVisionEvents: function (event) {\r\n                this.$datepicker.off('transitionend.dp');\r\n                event(this, false);\r\n                this.$datepicker.one('transitionend.dp', event.bind(this, this, true))\r\n            },\r\n\r\n            _changeView: function (date, dir) {\r\n                date = date || this.focused || this.date;\r\n\r\n                var nextView = dir == 'up' ? this.viewIndex + 1 : this.viewIndex - 1;\r\n                if (nextView > 2) nextView = 2;\r\n                if (nextView < 0) nextView = 0;\r\n\r\n                this.silent = true;\r\n                this.date = new Date(date.getFullYear(), date.getMonth(), 1);\r\n                this.silent = false;\r\n                this.view = this.viewIndexes[nextView];\r\n\r\n            },\r\n\r\n            _handleHotKey: function (key) {\r\n                var date = datepicker.getParsedDate(this._getFocusedDate()),\r\n                    focusedParsed,\r\n                    o = this.opts,\r\n                    newDate,\r\n                    totalDaysInNextMonth,\r\n                    monthChanged = false,\r\n                    yearChanged = false,\r\n                    decadeChanged = false,\r\n                    y = date.year,\r\n                    m = date.month,\r\n                    d = date.date;\r\n\r\n                switch (key) {\r\n                    case 'ctrlRight':\r\n                    case 'ctrlUp':\r\n                        m += 1;\r\n                        monthChanged = true;\r\n                        break;\r\n                    case 'ctrlLeft':\r\n                    case 'ctrlDown':\r\n                        m -= 1;\r\n                        monthChanged = true;\r\n                        break;\r\n                    case 'shiftRight':\r\n                    case 'shiftUp':\r\n                        yearChanged = true;\r\n                        y += 1;\r\n                        break;\r\n                    case 'shiftLeft':\r\n                    case 'shiftDown':\r\n                        yearChanged = true;\r\n                        y -= 1;\r\n                        break;\r\n                    case 'altRight':\r\n                    case 'altUp':\r\n                        decadeChanged = true;\r\n                        y += 10;\r\n                        break;\r\n                    case 'altLeft':\r\n                    case 'altDown':\r\n                        decadeChanged = true;\r\n                        y -= 10;\r\n                        break;\r\n                    case 'ctrlShiftUp':\r\n                        this.up();\r\n                        break;\r\n                }\r\n\r\n                totalDaysInNextMonth = fsdDatepicker.getDaysCount(new Date(y, m));\r\n                newDate = new Date(y, m, d);\r\n\r\n                // If next month has less days than current, set date to total days in that month\r\n                if (totalDaysInNextMonth < d) d = totalDaysInNextMonth;\r\n\r\n                // Check if newDate is in valid range\r\n                if (newDate.getTime() < this.minTime) {\r\n                    newDate = this.minDate;\r\n                } else if (newDate.getTime() > this.maxTime) {\r\n                    newDate = this.maxDate;\r\n                }\r\n\r\n                this.focused = newDate;\r\n\r\n                focusedParsed = datepicker.getParsedDate(newDate);\r\n                if (monthChanged && o.onChangeMonth) {\r\n                    o.onChangeMonth(focusedParsed.month, focusedParsed.year)\r\n                }\r\n                if (yearChanged && o.onChangeYear) {\r\n                    o.onChangeYear(focusedParsed.year)\r\n                }\r\n                if (decadeChanged && o.onChangeDecade) {\r\n                    o.onChangeDecade(this.curDecade)\r\n                }\r\n            },\r\n\r\n            _registerKey: function (key) {\r\n                var exists = this.keys.some(function (curKey) {\r\n                    return curKey == key;\r\n                });\r\n\r\n                if (!exists) {\r\n                    this.keys.push(key)\r\n                }\r\n            },\r\n\r\n            _unRegisterKey: function (key) {\r\n                var index = this.keys.indexOf(key);\r\n\r\n                this.keys.splice(index, 1);\r\n            },\r\n\r\n            _isHotKeyPressed: function () {\r\n                var currentHotKey,\r\n                    found = false,\r\n                    _this = this,\r\n                    pressedKeys = this.keys.sort();\r\n\r\n                for (var hotKey in hotKeys) {\r\n                    currentHotKey = hotKeys[hotKey];\r\n                    if (pressedKeys.length != currentHotKey.length) continue;\r\n\r\n                    if (currentHotKey.every(function (key, i) { return key == pressedKeys[i] })) {\r\n                        _this._trigger('hotKey', hotKey);\r\n                        found = true;\r\n                    }\r\n                }\r\n\r\n                return found;\r\n            },\r\n\r\n            _trigger: function (event, args) {\r\n                this.$el.trigger(event, args)\r\n            },\r\n\r\n            _focusNextCell: function (keyCode, type) {\r\n                type = type || this.cellType;\r\n\r\n                var date = datepicker.getParsedDate(this._getFocusedDate()),\r\n                    y = date.year,\r\n                    m = date.month,\r\n                    d = date.date;\r\n\r\n                if (this._isHotKeyPressed()) {\r\n                    return;\r\n                }\r\n\r\n                switch (keyCode) {\r\n                    case 37: // left\r\n                        type == 'day' ? (d -= 1) : '';\r\n                        type == 'month' ? (m -= 1) : '';\r\n                        type == 'year' ? (y -= 1) : '';\r\n                        break;\r\n                    case 38: // up\r\n                        type == 'day' ? (d -= 7) : '';\r\n                        type == 'month' ? (m -= 3) : '';\r\n                        type == 'year' ? (y -= 4) : '';\r\n                        break;\r\n                    case 39: // right\r\n                        type == 'day' ? (d += 1) : '';\r\n                        type == 'month' ? (m += 1) : '';\r\n                        type == 'year' ? (y += 1) : '';\r\n                        break;\r\n                    case 40: // down\r\n                        type == 'day' ? (d += 7) : '';\r\n                        type == 'month' ? (m += 3) : '';\r\n                        type == 'year' ? (y += 4) : '';\r\n                        break;\r\n                }\r\n\r\n                var nd = new Date(y, m, d);\r\n                if (nd.getTime() < this.minTime) {\r\n                    nd = this.minDate;\r\n                } else if (nd.getTime() > this.maxTime) {\r\n                    nd = this.maxDate;\r\n                }\r\n\r\n                this.focused = nd;\r\n\r\n            },\r\n\r\n            _getFocusedDate: function () {\r\n                var focused = this.focused || this.selectedDates[this.selectedDates.length - 1],\r\n                    d = this.parsedDate;\r\n\r\n                if (!focused) {\r\n                    switch (this.view) {\r\n                        case 'days':\r\n                            focused = new Date(d.year, d.month, new Date().getDate());\r\n                            break;\r\n                        case 'months':\r\n                            focused = new Date(d.year, d.month, 1);\r\n                            break;\r\n                        case 'years':\r\n                            focused = new Date(d.year, 0, 1);\r\n                            break;\r\n                    }\r\n                }\r\n\r\n                return focused;\r\n            },\r\n\r\n            _getCell: function (date, type) {\r\n                type = type || this.cellType;\r\n\r\n                var d = fsdDatepicker.getParsedDate(date),\r\n                    selector = '.datepicker--cell[data-year=\"' + d.year + '\"]',\r\n                    $cell;\r\n\r\n                switch (type) {\r\n                    case 'month':\r\n                        selector = '[data-month=\"' + d.month + '\"]';\r\n                        break;\r\n                    case 'day':\r\n                        selector += '[data-month=\"' + d.month + '\"][data-date=\"' + d.date + '\"]';\r\n                        break;\r\n                }\r\n                $cell = this.views[this.currentView].$el.find(selector);\r\n\r\n                return $cell.length ? $cell : $('');\r\n            },\r\n\r\n            destroy: function () {\r\n                var _this = this;\r\n                _this.$el\r\n                    .off('.adp')\r\n                    .data('datepicker', '');\r\n\r\n                _this.selectedDates = [];\r\n                _this.focused = '';\r\n                _this.views = {};\r\n                _this.keys = [];\r\n                _this.minRange = '';\r\n                _this.maxRange = '';\r\n\r\n                if (_this.opts.inline || !_this.elIsInput) {\r\n                    _this.$datepicker.closest('.datepicker-inline').remove();\r\n                } else {\r\n                    _this.$datepicker.remove();\r\n                }\r\n            },\r\n\r\n            _handleAlreadySelectedDates: function (alreadySelected, selectedDate) {\r\n                if (this.opts.range) {\r\n                    if (!this.opts.toggleSelected) {\r\n                        // Add possibility to select same date when range is true\r\n                        if (this.selectedDates.length != 2) {\r\n                            this._trigger('clickCell', selectedDate);\r\n                        }\r\n                    } else {\r\n                        this.removeDate(selectedDate);\r\n                    }\r\n                } else if (this.opts.toggleSelected) {\r\n                    this.removeDate(selectedDate);\r\n                }\r\n\r\n                // Change last selected date to be able to change time when clicking on this cell\r\n                if (!this.opts.toggleSelected) {\r\n                    this.lastSelectedDate = alreadySelected;\r\n                    if (this.opts.timepicker) {\r\n                        this.timepicker._setTime(alreadySelected);\r\n                        this.timepicker.update();\r\n                    }\r\n                }\r\n            },\r\n\r\n            _onShowEvent: function (e) {\r\n                if (!this.visible) {\r\n                    this.show();\r\n                }\r\n            },\r\n\r\n            _onBlur: function () {\r\n                if (!this.inFocus && this.visible) {\r\n                    this.hide();\r\n                }\r\n            },\r\n\r\n            _onMouseDownDatepicker: function (e) {\r\n                this.inFocus = true;\r\n            },\r\n\r\n            _onMouseUpDatepicker: function (e) {\r\n                this.inFocus = false;\r\n                e.originalEvent.inFocus = true;\r\n                if (!e.originalEvent.timepickerFocus) this.$el.focus();\r\n            },\r\n\r\n            _onKeyUpGeneral: function (e) {\r\n                var val = this.$el.val();\r\n\r\n                if (!val) {\r\n                    this.clear();\r\n                }\r\n            },\r\n\r\n            _onResize: function () {\r\n                if (this.visible) {\r\n                    this.setPosition();\r\n                }\r\n            },\r\n\r\n            _onMouseUpBody: function (e) {\r\n                if (e.originalEvent.inFocus) return;\r\n\r\n                if (this.visible && !this.inFocus) {\r\n                    this.hide();\r\n                }\r\n            },\r\n\r\n            _onMouseUpEl: function (e) {\r\n                e.originalEvent.inFocus = true;\r\n                setTimeout(this._onKeyUpGeneral.bind(this), 4);\r\n            },\r\n\r\n            _onKeyDown: function (e) {\r\n                var code = e.which;\r\n                this._registerKey(code);\r\n\r\n                // Arrows\r\n                if (code >= 37 && code <= 40) {\r\n                    e.preventDefault();\r\n                    this._focusNextCell(code);\r\n                }\r\n\r\n                // Enter\r\n                if (code == 13) {\r\n                    if (this.focused) {\r\n                        if (this._getCell(this.focused).hasClass('-disabled-')) return;\r\n                        if (this.view != this.opts.minView) {\r\n                            this.down()\r\n                        } else {\r\n                            var alreadySelected = this._isSelected(this.focused, this.cellType);\r\n\r\n                            if (!alreadySelected) {\r\n                                if (this.timepicker) {\r\n                                    this.focused.setHours(this.timepicker.hours);\r\n                                    this.focused.setMinutes(this.timepicker.minutes);\r\n                                }\r\n                                this.selectDate(this.focused);\r\n                                return;\r\n                            }\r\n                            this._handleAlreadySelectedDates(alreadySelected, this.focused)\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // Esc\r\n                if (code == 27) {\r\n                    this.hide();\r\n                }\r\n            },\r\n\r\n            _onKeyUp: function (e) {\r\n                var code = e.which;\r\n                this._unRegisterKey(code);\r\n            },\r\n\r\n            _onHotKey: function (e, hotKey) {\r\n                this._handleHotKey(hotKey);\r\n            },\r\n\r\n            _onMouseEnterCell: function (e) {\r\n                var $cell = $(e.target).closest('.datepicker--cell'),\r\n                    date = this._getDateFromCell($cell);\r\n\r\n                // Prevent from unnecessary rendering and setting new currentDate\r\n                this.silent = true;\r\n\r\n                if (this.focused) {\r\n                    this.focused = ''\r\n                }\r\n\r\n                $cell.addClass('-focus-');\r\n\r\n                this.focused = date;\r\n                this.silent = false;\r\n\r\n                if (this.opts.range && this.selectedDates.length == 1) {\r\n                    this.minRange = this.selectedDates[0];\r\n                    this.maxRange = '';\r\n                    if (fsdDatepicker.less(this.minRange, this.focused)) {\r\n                        this.maxRange = this.minRange;\r\n                        this.minRange = '';\r\n                    }\r\n                    this.views[this.currentView]._update();\r\n                }\r\n            },\r\n\r\n            _onMouseLeaveCell: function (e) {\r\n                var $cell = $(e.target).closest('.datepicker--cell');\r\n\r\n                $cell.removeClass('-focus-');\r\n\r\n                this.silent = true;\r\n                this.focused = '';\r\n                this.silent = false;\r\n            },\r\n\r\n            _onTimeChange: function (e, h, m) {\r\n                var date = new Date(),\r\n                    selectedDates = this.selectedDates,\r\n                    selected = false;\r\n\r\n                if (selectedDates.length) {\r\n                    selected = true;\r\n                    date = this.lastSelectedDate;\r\n                }\r\n\r\n                date.setHours(h);\r\n                date.setMinutes(m);\r\n\r\n                if (!selected && !this._getCell(date).hasClass('-disabled-')) {\r\n                    this.selectDate(date);\r\n                } else {\r\n                    this._setInputValue();\r\n                    if (this.opts.onSelect) {\r\n                        this._triggerOnChange();\r\n                    }\r\n                }\r\n            },\r\n\r\n            _onClickCell: function (e, date) {\r\n                if (this.timepicker) {\r\n                    date.setHours(this.timepicker.hours);\r\n                    date.setMinutes(this.timepicker.minutes);\r\n                }\r\n                this.selectDate(date);\r\n            },\r\n\r\n            set focused(val) {\r\n                if (!val && this.focused) {\r\n                    var $cell = this._getCell(this.focused);\r\n\r\n                    if ($cell.length) {\r\n                        $cell.removeClass('-focus-')\r\n                    }\r\n                }\r\n                this._focused = val;\r\n                if (this.opts.range && this.selectedDates.length == 1) {\r\n                    this.minRange = this.selectedDates[0];\r\n                    this.maxRange = '';\r\n                    if (fsdDatepicker.less(this.minRange, this._focused)) {\r\n                        this.maxRange = this.minRange;\r\n                        this.minRange = '';\r\n                    }\r\n                }\r\n                if (this.silent) return;\r\n                this.date = val;\r\n            },\r\n\r\n            get focused() {\r\n                return this._focused;\r\n            },\r\n\r\n            get parsedDate() {\r\n                return fsdDatepicker.getParsedDate(this.date);\r\n            },\r\n\r\n            set date(val) {\r\n                if (!(val instanceof Date)) return;\r\n\r\n                this.currentDate = val;\r\n\r\n                if (this.inited && !this.silent) {\r\n                    this.views[this.view]._render();\r\n                    this.nav._render();\r\n                    if (this.visible && this.elIsInput) {\r\n                        this.setPosition();\r\n                    }\r\n                }\r\n                return val;\r\n            },\r\n\r\n            get date() {\r\n                return this.currentDate\r\n            },\r\n\r\n            set view(val) {\r\n                this.viewIndex = this.viewIndexes.indexOf(val);\r\n\r\n                if (this.viewIndex < 0) {\r\n                    return;\r\n                }\r\n\r\n                this.prevView = this.currentView;\r\n                this.currentView = val;\r\n\r\n                if (this.inited) {\r\n                    if (!this.views[val]) {\r\n                        this.views[val] = new $.fn.fsdDatepicker.Body(this, val, this.opts)\r\n                    } else {\r\n                        this.views[val]._render();\r\n                    }\r\n\r\n                    this.views[this.prevView].hide();\r\n                    this.views[val].show();\r\n                    this.nav._render();\r\n\r\n                    if (this.opts.onChangeView) {\r\n                        this.opts.onChangeView(val)\r\n                    }\r\n                    if (this.elIsInput && this.visible) this.setPosition();\r\n                }\r\n\r\n                return val\r\n            },\r\n\r\n            get view() {\r\n                return this.currentView;\r\n            },\r\n\r\n            get cellType() {\r\n                return this.view.substring(0, this.view.length - 1)\r\n            },\r\n\r\n            get minTime() {\r\n                var min = fsdDatepicker.getParsedDate(this.minDate);\r\n                return new Date(min.year, min.month, min.date).getTime()\r\n            },\r\n\r\n            get maxTime() {\r\n                var max = fsdDatepicker.getParsedDate(this.maxDate);\r\n                return new Date(max.year, max.month, max.date).getTime()\r\n            },\r\n\r\n            get curDecade() {\r\n                return fsdDatepicker.getDecade(this.date)\r\n            }\r\n        };\r\n\r\n        //  Utils\r\n        // -------------------------------------------------\r\n\r\n        fsdDatepicker.getDaysCount = function (date) {\r\n            return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\r\n        };\r\n\r\n        fsdDatepicker.getParsedDate = function (date) {\r\n            return {\r\n                year: date.getFullYear(),\r\n                month: date.getMonth(),\r\n                fullMonth: (date.getMonth() + 1) < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1, // One based\r\n                date: date.getDate(),\r\n                fullDate: date.getDate() < 10 ? '0' + date.getDate() : date.getDate(),\r\n                day: date.getDay(),\r\n                hours: date.getHours(),\r\n                fullHours: date.getHours() < 10 ? '0' + date.getHours() : date.getHours(),\r\n                minutes: date.getMinutes(),\r\n                fullMinutes: date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()\r\n            }\r\n        };\r\n\r\n        fsdDatepicker.getDecade = function (date) {\r\n            var firstYear = Math.floor(date.getFullYear() / 10) * 10;\r\n\r\n            return [firstYear, firstYear + 9];\r\n        };\r\n\r\n        fsdDatepicker.template = function (str, data) {\r\n            return str.replace(/#\\{([\\w]+)\\}/g, function (source, match) {\r\n                if (data[match] || data[match] === 0) {\r\n                    return data[match]\r\n                }\r\n            });\r\n        };\r\n\r\n        fsdDatepicker.isSame = function (date1, date2, type) {\r\n            if (!date1 || !date2) return false;\r\n            var d1 = fsdDatepicker.getParsedDate(date1),\r\n                d2 = fsdDatepicker.getParsedDate(date2),\r\n                _type = type ? type : 'day',\r\n\r\n                conditions = {\r\n                    day: d1.date == d2.date && d1.month == d2.month && d1.year == d2.year,\r\n                    month: d1.month == d2.month && d1.year == d2.year,\r\n                    year: d1.year == d2.year\r\n                };\r\n\r\n            return conditions[_type];\r\n        };\r\n\r\n        fsdDatepicker.less = function (dateCompareTo, date, type) {\r\n            if (!dateCompareTo || !date) return false;\r\n            return date.getTime() < dateCompareTo.getTime();\r\n        };\r\n\r\n        fsdDatepicker.bigger = function (dateCompareTo, date, type) {\r\n            if (!dateCompareTo || !date) return false;\r\n            return date.getTime() > dateCompareTo.getTime();\r\n        };\r\n\r\n        fsdDatepicker.getLeadingZeroNum = function (num) {\r\n            return parseInt(num) < 10 ? '0' + num : num;\r\n        };\r\n\r\n        /**\r\n         * Returns copy of date with hours and minutes equals to 0\r\n         * @param date {Date}\r\n         */\r\n        fsdDatepicker.resetTime = function (date) {\r\n            if (typeof date != 'object') return;\r\n            date = fsdDatepicker.getParsedDate(date);\r\n            return new Date(date.year, date.month, date.date)\r\n        };\r\n\r\n        $.fn.fsdDatepicker = function (options) {\r\n            return this.each(function () {\r\n                if (!$.data(this, pluginName)) {\r\n                    $.data(this, pluginName,\r\n                        new Datepicker(this, options));\r\n                } else {\r\n                    var _this = $.data(this, pluginName);\r\n\r\n                    _this.opts = $.extend(true, _this.opts, options);\r\n                    _this.update();\r\n                }\r\n            });\r\n        };\r\n\r\n        $.fn.fsdDatepicker.Constructor = Datepicker;\r\n\r\n        $.fn.fsdDatepicker.language = {\r\n            ru: {\r\n                days: ['', '', '', '', '', '', ''],\r\n                daysShort: ['', '', '', '', '', '', ''],\r\n                daysMin: ['', '', '', '', '', '', ''],\r\n                months: ['', '', '', '', '', '', '', '', '', '', '', ''],\r\n                monthsShort: ['', '', '', '', '', '', '', '', '', '', '', ''],\r\n                today: '',\r\n                clear: '',\r\n                dateFormat: 'dd.mm.yyyy',\r\n                timeFormat: 'hh:ii',\r\n                firstDay: 1\r\n            }\r\n        };\r\n\r\n        $(function () {\r\n            $(autoInitSelector).fsdDatepicker();\r\n        })\r\n\r\n    })();\r\n\r\n    ; (function () {\r\n        var templates = {\r\n            days: '' +\r\n                '<div class=\"datepicker--days datepicker--body\">' +\r\n                '<div class=\"datepicker--days-names\"></div>' +\r\n                '<div class=\"datepicker--cells datepicker--cells-days\"></div>' +\r\n                '</div>',\r\n            months: '' +\r\n                '<div class=\"datepicker--months datepicker--body\">' +\r\n                '<div class=\"datepicker--cells datepicker--cells-months\"></div>' +\r\n                '</div>',\r\n            years: '' +\r\n                '<div class=\"datepicker--years datepicker--body\">' +\r\n                '<div class=\"datepicker--cells datepicker--cells-years\"></div>' +\r\n                '</div>'\r\n        },\r\n            fsdDatepicker = $.fn.fsdDatepicker,\r\n            dp = fsdDatepicker.Constructor;\r\n\r\n        fsdDatepicker.Body = function (d, type, opts) {\r\n            this.d = d;\r\n            this.type = type;\r\n            this.opts = opts;\r\n            this.$el = $('');\r\n\r\n            if (this.opts.onlyTimepicker) return;\r\n            this.init();\r\n        };\r\n\r\n        fsdDatepicker.Body.prototype = {\r\n            init: function () {\r\n                this._buildBaseHtml();\r\n                this._render();\r\n\r\n                this._bindEvents();\r\n            },\r\n\r\n            _bindEvents: function () {\r\n                this.$el.on('click', '.datepicker--cell', $.proxy(this._onClickCell, this));\r\n            },\r\n\r\n            _buildBaseHtml: function () {\r\n                this.$el = $(templates[this.type]).appendTo(this.d.$content);\r\n                this.$names = $('.datepicker--days-names', this.$el);\r\n                this.$cells = $('.datepicker--cells', this.$el);\r\n            },\r\n\r\n            _getDayNamesHtml: function (firstDay, curDay, html, i) {\r\n                curDay = curDay != undefined ? curDay : firstDay;\r\n                html = html ? html : '';\r\n                i = i != undefined ? i : 0;\r\n\r\n                if (i > 7) return html;\r\n                if (curDay == 7) return this._getDayNamesHtml(firstDay, 0, html, ++i);\r\n\r\n                html += '<div class=\"datepicker--day-name' + (this.d.isWeekend(curDay) ? \" -weekend-\" : \"\") + '\">' + this.d.loc.daysMin[curDay] + '</div>';\r\n\r\n                return this._getDayNamesHtml(firstDay, ++curDay, html, ++i);\r\n            },\r\n\r\n            _getCellContents: function (date, type) {\r\n                var classes = \"datepicker--cell datepicker--cell-\" + type,\r\n                    currentDate = new Date(),\r\n                    parent = this.d,\r\n                    minRange = dp.resetTime(parent.minRange),\r\n                    maxRange = dp.resetTime(parent.maxRange),\r\n                    opts = parent.opts,\r\n                    d = dp.getParsedDate(date),\r\n                    render = {},\r\n                    html = d.date;\r\n\r\n                switch (type) {\r\n                    case 'day':\r\n                        if (parent.isWeekend(d.day)) classes += \" -weekend-\";\r\n                        if (d.month != this.d.parsedDate.month) {\r\n                            classes += \" -other-month-\";\r\n                            if (!opts.selectOtherMonths) {\r\n                                classes += \" -disabled-\";\r\n                            }\r\n                            if (!opts.showOtherMonths) html = '';\r\n                        }\r\n                        break;\r\n                    case 'month':\r\n                        html = parent.loc[parent.opts.monthsField][d.month];\r\n                        break;\r\n                    case 'year':\r\n                        var decade = parent.curDecade;\r\n                        html = d.year;\r\n                        if (d.year < decade[0] || d.year > decade[1]) {\r\n                            classes += ' -other-decade-';\r\n                            if (!opts.selectOtherYears) {\r\n                                classes += \" -disabled-\";\r\n                            }\r\n                            if (!opts.showOtherYears) html = '';\r\n                        }\r\n                        break;\r\n                }\r\n\r\n                if (opts.onRenderCell) {\r\n                    render = opts.onRenderCell(date, type) || {};\r\n                    html = render.html ? render.html : html;\r\n                    classes += render.classes ? ' ' + render.classes : '';\r\n                }\r\n\r\n                if (opts.range) {\r\n                    if (dp.isSame(minRange, date, type)) classes += ' -range-from-';\r\n                    if (dp.isSame(maxRange, date, type)) classes += ' -range-to-';\r\n\r\n                    if (parent.selectedDates.length == 1 && parent.focused) {\r\n                        if (\r\n                            (dp.bigger(minRange, date) && dp.less(parent.focused, date)) ||\r\n                            (dp.less(maxRange, date) && dp.bigger(parent.focused, date))) {\r\n                            classes += ' -in-range-'\r\n                        }\r\n\r\n                        if (dp.less(maxRange, date) && dp.isSame(parent.focused, date)) {\r\n                            classes += ' -range-from-'\r\n                        }\r\n                        if (dp.bigger(minRange, date) && dp.isSame(parent.focused, date)) {\r\n                            classes += ' -range-to-'\r\n                        }\r\n\r\n                    } else if (parent.selectedDates.length == 2) {\r\n                        if (dp.bigger(minRange, date) && dp.less(maxRange, date)) {\r\n                            classes += ' -in-range-'\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n                if (dp.isSame(currentDate, date, type)) classes += ' -current-';\r\n                if (parent.focused && dp.isSame(date, parent.focused, type)) classes += ' -focus-';\r\n                if (parent._isSelected(date, type)) classes += ' -selected-';\r\n                if (!parent._isInRange(date, type) || render.disabled) classes += ' -disabled-';\r\n\r\n                return {\r\n                    html: html,\r\n                    classes: classes\r\n                }\r\n            },\r\n\r\n            /**\r\n             * Calculates days number to render. Generates days html and returns it.\r\n             * @param {object} date - Date object\r\n             * @returns {string}\r\n             * @private\r\n             */\r\n            _getDaysHtml: function (date) {\r\n                var totalMonthDays = dp.getDaysCount(date),\r\n                    firstMonthDay = new Date(date.getFullYear(), date.getMonth(), 1).getDay(),\r\n                    lastMonthDay = new Date(date.getFullYear(), date.getMonth(), totalMonthDays).getDay(),\r\n                    daysFromPevMonth = firstMonthDay - this.d.loc.firstDay,\r\n                    daysFromNextMonth = 6 - lastMonthDay + this.d.loc.firstDay;\r\n\r\n                daysFromPevMonth = daysFromPevMonth < 0 ? daysFromPevMonth + 7 : daysFromPevMonth;\r\n                daysFromNextMonth = daysFromNextMonth > 6 ? daysFromNextMonth - 7 : daysFromNextMonth;\r\n\r\n                var startDayIndex = -daysFromPevMonth + 1,\r\n                    m, y,\r\n                    html = '';\r\n\r\n                for (var i = startDayIndex, max = totalMonthDays + daysFromNextMonth; i <= max; i++) {\r\n                    y = date.getFullYear();\r\n                    m = date.getMonth();\r\n\r\n                    html += this._getDayHtml(new Date(y, m, i))\r\n                }\r\n\r\n                return html;\r\n            },\r\n\r\n            _getDayHtml: function (date) {\r\n                var content = this._getCellContents(date, 'day');\r\n\r\n                return '<div class=\"' + content.classes + '\" ' +\r\n                    'data-date=\"' + date.getDate() + '\" ' +\r\n                    'data-month=\"' + date.getMonth() + '\" ' +\r\n                    'data-year=\"' + date.getFullYear() + '\">' + content.html + '</div>';\r\n            },\r\n\r\n            /**\r\n             * Generates months html\r\n             * @param {object} date - date instance\r\n             * @returns {string}\r\n             * @private\r\n             */\r\n            _getMonthsHtml: function (date) {\r\n                var html = '',\r\n                    d = dp.getParsedDate(date),\r\n                    i = 0;\r\n\r\n                while (i < 12) {\r\n                    html += this._getMonthHtml(new Date(d.year, i));\r\n                    i++\r\n                }\r\n\r\n                return html;\r\n            },\r\n\r\n            _getMonthHtml: function (date) {\r\n                var content = this._getCellContents(date, 'month');\r\n\r\n                return '<div class=\"' + content.classes + '\" data-month=\"' + date.getMonth() + '\">' + content.html + '</div>'\r\n            },\r\n\r\n            _getYearsHtml: function (date) {\r\n                var d = dp.getParsedDate(date),\r\n                    decade = dp.getDecade(date),\r\n                    firstYear = decade[0] - 1,\r\n                    html = '',\r\n                    i = firstYear;\r\n\r\n                for (i; i <= decade[1] + 1; i++) {\r\n                    html += this._getYearHtml(new Date(i, 0));\r\n                }\r\n\r\n                return html;\r\n            },\r\n\r\n            _getYearHtml: function (date) {\r\n                var content = this._getCellContents(date, 'year');\r\n\r\n                return '<div class=\"' + content.classes + '\" data-year=\"' + date.getFullYear() + '\">' + content.html + '</div>'\r\n            },\r\n\r\n            _renderTypes: {\r\n                days: function () {\r\n                    var dayNames = this._getDayNamesHtml(this.d.loc.firstDay),\r\n                        days = this._getDaysHtml(this.d.currentDate);\r\n\r\n                    this.$cells.html(days);\r\n                    this.$names.html(dayNames)\r\n                },\r\n                months: function () {\r\n                    var html = this._getMonthsHtml(this.d.currentDate);\r\n\r\n                    this.$cells.html(html)\r\n                },\r\n                years: function () {\r\n                    var html = this._getYearsHtml(this.d.currentDate);\r\n\r\n                    this.$cells.html(html)\r\n                }\r\n            },\r\n\r\n            _render: function () {\r\n                if (this.opts.onlyTimepicker) return;\r\n                this._renderTypes[this.type].bind(this)();\r\n            },\r\n\r\n            _update: function () {\r\n                var $cells = $('.datepicker--cell', this.$cells),\r\n                    _this = this,\r\n                    classes,\r\n                    $cell,\r\n                    date;\r\n                $cells.each(function (cell, i) {\r\n                    $cell = $(this);\r\n                    date = _this.d._getDateFromCell($(this));\r\n                    classes = _this._getCellContents(date, _this.d.cellType);\r\n                    $cell.attr('class', classes.classes)\r\n                });\r\n            },\r\n\r\n            show: function () {\r\n                if (this.opts.onlyTimepicker) return;\r\n                this.$el.addClass('active');\r\n                this.acitve = true;\r\n            },\r\n\r\n            hide: function () {\r\n                this.$el.removeClass('active');\r\n                this.active = false;\r\n            },\r\n\r\n            //  Events\r\n            // -------------------------------------------------\r\n\r\n            _handleClick: function (el) {\r\n                var date = el.data('date') || 1,\r\n                    month = el.data('month') || 0,\r\n                    year = el.data('year') || this.d.parsedDate.year,\r\n                    dp = this.d;\r\n                // Change view if min view does not reach yet\r\n                if (dp.view != this.opts.minView) {\r\n                    dp.down(new Date(year, month, date));\r\n                    return;\r\n                }\r\n                // Select date if min view is reached\r\n                var selectedDate = new Date(year, month, date),\r\n                    alreadySelected = this.d._isSelected(selectedDate, this.d.cellType);\r\n\r\n                if (!alreadySelected) {\r\n                    dp._trigger('clickCell', selectedDate);\r\n                    return;\r\n                }\r\n\r\n                dp._handleAlreadySelectedDates.bind(dp, alreadySelected, selectedDate)();\r\n\r\n            },\r\n\r\n            _onClickCell: function (e) {\r\n                var $el = $(e.target).closest('.datepicker--cell');\r\n\r\n                if ($el.hasClass('-disabled-')) return;\r\n\r\n                this._handleClick.bind(this)($el);\r\n            }\r\n        };\r\n    })();\r\n\r\n    ; (function () {\r\n        var template = '' +\r\n            '<div class=\"datepicker--nav-action\" data-action=\"prev\">#{prevHtml}</div>' +\r\n            '<div class=\"datepicker--nav-title\">#{title}</div>' +\r\n            '<div class=\"datepicker--nav-action\" data-action=\"next\">#{nextHtml}</div>',\r\n            buttonsContainerTemplate = '<div class=\"datepicker--buttons\"></div>',\r\n            button = '<span class=\"datepicker--button\" data-action=\"#{action}\">#{label}</span>',\r\n            fsdDatepicker = $.fn.fsdDatepicker,\r\n            dp = fsdDatepicker.Constructor;\r\n\r\n        fsdDatepicker.Navigation = function (d, opts) {\r\n            this.d = d;\r\n            this.opts = opts;\r\n\r\n            this.$buttonsContainer = '';\r\n\r\n            this.init();\r\n        };\r\n\r\n        fsdDatepicker.Navigation.prototype = {\r\n            init: function () {\r\n                this._buildBaseHtml();\r\n                this._bindEvents();\r\n            },\r\n\r\n            _bindEvents: function () {\r\n                this.d.$nav.on('click', '.datepicker--nav-action', $.proxy(this._onClickNavButton, this));\r\n                this.d.$nav.on('click', '.datepicker--nav-title', $.proxy(this._onClickNavTitle, this));\r\n                this.d.$datepicker.on('click', '.datepicker--button', $.proxy(this._onClickNavButton, this));\r\n            },\r\n\r\n            _buildBaseHtml: function () {\r\n                if (!this.opts.onlyTimepicker) {\r\n                    this._render();\r\n                }\r\n                this._addButtonsIfNeed();\r\n            },\r\n\r\n            _addButtonsIfNeed: function () {\r\n                if (this.opts.clearButton) {\r\n                    this._addButton('clear')\r\n                }\r\n                if (this.opts.todayButton) {\r\n                    this._addButton('today')\r\n                }\r\n            },\r\n\r\n            _render: function () {\r\n                var title = this._getTitle(this.d.currentDate),\r\n                    html = dp.template(template, $.extend({ title: title }, this.opts));\r\n                this.d.$nav.html(html);\r\n                if (this.d.view == 'years') {\r\n                    $('.datepicker--nav-title', this.d.$nav).addClass('-disabled-');\r\n                }\r\n                this.setNavStatus();\r\n            },\r\n\r\n            _getTitle: function (date) {\r\n                return this.d.formatDate(this.opts.navTitles[this.d.view], date)\r\n            },\r\n\r\n            _addButton: function (type) {\r\n                if (!this.$buttonsContainer.length) {\r\n                    this._addButtonsContainer();\r\n                }\r\n\r\n                var data = {\r\n                    action: type,\r\n                    label: this.d.loc[type]\r\n                },\r\n                    html = dp.template(button, data);\r\n\r\n                if ($('[data-action=' + type + ']', this.$buttonsContainer).length) return;\r\n                this.$buttonsContainer.append(html);\r\n            },\r\n\r\n            _addButtonsContainer: function () {\r\n                this.d.$datepicker.append(buttonsContainerTemplate);\r\n                this.$buttonsContainer = $('.datepicker--buttons', this.d.$datepicker);\r\n            },\r\n\r\n            setNavStatus: function () {\r\n                if (!(this.opts.minDate || this.opts.maxDate) || !this.opts.disableNavWhenOutOfRange) return;\r\n\r\n                var date = this.d.parsedDate,\r\n                    m = date.month,\r\n                    y = date.year,\r\n                    d = date.date;\r\n\r\n                switch (this.d.view) {\r\n                    case 'days':\r\n                        if (!this.d._isInRange(new Date(y, m - 1, 1), 'month')) {\r\n                            this._disableNav('prev')\r\n                        }\r\n                        if (!this.d._isInRange(new Date(y, m + 1, 1), 'month')) {\r\n                            this._disableNav('next')\r\n                        }\r\n                        break;\r\n                    case 'months':\r\n                        if (!this.d._isInRange(new Date(y - 1, m, d), 'year')) {\r\n                            this._disableNav('prev')\r\n                        }\r\n                        if (!this.d._isInRange(new Date(y + 1, m, d), 'year')) {\r\n                            this._disableNav('next')\r\n                        }\r\n                        break;\r\n                    case 'years':\r\n                        var decade = dp.getDecade(this.d.date);\r\n                        if (!this.d._isInRange(new Date(decade[0] - 1, 0, 1), 'year')) {\r\n                            this._disableNav('prev')\r\n                        }\r\n                        if (!this.d._isInRange(new Date(decade[1] + 1, 0, 1), 'year')) {\r\n                            this._disableNav('next')\r\n                        }\r\n                        break;\r\n                }\r\n            },\r\n\r\n            _disableNav: function (nav) {\r\n                $('[data-action=\"' + nav + '\"]', this.d.$nav).addClass('-disabled-')\r\n            },\r\n\r\n            _activateNav: function (nav) {\r\n                $('[data-action=\"' + nav + '\"]', this.d.$nav).removeClass('-disabled-')\r\n            },\r\n\r\n            _onClickNavButton: function (e) {\r\n                var $el = $(e.target).closest('[data-action]'),\r\n                    action = $el.data('action');\r\n\r\n                this.d[action]();\r\n            },\r\n\r\n            _onClickNavTitle: function (e) {\r\n                if ($(e.target).hasClass('-disabled-')) return;\r\n\r\n                if (this.d.view == 'days') {\r\n                    return this.d.view = 'months'\r\n                }\r\n\r\n                this.d.view = 'years';\r\n            }\r\n        }\r\n\r\n    })();\r\n\r\n    ; (function () {\r\n        var template = '<div class=\"datepicker--time\">' +\r\n            '<div class=\"datepicker--time-current\">' +\r\n            '   <span class=\"datepicker--time-current-hours\">#{hourVisible}</span>' +\r\n            '   <span class=\"datepicker--time-current-colon\">:</span>' +\r\n            '   <span class=\"datepicker--time-current-minutes\">#{minValue}</span>' +\r\n            '</div>' +\r\n            '<div class=\"datepicker--time-sliders\">' +\r\n            '   <div class=\"datepicker--time-row\">' +\r\n            '      <input type=\"range\" name=\"hours\" value=\"#{hourValue}\" min=\"#{hourMin}\" max=\"#{hourMax}\" step=\"#{hourStep}\"/>' +\r\n            '   </div>' +\r\n            '   <div class=\"datepicker--time-row\">' +\r\n            '      <input type=\"range\" name=\"minutes\" value=\"#{minValue}\" min=\"#{minMin}\" max=\"#{minMax}\" step=\"#{minStep}\"/>' +\r\n            '   </div>' +\r\n            '</div>' +\r\n            '</div>',\r\n            fsdDatepicker = $.fn.fsdDatepicker,\r\n            dp = fsdDatepicker.Constructor;\r\n\r\n        fsdDatepicker.Timepicker = function (inst, opts) {\r\n            this.d = inst;\r\n            this.opts = opts;\r\n\r\n            this.init();\r\n        };\r\n\r\n        fsdDatepicker.Timepicker.prototype = {\r\n            init: function () {\r\n                var input = 'input';\r\n                this._setTime(this.d.date);\r\n                this._buildHTML();\r\n\r\n                if (navigator.userAgent.match(/trident/gi)) {\r\n                    input = 'change';\r\n                }\r\n\r\n                this.d.$el.on('selectDate', this._onSelectDate.bind(this));\r\n                this.$ranges.on(input, this._onChangeRange.bind(this));\r\n                this.$ranges.on('mouseup', this._onMouseUpRange.bind(this));\r\n                this.$ranges.on('mousemove focus ', this._onMouseEnterRange.bind(this));\r\n                this.$ranges.on('mouseout blur', this._onMouseOutRange.bind(this));\r\n            },\r\n\r\n            _setTime: function (date) {\r\n                var _date = dp.getParsedDate(date);\r\n\r\n                this._handleDate(date);\r\n                this.hours = _date.hours < this.minHours ? this.minHours : _date.hours;\r\n                this.minutes = _date.minutes < this.minMinutes ? this.minMinutes : _date.minutes;\r\n            },\r\n\r\n            /**\r\n             * Sets minHours and minMinutes from date (usually it's a minDate)\r\n             * Also changes minMinutes if current hours are bigger then @date hours\r\n             * @param date {Date}\r\n             * @private\r\n             */\r\n            _setMinTimeFromDate: function (date) {\r\n                this.minHours = date.getHours();\r\n                this.minMinutes = date.getMinutes();\r\n\r\n                // If, for example, min hours are 10, and current hours are 12,\r\n                // update minMinutes to default value, to be able to choose whole range of values\r\n                if (this.d.lastSelectedDate) {\r\n                    if (this.d.lastSelectedDate.getHours() > date.getHours()) {\r\n                        this.minMinutes = this.opts.minMinutes;\r\n                    }\r\n                }\r\n            },\r\n\r\n            _setMaxTimeFromDate: function (date) {\r\n                this.maxHours = date.getHours();\r\n                this.maxMinutes = date.getMinutes();\r\n\r\n                if (this.d.lastSelectedDate) {\r\n                    if (this.d.lastSelectedDate.getHours() < date.getHours()) {\r\n                        this.maxMinutes = this.opts.maxMinutes;\r\n                    }\r\n                }\r\n            },\r\n\r\n            _setDefaultMinMaxTime: function () {\r\n                var maxHours = 23,\r\n                    maxMinutes = 59,\r\n                    opts = this.opts;\r\n\r\n                this.minHours = opts.minHours < 0 || opts.minHours > maxHours ? 0 : opts.minHours;\r\n                this.minMinutes = opts.minMinutes < 0 || opts.minMinutes > maxMinutes ? 0 : opts.minMinutes;\r\n                this.maxHours = opts.maxHours < 0 || opts.maxHours > maxHours ? maxHours : opts.maxHours;\r\n                this.maxMinutes = opts.maxMinutes < 0 || opts.maxMinutes > maxMinutes ? maxMinutes : opts.maxMinutes;\r\n            },\r\n\r\n            /**\r\n             * Looks for min/max hours/minutes and if current values\r\n             * are out of range sets valid values.\r\n             * @private\r\n             */\r\n            _validateHoursMinutes: function (date) {\r\n                if (this.hours < this.minHours) {\r\n                    this.hours = this.minHours;\r\n                } else if (this.hours > this.maxHours) {\r\n                    this.hours = this.maxHours;\r\n                }\r\n\r\n                if (this.minutes < this.minMinutes) {\r\n                    this.minutes = this.minMinutes;\r\n                } else if (this.minutes > this.maxMinutes) {\r\n                    this.minutes = this.maxMinutes;\r\n                }\r\n            },\r\n\r\n            _buildHTML: function () {\r\n                var lz = dp.getLeadingZeroNum,\r\n                    data = {\r\n                        hourMin: this.minHours,\r\n                        hourMax: lz(this.maxHours),\r\n                        hourStep: this.opts.hoursStep,\r\n                        hourValue: this.hours,\r\n                        hourVisible: lz(this.displayHours),\r\n                        minMin: this.minMinutes,\r\n                        minMax: lz(this.maxMinutes),\r\n                        minStep: this.opts.minutesStep,\r\n                        minValue: lz(this.minutes)\r\n                    },\r\n                    _template = dp.template(template, data);\r\n\r\n                this.$timepicker = $(_template).appendTo(this.d.$datepicker);\r\n                this.$ranges = $('[type=\"range\"]', this.$timepicker);\r\n                this.$hours = $('[name=\"hours\"]', this.$timepicker);\r\n                this.$minutes = $('[name=\"minutes\"]', this.$timepicker);\r\n                this.$hoursText = $('.datepicker--time-current-hours', this.$timepicker);\r\n                this.$minutesText = $('.datepicker--time-current-minutes', this.$timepicker);\r\n\r\n                if (this.d.ampm) {\r\n                    this.$ampm = $('<span class=\"datepicker--time-current-ampm\">')\r\n                        .appendTo($('.datepicker--time-current', this.$timepicker))\r\n                        .html(this.dayPeriod);\r\n\r\n                    this.$timepicker.addClass('-am-pm-');\r\n                }\r\n            },\r\n\r\n            _updateCurrentTime: function () {\r\n                var h = dp.getLeadingZeroNum(this.displayHours),\r\n                    m = dp.getLeadingZeroNum(this.minutes);\r\n\r\n                this.$hoursText.html(h);\r\n                this.$minutesText.html(m);\r\n\r\n                if (this.d.ampm) {\r\n                    this.$ampm.html(this.dayPeriod);\r\n                }\r\n            },\r\n\r\n            _updateRanges: function () {\r\n                this.$hours.attr({\r\n                    min: this.minHours,\r\n                    max: this.maxHours\r\n                }).val(this.hours);\r\n\r\n                this.$minutes.attr({\r\n                    min: this.minMinutes,\r\n                    max: this.maxMinutes\r\n                }).val(this.minutes)\r\n            },\r\n\r\n            /**\r\n             * Sets minHours, minMinutes etc. from date. If date is not passed, than sets\r\n             * values from options\r\n             * @param [date] {object} - Date object, to get values from\r\n             * @private\r\n             */\r\n            _handleDate: function (date) {\r\n                this._setDefaultMinMaxTime();\r\n                if (date) {\r\n                    if (dp.isSame(date, this.d.opts.minDate)) {\r\n                        this._setMinTimeFromDate(this.d.opts.minDate);\r\n                    } else if (dp.isSame(date, this.d.opts.maxDate)) {\r\n                        this._setMaxTimeFromDate(this.d.opts.maxDate);\r\n                    }\r\n                }\r\n\r\n                this._validateHoursMinutes(date);\r\n            },\r\n\r\n            update: function () {\r\n                this._updateRanges();\r\n                this._updateCurrentTime();\r\n            },\r\n\r\n            /**\r\n             * Calculates valid hour value to display in text input and datepicker's body.\r\n             * @param date {Date|Number} - date or hours\r\n             * @param [ampm] {Boolean} - 12 hours mode\r\n             * @returns {{hours: *, dayPeriod: string}}\r\n             * @private\r\n             */\r\n            _getValidHoursFromDate: function (date, ampm) {\r\n                var d = date,\r\n                    hours = date;\r\n\r\n                if (date instanceof Date) {\r\n                    d = dp.getParsedDate(date);\r\n                    hours = d.hours;\r\n                }\r\n\r\n                var _ampm = ampm || this.d.ampm,\r\n                    dayPeriod = 'am';\r\n\r\n                if (_ampm) {\r\n                    switch (true) {\r\n                        case hours == 0:\r\n                            hours = 12;\r\n                            break;\r\n                        case hours == 12:\r\n                            dayPeriod = 'pm';\r\n                            break;\r\n                        case hours > 11:\r\n                            hours = hours - 12;\r\n                            dayPeriod = 'pm';\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                }\r\n\r\n                return {\r\n                    hours: hours,\r\n                    dayPeriod: dayPeriod\r\n                }\r\n            },\r\n\r\n            set hours(val) {\r\n                this._hours = val;\r\n\r\n                var displayHours = this._getValidHoursFromDate(val);\r\n\r\n                this.displayHours = displayHours.hours;\r\n                this.dayPeriod = displayHours.dayPeriod;\r\n            },\r\n\r\n            get hours() {\r\n                return this._hours;\r\n            },\r\n\r\n            //  Events\r\n            // -------------------------------------------------\r\n\r\n            _onChangeRange: function (e) {\r\n                var $target = $(e.target),\r\n                    name = $target.attr('name');\r\n\r\n                this.d.timepickerIsActive = true;\r\n\r\n                this[name] = $target.val();\r\n                this._updateCurrentTime();\r\n                this.d._trigger('timeChange', [this.hours, this.minutes]);\r\n\r\n                this._handleDate(this.d.lastSelectedDate);\r\n                this.update()\r\n            },\r\n\r\n            _onSelectDate: function (e, data) {\r\n                this._handleDate(data);\r\n                this.update();\r\n            },\r\n\r\n            _onMouseEnterRange: function (e) {\r\n                var name = $(e.target).attr('name');\r\n                $('.datepicker--time-current-' + name, this.$timepicker).addClass('-focus-');\r\n            },\r\n\r\n            _onMouseOutRange: function (e) {\r\n                var name = $(e.target).attr('name');\r\n                if (this.d.inFocus) return; // Prevent removing focus when mouse out of range slider\r\n                $('.datepicker--time-current-' + name, this.$timepicker).removeClass('-focus-');\r\n            },\r\n\r\n            _onMouseUpRange: function (e) {\r\n                this.d.timepickerIsActive = false;\r\n            }\r\n        };\r\n    })();\r\n})(window, jQuery);","///////////////////////Constants////////////////////////////////////////////\r\nconst adult = counterAdult();\r\nconst child = counterChild();\r\nconst infant = counterInfant();\r\nconst dropDownInputGuests = document.querySelectorAll(\".dropdown-input__guests-arrow\");\r\nconst dropDownInputFieldGuests = document.querySelectorAll(\r\n  \".dropdown-input__guests input\"\r\n);\r\nconst counterAdultValueTag = document.querySelectorAll(\r\n  \".dropdown-guests__adult div:nth-child(3)\"\r\n);\r\nconst counterAdultValueDecrease = document.querySelectorAll(\r\n  \".dropdown-guests__adult div:nth-child(2)\"\r\n);\r\nconst counterAdultValueIncrease = document.querySelectorAll(\r\n  \".dropdown-guests__adult div:nth-child(4)\"\r\n);\r\nconst counterChildValueTag = document.querySelectorAll(\r\n  \".dropdown-guests__child div:nth-child(3)\"\r\n);\r\nconst counterChildValueDecreaseTag = document.querySelectorAll(\r\n  \".dropdown-guests__child div:nth-child(2)\"\r\n);\r\nconst counterChildValueIncreaseTag = document.querySelectorAll(\r\n  \".dropdown-guests__child div:nth-child(4)\"\r\n);\r\nconst counterInfantValueTag = document.querySelectorAll(\r\n  \".dropdown-guests__infant div:nth-child(3)\"\r\n);\r\nconst counterInfantValueDecrease = document.querySelectorAll(\r\n  \".dropdown-guests__infant div:nth-child(2)\"\r\n);\r\nconst counterInfantValueIncrease = document.querySelectorAll(\r\n  \".dropdown-guests__infant div:nth-child(4)\"\r\n);\r\nconst eraseButton = document.querySelectorAll(\r\n  \".dropdown-guests__erase-button\"\r\n);\r\n\r\n\r\nconst applyButton = document.querySelectorAll(\r\n  \".dropdown-guests__apply-button div:nth-child(2)\"\r\n);\r\n\r\n/////////////////////////Listeners//////////////////////////////////////////////\r\ndropDownInputGuests.forEach(elem => elem.addEventListener(\"click\", dropDownGuestsClickHandler));\r\ncounterAdultValueDecrease.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounterGuests(\"decrease\", \"adult\")\r\n));\r\ncounterAdultValueIncrease.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounterGuests(\"increase\", \"adult\")\r\n));\r\ncounterChildValueDecreaseTag.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounterGuests(\"decrease\", \"child\")\r\n));\r\ncounterChildValueIncreaseTag.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounterGuests(\"increase\", \"child\")\r\n));\r\ncounterInfantValueDecrease.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounterGuests(\"decrease\", \"infant\")\r\n));\r\ncounterInfantValueIncrease.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounterGuests(\"increase\", \"infant\")\r\n));\r\napplyButton.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  showResultInDropDownGuests(\"apply\")\r\n));\r\neraseButton.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  showResultInDropDownGuests(\"erase\")\r\n));\r\n//////////////////////Handlers//////////////////////////////////////////\r\nfunction dropDownGuestsClickHandler(event) {\r\n\r\n  event.target.parentNode.parentNode.childNodes[1].classList.toggle('dropdown_active');\r\n  event.target.parentNode.parentNode.childNodes[1].classList.toggle('dropdown-input__guests_rounding-corners-top');\r\n  if (event.target.innerText === 'keyboard_arrow_down') {\r\n    event.target.innerText = 'keyboard_arrow_up';\r\n  } else if (event.target.innerText === 'keyboard_arrow_up') {\r\n    event.target.innerText = 'keyboard_arrow_down';\r\n  }\r\n}\r\nfunction changeCounterGuests(howChange, changeTarget) {\r\n  if (changeTarget === \"adult\") {\r\n    if (howChange === \"increase\") {\r\n\r\n      counterAdultValueTag.innerText++;\r\n      adult.increase();\r\n    } else {\r\n      if (adult.getCounter() > 0) {\r\n        counterAdultValueTag.innerText--;\r\n        adult.decrease();\r\n      }\r\n    }\r\n  } else if (changeTarget === \"child\") {\r\n    if (howChange === \"increase\") {\r\n      counterChildValueTag.innerText++;\r\n      child.increase();\r\n    } else {\r\n      if (child.getCounter() > 0) {\r\n        counterChildValueTag.innerText--;\r\n        child.decrease();\r\n      }\r\n    }\r\n  } else {\r\n    if (howChange === \"increase\") {\r\n      counterInfantValueTag.innerText++;\r\n      infant.increase();\r\n    } else {\r\n      if (infant.getCounter() > 0) {\r\n        counterInfantValueTag.innerText--;\r\n        infant.decrease();\r\n      }\r\n    }\r\n  }\r\n}\r\nfunction showResultInDropDownGuests(action) {\r\n  if (action === \"apply\") {\r\n    let result = \"\";\r\n    let counterGuests = infant.getCounter() + child.getCounter() + adult.getCounter();\r\n    if (\r\n      counterGuests === 1 ||\r\n      (counterGuests > 20 && (counterGuests - 1) % 10 === 0)\r\n    ) {\r\n      result += counterGuests + \" \";\r\n    } else if (counterGuests > 1 && counterGuests < 5) {\r\n      result += counterGuests + \" \";\r\n    } else if (counterGuests >= 5) {\r\n      result += counterGuests + \" \";\r\n    }\r\n    dropDownInputFieldGuests.forEach(elem => elem.value = result);\r\n    dropDownResult = result;\r\n    if (result != \"\") eraseButton.forEach(elem => elem.classList.remove(\"dropdown_button-hidden\"));\r\n    result = \"\";\r\n  } else if (action === \"erase\") {\r\n    eraseResult();\r\n  }\r\n}\r\nfunction eraseResult() {\r\n  eraseCounters();\r\n  dropDownInputFieldGuests.forEach(elem => elem.value = '');\r\n  counterAdultValueTag.forEach(elem => elem.innerText = 0);\r\n  counterChildValueTag.forEach(elem => elem.innerText = 0);\r\n  counterInfantValueTag.forEach(elem => elem.innerText = 0);\r\n  eraseButton.forEach(elem => elem.classList.add(\"dropdown_button-hidden\"));\r\n}\r\nfunction eraseCounters() {\r\n  adult.erase();\r\n  child.erase();\r\n  infant.erase();\r\n}\r\n\r\nfunction counterAdult() {\r\n  let privateCounter = 0;\r\n  return {\r\n    increase: function () {\r\n      privateCounter++;\r\n      counterAdultValueTag.forEach(elem => elem.innerText++);\r\n    },\r\n    decrease: function () {\r\n      if (privateCounter > 0) {\r\n        privateCounter--;\r\n        counterAdultValueTag.forEach(elem => elem.innerText--);\r\n      }\r\n    },\r\n    getCounter: function () {\r\n      return privateCounter;\r\n    },\r\n    erase: function () {\r\n      privateCounter = 0;\r\n    }\r\n  };\r\n}\r\nfunction counterChild() {\r\n  let privateCounter = 0;\r\n  return {\r\n    increase: function () {\r\n      privateCounter++;\r\n      counterChildValueTag.forEach(elem => elem.innerText++);\r\n    },\r\n    decrease: function () {\r\n      if (privateCounter > 0) {\r\n        privateCounter--;\r\n        counterChildValueTag.forEach(elem => elem.innerText--);\r\n      }\r\n    },\r\n    getCounter: function () {\r\n      return privateCounter;\r\n    },\r\n    erase: function () {\r\n      privateCounter = 0;\r\n    }\r\n  };\r\n}\r\nfunction counterInfant() {\r\n  let privateCounter = 0;\r\n  return {\r\n    increase: function () {\r\n      privateCounter++;\r\n      counterInfantValueTag.forEach(elem => elem.innerText++);\r\n    },\r\n    decrease: function () {\r\n      if (privateCounter > 0) {\r\n        privateCounter--;\r\n        counterInfantValueTag.forEach(elem => elem.innerText--);\r\n      }\r\n    },\r\n    getCounter: function () {\r\n      return privateCounter;\r\n    },\r\n    erase: function () {\r\n      privateCounter = 0;\r\n    }\r\n  };\r\n}\r\n","const bulletListExpandableArrow = document.querySelectorAll('.js-bullet-list-expandable span');\nbulletListExpandableArrow.forEach(elem => elem.addEventListener('click', expandableListHandler));\nfunction expandableListHandler(event) {\n event.target.parentNode.parentNode.childNodes[1].classList.toggle('bullet-list_is-visible');\n if (event.target.innerText === 'keyboard_arrow_down') {\n  event.target.innerText = 'keyboard_arrow_up';\n }\n else if (event.target.innerText === 'keyboard_arrow_up') {\n  event.target.innerText = 'keyboard_arrow_down';\n }\n}","const rateButtons = document.querySelectorAll('.js-button-rate label');\nrateButtons.forEach(elem => elem.addEventListener('click', rateClickListener)\n);\nfunction rateClickListener(event) {\n let rateNumber = event.target.title.charAt(0);\n let stars = event.target.parentNode.childNodes;\n for (let i = 0; i < rateNumber; i++) {\n  stars[i * 2 + 1].innerHTML = 'star';\n }\n for (let i = rateNumber; i < 5; i++) {\n  stars[i * 2 + 1].innerHTML = 'star_border';\n }\n}","const likeButtons = document.querySelectorAll('.js-button-like');\nlikeButtons.forEach(elem => elem.addEventListener('click', likeClickListener));\nfunction likeClickListener(event) {\n if (event.target.className == 'button-like__heart') {\n  if (event.target.parentElement.classList.contains('button-like_is-liked')) {\n   event.target.parentElement.childNodes[1].innerText--;\n   event.target.parentElement.childNodes[0].innerText = 'favorite_border';\n   event.target.parentElement.classList.remove('button-like_is-liked');\n  }\n  else {\n   event.target.parentElement.childNodes[1].innerText++;\n   event.target.parentElement.classList.add('button-like_is-liked');\n   event.target.parentElement.childNodes[0].innerText = 'favorite';\n  }\n }\n}","///////////////////////Constants////////////////////////////////////////////\r\nconst bed = counterBed();\r\nconst bath = counterBath();\r\nconst bedRoom = counterBedRoom();\r\nconst dropDownInputRoom = document.querySelectorAll(\".dropdown-input__room\");\r\nconst dropDownInputFieldRoom = document.querySelectorAll(\r\n  \".dropdown-input__room input\");\r\nconst counterBadRoomValueTag = document.querySelectorAll(\r\n  \".dropdown-room__bedroom div:nth-child(3)\");\r\nconst counterBadRoomValueDecrease = document.querySelectorAll(\r\n  \".dropdown-room__bedroom div:nth-child(2)\");\r\nconst counterBadRoomValueIncrease = document.querySelectorAll(\r\n  \".dropdown-room__bedroom div:nth-child(4)\");\r\nconst counterBadValueTag = document.querySelectorAll(\r\n  \".dropdown-room__bed div:nth-child(3)\");\r\nconst counterBadValueDecreaseTag = document.querySelectorAll(\r\n  \".dropdown-room__bed div:nth-child(2)\");\r\nconst counterBadValueIncreaseTag = document.querySelectorAll(\r\n  \".dropdown-room__bed div:nth-child(4)\");\r\nconst counterBathValueTag = document.querySelectorAll(\r\n  \".dropdown-room__bath div:nth-child(3)\");\r\nconst counterBathValueDecrease = document.querySelectorAll(\r\n  \".dropdown-room__bath div:nth-child(2)\");\r\nconst counterBathValueIncrease = document.querySelectorAll(\r\n  \".dropdown-room__bath div:nth-child(4)\");\r\n\r\n/////////////////////////Listeners//////////////////////////////////////////////\r\ndropDownInputRoom.forEach(elem => elem.addEventListener(\"click\", dropDownRoomClickHandler));\r\ncounterBadRoomValueIncrease.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounter(\"increase\", \"badroom\")\r\n));\r\ncounterBadRoomValueDecrease.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounter(\"decrease\", \"badroom\")\r\n));\r\ncounterBadValueDecreaseTag.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounter(\"decrease\", \"bad\")\r\n));\r\ncounterBadValueIncreaseTag.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounter(\"increase\", \"bad\")\r\n));\r\ncounterBathValueDecrease.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounter(\"decrease\", \"bath\")\r\n));\r\ncounterBathValueIncrease.forEach(elem => elem.addEventListener(\"click\", () =>\r\n  changeCounter(\"increase\", \"bath\")\r\n));\r\n//////////////////////Handlers//////////////////////////////////////////\r\nfunction dropDownRoomClickHandler(event) {\r\n  event.target.parentNode.parentNode.childNodes[1].classList.toggle('dropdown_active');\r\n  if (event.target.parentNode.parentNode.childNodes[1].classList.contains('dropdown_active')) {\r\n    event.target.parentNode.parentNode.classList.add('dropdown-input__room_rounding-corners-top');\r\n  }\r\n  else {\r\n    event.target.parentNode.parentNode.classList.remove('dropdown-input__room_rounding-corners-top');\r\n  }\r\n  showResultInDropDown();\r\n}\r\nfunction counterBedRoom() {\r\n  let privateCounter = 2;\r\n  return {\r\n    increase: function () {\r\n      privateCounter++;\r\n      counterBadRoomValueTag.forEach(elem => elem.innerText++);\r\n    },\r\n    decrease: function () {\r\n      if (privateCounter > 0) {\r\n        privateCounter--;\r\n        counterBadRoomValueTag.forEach(elem => elem.innerText--);\r\n      }\r\n    },\r\n    getCounter: function () {\r\n      return privateCounter;\r\n    }\r\n  };\r\n}\r\nfunction counterBed() {\r\n  let privateCounter = 2;\r\n  return {\r\n    increase: function () {\r\n      privateCounter++;\r\n      counterBadValueTag.forEach(elem => elem.innerText++);\r\n    },\r\n    decrease: function () {\r\n      if (privateCounter > 0) {\r\n        privateCounter--;\r\n        counterBadValueTag.forEach(elem => elem.innerText--);\r\n      }\r\n    },\r\n    getCounter: function () {\r\n      return privateCounter;\r\n    }\r\n  };\r\n}\r\nfunction counterBath() {\r\n  let privateCounter = 0;\r\n  return {\r\n    increase: function () {\r\n      privateCounter++;\r\n      counterBathValueTag.forEach(elem => elem.innerText++);\r\n    },\r\n    decrease: function () {\r\n      if (privateCounter > 0) {\r\n        privateCounter--;\r\n        counterBathValueTag.forEach(elem => elem.innerText--);\r\n      }\r\n    },\r\n    getCounter: function () {\r\n      return privateCounter;\r\n    }\r\n  };\r\n}\r\nfunction changeCounter(howChange, changeTarget) {\r\n  if (changeTarget === \"badroom\") {\r\n    if (howChange === \"increase\") {\r\n      bedRoom.increase();\r\n    } else {\r\n      if (bedRoom.getCounter() > 0) {\r\n        bedRoom.decrease();\r\n        console.log();\r\n      }\r\n    }\r\n  } else if (changeTarget === \"bad\") {\r\n    if (howChange === \"increase\") {\r\n      bed.increase();\r\n    } else {\r\n      if (bed.getCounter() > 0) {\r\n        bed.decrease();\r\n      }\r\n    }\r\n  } else {\r\n    if (howChange === \"increase\") {\r\n      bath.increase();\r\n    } else {\r\n      if (bath.getCounter() > 0) {\r\n        bath.decrease();\r\n      }\r\n    }\r\n  }\r\n  showResultInDropDown();\r\n}\r\nfunction showResultInDropDown() {\r\n  let result = \"\";\r\n  if (bedRoom.getCounter() === 1) {\r\n    result += bedRoom.getCounter() + \"  \";\r\n  } else if (bedRoom.getCounter() > 1) {\r\n    result += bedRoom.getCounter() + \"  \";\r\n  }\r\n  if (bed.getCounter() === 1) {\r\n    result += bed.getCounter() + \"  \";\r\n  } else if (bed.getCounter() > 1) {\r\n    result += bed.getCounter() + \"  \";\r\n  }\r\n  if (bath.getCounter() === 1) {\r\n    result += bath.getCounter() + \"  \";\r\n  } else if (bath.getCounter() > 1) {\r\n    result += bath.getCounter() + \"  \";\r\n  }\r\n  dropDownInputFieldRoom.forEach(elem => elem.value = result);\r\n}\r\n","import './styles/UIKitStyles.scss';\r\n\r\nimport 'ion-rangeslider';\r\nimport 'cleave.js';\r\n\r\nimport './components/UIKit/modules/dropdown/fsdDatepicker.js';\r\nimport './components/UIKit/modules/button/starRating.js';\r\nimport './components/UIKit/modules/button/likeRating.js';\r\nimport './components/UIKit/modules/dropdown/dropDownGuests.js';\r\nimport './components/UIKit/modules/dropdown/dropDownRoom.js';\r\nimport './components/UIKit/modules/list/expandableCL.js';\r\nimport './components/UIKit/modules/burger/burger.js';\r\n\r\nvar cleave = new Cleave('.text-field_input-date', {\r\n  date: true,\r\n  delimiter: '.',\r\n  datePattern: ['d', 'm', 'Y']\r\n});\r\n$('.dropdown-input__date-input-field').fsdDatepicker({ todayButton: true, clearButton: true });\r\n$('.dropdown-input__filter-input-field').fsdDatepicker({ todayButton: true, clearButton: true, range: true, dateFormat: 'dd M' });\r\n$('.cards__right-column-datepicker').fsdDatepicker({ todayButton: true, clearButton: true, range: true, dateFormat: 'dd M' });\r\n$('.range-slider__input').ionRangeSlider({\r\n  type: \"double\",\r\n  min: 0,\r\n  max: 20000,\r\n  from: 5000,\r\n  to: 10000,\r\n  step: 1000,\r\n  onChange: function (data) {\r\n    let minValue = ''\r\n    let maxValue = ''\r\n    if (data.from >= 1000) minValue = Math.floor(data.from / 1000) + ' 000';\r\n    else minValue = data.from;\r\n    if (data.to >= 1000) maxValue = Math.floor(data.to / 1000) + ' 000';\r\n    else maxValue = data.to;\r\n    $('.range-slider__label-wrapper p:nth-child(2)').\r\n      html(minValue + '<span class=\"rub\">i</span> - ' + maxValue + '<span class=\"rub\">i</span>');\r\n  },\r\n  onStart: function (data) {\r\n    let minValue = ''\r\n    let maxValue = ''\r\n    if (data.from >= 1000) minValue = Math.floor(data.from / 1000) + ' 000';\r\n    else minValue = data.from;\r\n    if (data.to >= 1000) maxValue = Math.floor(data.to / 1000) + ' 000';\r\n    else maxValue = data.to;\r\n    $('.range-slider__label-wrapper p:nth-child(2)').\r\n      html(minValue + '<span class=\"rub\">i</span> - ' + maxValue + '<span class=\"rub\">i</span>');\r\n  }\r\n});\r\n// dropdown additional options for range dropdown:\r\n// range: true, dateFormat: 'dd M',inline: true","var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nvar NumeralFormatter = function (numeralDecimalMark,\n                                 numeralIntegerScale,\n                                 numeralDecimalScale,\n                                 numeralThousandsGroupStyle,\n                                 numeralPositiveOnly,\n                                 stripLeadingZeroes,\n                                 prefix,\n                                 signBeforePrefix,\n                                 tailPrefix,\n                                 delimiter) {\n    var owner = this;\n\n    owner.numeralDecimalMark = numeralDecimalMark || '.';\n    owner.numeralIntegerScale = numeralIntegerScale > 0 ? numeralIntegerScale : 0;\n    owner.numeralDecimalScale = numeralDecimalScale >= 0 ? numeralDecimalScale : 2;\n    owner.numeralThousandsGroupStyle = numeralThousandsGroupStyle || NumeralFormatter.groupStyle.thousand;\n    owner.numeralPositiveOnly = !!numeralPositiveOnly;\n    owner.stripLeadingZeroes = stripLeadingZeroes !== false;\n    owner.prefix = (prefix || prefix === '') ? prefix : '';\n    owner.signBeforePrefix = !!signBeforePrefix;\n    owner.tailPrefix = !!tailPrefix;\n    owner.delimiter = (delimiter || delimiter === '') ? delimiter : ',';\n    owner.delimiterRE = delimiter ? new RegExp('\\\\' + delimiter, 'g') : '';\n};\n\nNumeralFormatter.groupStyle = {\n    thousand: 'thousand',\n    lakh:     'lakh',\n    wan:      'wan',\n    none:     'none'    \n};\n\nNumeralFormatter.prototype = {\n    getRawValue: function (value) {\n        return value.replace(this.delimiterRE, '').replace(this.numeralDecimalMark, '.');\n    },\n\n    format: function (value) {\n        var owner = this, parts, partSign, partSignAndPrefix, partInteger, partDecimal = '';\n\n        // strip alphabet letters\n        value = value.replace(/[A-Za-z]/g, '')\n            // replace the first decimal mark with reserved placeholder\n            .replace(owner.numeralDecimalMark, 'M')\n\n            // strip non numeric letters except minus and \"M\"\n            // this is to ensure prefix has been stripped\n            .replace(/[^\\dM-]/g, '')\n\n            // replace the leading minus with reserved placeholder\n            .replace(/^\\-/, 'N')\n\n            // strip the other minus sign (if present)\n            .replace(/\\-/g, '')\n\n            // replace the minus sign (if present)\n            .replace('N', owner.numeralPositiveOnly ? '' : '-')\n\n            // replace decimal mark\n            .replace('M', owner.numeralDecimalMark);\n\n        // strip any leading zeros\n        if (owner.stripLeadingZeroes) {\n            value = value.replace(/^(-)?0+(?=\\d)/, '$1');\n        }\n\n        partSign = value.slice(0, 1) === '-' ? '-' : '';\n        if (typeof owner.prefix != 'undefined') {\n            if (owner.signBeforePrefix) {\n                partSignAndPrefix = partSign + owner.prefix;\n            } else {\n                partSignAndPrefix = owner.prefix + partSign;\n            }\n        } else {\n            partSignAndPrefix = partSign;\n        }\n        \n        partInteger = value;\n\n        if (value.indexOf(owner.numeralDecimalMark) >= 0) {\n            parts = value.split(owner.numeralDecimalMark);\n            partInteger = parts[0];\n            partDecimal = owner.numeralDecimalMark + parts[1].slice(0, owner.numeralDecimalScale);\n        }\n\n        if(partSign === '-') {\n            partInteger = partInteger.slice(1);\n        }\n\n        if (owner.numeralIntegerScale > 0) {\n          partInteger = partInteger.slice(0, owner.numeralIntegerScale);\n        }\n\n        switch (owner.numeralThousandsGroupStyle) {\n        case NumeralFormatter.groupStyle.lakh:\n            partInteger = partInteger.replace(/(\\d)(?=(\\d\\d)+\\d$)/g, '$1' + owner.delimiter);\n\n            break;\n\n        case NumeralFormatter.groupStyle.wan:\n            partInteger = partInteger.replace(/(\\d)(?=(\\d{4})+$)/g, '$1' + owner.delimiter);\n\n            break;\n\n        case NumeralFormatter.groupStyle.thousand:\n            partInteger = partInteger.replace(/(\\d)(?=(\\d{3})+$)/g, '$1' + owner.delimiter);\n\n            break;\n        }\n\n        if (owner.tailPrefix) {\n            return partSign + partInteger.toString() + (owner.numeralDecimalScale > 0 ? partDecimal.toString() : '') + owner.prefix;\n        }\n\n        return partSignAndPrefix + partInteger.toString() + (owner.numeralDecimalScale > 0 ? partDecimal.toString() : '');\n    }\n};\n\nvar NumeralFormatter_1 = NumeralFormatter;\n\nvar DateFormatter = function (datePattern, dateMin, dateMax) {\n    var owner = this;\n\n    owner.date = [];\n    owner.blocks = [];\n    owner.datePattern = datePattern;\n    owner.dateMin = dateMin\n      .split('-')\n      .reverse()\n      .map(function(x) {\n        return parseInt(x, 10);\n      });\n    if (owner.dateMin.length === 2) owner.dateMin.unshift(0);\n\n    owner.dateMax = dateMax\n      .split('-')\n      .reverse()\n      .map(function(x) {\n        return parseInt(x, 10);\n      });\n    if (owner.dateMax.length === 2) owner.dateMax.unshift(0);\n    \n    owner.initBlocks();\n};\n\nDateFormatter.prototype = {\n    initBlocks: function () {\n        var owner = this;\n        owner.datePattern.forEach(function (value) {\n            if (value === 'Y') {\n                owner.blocks.push(4);\n            } else {\n                owner.blocks.push(2);\n            }\n        });\n    },\n\n    getISOFormatDate: function () {\n        var owner = this,\n            date = owner.date;\n\n        return date[2] ? (\n            date[2] + '-' + owner.addLeadingZero(date[1]) + '-' + owner.addLeadingZero(date[0])\n        ) : '';\n    },\n\n    getBlocks: function () {\n        return this.blocks;\n    },\n\n    getValidatedDate: function (value) {\n        var owner = this, result = '';\n\n        value = value.replace(/[^\\d]/g, '');\n\n        owner.blocks.forEach(function (length, index) {\n            if (value.length > 0) {\n                var sub = value.slice(0, length),\n                    sub0 = sub.slice(0, 1),\n                    rest = value.slice(length);\n\n                switch (owner.datePattern[index]) {\n                case 'd':\n                    if (sub === '00') {\n                        sub = '01';\n                    } else if (parseInt(sub0, 10) > 3) {\n                        sub = '0' + sub0;\n                    } else if (parseInt(sub, 10) > 31) {\n                        sub = '31';\n                    }\n\n                    break;\n\n                case 'm':\n                    if (sub === '00') {\n                        sub = '01';\n                    } else if (parseInt(sub0, 10) > 1) {\n                        sub = '0' + sub0;\n                    } else if (parseInt(sub, 10) > 12) {\n                        sub = '12';\n                    }\n\n                    break;\n                }\n\n                result += sub;\n\n                // update remaining string\n                value = rest;\n            }\n        });\n\n        return this.getFixedDateString(result);\n    },\n\n    getFixedDateString: function (value) {\n        var owner = this, datePattern = owner.datePattern, date = [],\n            dayIndex = 0, monthIndex = 0, yearIndex = 0,\n            dayStartIndex = 0, monthStartIndex = 0, yearStartIndex = 0,\n            day, month, year, fullYearDone = false;\n\n        // mm-dd || dd-mm\n        if (value.length === 4 && datePattern[0].toLowerCase() !== 'y' && datePattern[1].toLowerCase() !== 'y') {\n            dayStartIndex = datePattern[0] === 'd' ? 0 : 2;\n            monthStartIndex = 2 - dayStartIndex;\n            day = parseInt(value.slice(dayStartIndex, dayStartIndex + 2), 10);\n            month = parseInt(value.slice(monthStartIndex, monthStartIndex + 2), 10);\n\n            date = this.getFixedDate(day, month, 0);\n        }\n\n        // yyyy-mm-dd || yyyy-dd-mm || mm-dd-yyyy || dd-mm-yyyy || dd-yyyy-mm || mm-yyyy-dd\n        if (value.length === 8) {\n            datePattern.forEach(function (type, index) {\n                switch (type) {\n                case 'd':\n                    dayIndex = index;\n                    break;\n                case 'm':\n                    monthIndex = index;\n                    break;\n                default:\n                    yearIndex = index;\n                    break;\n                }\n            });\n\n            yearStartIndex = yearIndex * 2;\n            dayStartIndex = (dayIndex <= yearIndex) ? dayIndex * 2 : (dayIndex * 2 + 2);\n            monthStartIndex = (monthIndex <= yearIndex) ? monthIndex * 2 : (monthIndex * 2 + 2);\n\n            day = parseInt(value.slice(dayStartIndex, dayStartIndex + 2), 10);\n            month = parseInt(value.slice(monthStartIndex, monthStartIndex + 2), 10);\n            year = parseInt(value.slice(yearStartIndex, yearStartIndex + 4), 10);\n\n            fullYearDone = value.slice(yearStartIndex, yearStartIndex + 4).length === 4;\n\n            date = this.getFixedDate(day, month, year);\n        }\n\n        // mm-yy || yy-mm\n        if (value.length === 4 && (datePattern[0] === 'y' || datePattern[1] === 'y')) {\n            monthStartIndex = datePattern[0] === 'm' ? 0 : 2;\n            yearStartIndex = 2 - monthStartIndex;\n            month = parseInt(value.slice(monthStartIndex, monthStartIndex + 2), 10);\n            year = parseInt(value.slice(yearStartIndex, yearStartIndex + 2), 10);\n\n            fullYearDone = value.slice(yearStartIndex, yearStartIndex + 2).length === 2;\n\n            date = [0, month, year];\n        }\n\n        // mm-yyyy || yyyy-mm\n        if (value.length === 6 && (datePattern[0] === 'Y' || datePattern[1] === 'Y')) {\n            monthStartIndex = datePattern[0] === 'm' ? 0 : 4;\n            yearStartIndex = 2 - 0.5 * monthStartIndex;\n            month = parseInt(value.slice(monthStartIndex, monthStartIndex + 2), 10);\n            year = parseInt(value.slice(yearStartIndex, yearStartIndex + 4), 10);\n\n            fullYearDone = value.slice(yearStartIndex, yearStartIndex + 4).length === 4;\n\n            date = [0, month, year];\n        }\n\n        date = owner.getRangeFixedDate(date);\n        owner.date = date;\n\n        var result = date.length === 0 ? value : datePattern.reduce(function (previous, current) {\n            switch (current) {\n            case 'd':\n                return previous + (date[0] === 0 ? '' : owner.addLeadingZero(date[0]));\n            case 'm':\n                return previous + (date[1] === 0 ? '' : owner.addLeadingZero(date[1]));\n            case 'y':\n                return previous + (fullYearDone ? owner.addLeadingZeroForYear(date[2], false) : '');\n            case 'Y':\n                return previous + (fullYearDone ? owner.addLeadingZeroForYear(date[2], true) : '');\n            }\n        }, '');\n\n        return result;\n    },\n\n    getRangeFixedDate: function (date) {\n        var owner = this,\n            datePattern = owner.datePattern,\n            dateMin = owner.dateMin || [],\n            dateMax = owner.dateMax || [];\n\n        if (!date.length || (dateMin.length < 3 && dateMax.length < 3)) return date;\n\n        if (\n          datePattern.find(function(x) {\n            return x.toLowerCase() === 'y';\n          }) &&\n          date[2] === 0\n        ) return date;\n\n        if (dateMax.length && (dateMax[2] < date[2] || (\n          dateMax[2] === date[2] && (dateMax[1] < date[1] || (\n            dateMax[1] === date[1] && dateMax[0] < date[0]\n          ))\n        ))) return dateMax;\n\n        if (dateMin.length && (dateMin[2] > date[2] || (\n          dateMin[2] === date[2] && (dateMin[1] > date[1] || (\n            dateMin[1] === date[1] && dateMin[0] > date[0]\n          ))\n        ))) return dateMin;\n\n        return date;\n    },\n\n    getFixedDate: function (day, month, year) {\n        day = Math.min(day, 31);\n        month = Math.min(month, 12);\n        year = parseInt((year || 0), 10);\n\n        if ((month < 7 && month % 2 === 0) || (month > 8 && month % 2 === 1)) {\n            day = Math.min(day, month === 2 ? (this.isLeapYear(year) ? 29 : 28) : 30);\n        }\n\n        return [day, month, year];\n    },\n\n    isLeapYear: function (year) {\n        return ((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0);\n    },\n\n    addLeadingZero: function (number) {\n        return (number < 10 ? '0' : '') + number;\n    },\n\n    addLeadingZeroForYear: function (number, fullYearMode) {\n        if (fullYearMode) {\n            return (number < 10 ? '000' : (number < 100 ? '00' : (number < 1000 ? '0' : ''))) + number;\n        }\n\n        return (number < 10 ? '0' : '') + number;\n    }\n};\n\nvar DateFormatter_1 = DateFormatter;\n\nvar TimeFormatter = function (timePattern, timeFormat) {\n    var owner = this;\n\n    owner.time = [];\n    owner.blocks = [];\n    owner.timePattern = timePattern;\n    owner.timeFormat = timeFormat;\n    owner.initBlocks();\n};\n\nTimeFormatter.prototype = {\n    initBlocks: function () {\n        var owner = this;\n        owner.timePattern.forEach(function () {\n            owner.blocks.push(2);\n        });\n    },\n\n    getISOFormatTime: function () {\n        var owner = this,\n            time = owner.time;\n\n        return time[2] ? (\n            owner.addLeadingZero(time[0]) + ':' + owner.addLeadingZero(time[1]) + ':' + owner.addLeadingZero(time[2])\n        ) : '';\n    },\n\n    getBlocks: function () {\n        return this.blocks;\n    },\n\n    getTimeFormatOptions: function () {\n        var owner = this;\n        if (String(owner.timeFormat) === '12') {\n            return {\n                maxHourFirstDigit: 1,\n                maxHours: 12,\n                maxMinutesFirstDigit: 5,\n                maxMinutes: 60\n            };\n        }\n\n        return {\n            maxHourFirstDigit: 2,\n            maxHours: 23,\n            maxMinutesFirstDigit: 5,\n            maxMinutes: 60\n        };\n    },\n\n    getValidatedTime: function (value) {\n        var owner = this, result = '';\n\n        value = value.replace(/[^\\d]/g, '');\n\n        var timeFormatOptions = owner.getTimeFormatOptions();\n\n        owner.blocks.forEach(function (length, index) {\n            if (value.length > 0) {\n                var sub = value.slice(0, length),\n                    sub0 = sub.slice(0, 1),\n                    rest = value.slice(length);\n\n                switch (owner.timePattern[index]) {\n\n                case 'h':\n                    if (parseInt(sub0, 10) > timeFormatOptions.maxHourFirstDigit) {\n                        sub = '0' + sub0;\n                    } else if (parseInt(sub, 10) > timeFormatOptions.maxHours) {\n                        sub = timeFormatOptions.maxHours + '';\n                    }\n\n                    break;\n\n                case 'm':\n                case 's':\n                    if (parseInt(sub0, 10) > timeFormatOptions.maxMinutesFirstDigit) {\n                        sub = '0' + sub0;\n                    } else if (parseInt(sub, 10) > timeFormatOptions.maxMinutes) {\n                        sub = timeFormatOptions.maxMinutes + '';\n                    }\n                    break;\n                }\n\n                result += sub;\n\n                // update remaining string\n                value = rest;\n            }\n        });\n\n        return this.getFixedTimeString(result);\n    },\n\n    getFixedTimeString: function (value) {\n        var owner = this, timePattern = owner.timePattern, time = [],\n            secondIndex = 0, minuteIndex = 0, hourIndex = 0,\n            secondStartIndex = 0, minuteStartIndex = 0, hourStartIndex = 0,\n            second, minute, hour;\n\n        if (value.length === 6) {\n            timePattern.forEach(function (type, index) {\n                switch (type) {\n                case 's':\n                    secondIndex = index * 2;\n                    break;\n                case 'm':\n                    minuteIndex = index * 2;\n                    break;\n                case 'h':\n                    hourIndex = index * 2;\n                    break;\n                }\n            });\n\n            hourStartIndex = hourIndex;\n            minuteStartIndex = minuteIndex;\n            secondStartIndex = secondIndex;\n\n            second = parseInt(value.slice(secondStartIndex, secondStartIndex + 2), 10);\n            minute = parseInt(value.slice(minuteStartIndex, minuteStartIndex + 2), 10);\n            hour = parseInt(value.slice(hourStartIndex, hourStartIndex + 2), 10);\n\n            time = this.getFixedTime(hour, minute, second);\n        }\n\n        if (value.length === 4 && owner.timePattern.indexOf('s') < 0) {\n            timePattern.forEach(function (type, index) {\n                switch (type) {\n                case 'm':\n                    minuteIndex = index * 2;\n                    break;\n                case 'h':\n                    hourIndex = index * 2;\n                    break;\n                }\n            });\n\n            hourStartIndex = hourIndex;\n            minuteStartIndex = minuteIndex;\n\n            second = 0;\n            minute = parseInt(value.slice(minuteStartIndex, minuteStartIndex + 2), 10);\n            hour = parseInt(value.slice(hourStartIndex, hourStartIndex + 2), 10);\n\n            time = this.getFixedTime(hour, minute, second);\n        }\n\n        owner.time = time;\n\n        return time.length === 0 ? value : timePattern.reduce(function (previous, current) {\n            switch (current) {\n            case 's':\n                return previous + owner.addLeadingZero(time[2]);\n            case 'm':\n                return previous + owner.addLeadingZero(time[1]);\n            case 'h':\n                return previous + owner.addLeadingZero(time[0]);\n            }\n        }, '');\n    },\n\n    getFixedTime: function (hour, minute, second) {\n        second = Math.min(parseInt(second || 0, 10), 60);\n        minute = Math.min(minute, 60);\n        hour = Math.min(hour, 60);\n\n        return [hour, minute, second];\n    },\n\n    addLeadingZero: function (number) {\n        return (number < 10 ? '0' : '') + number;\n    }\n};\n\nvar TimeFormatter_1 = TimeFormatter;\n\nvar PhoneFormatter = function (formatter, delimiter) {\n    var owner = this;\n\n    owner.delimiter = (delimiter || delimiter === '') ? delimiter : ' ';\n    owner.delimiterRE = delimiter ? new RegExp('\\\\' + delimiter, 'g') : '';\n\n    owner.formatter = formatter;\n};\n\nPhoneFormatter.prototype = {\n    setFormatter: function (formatter) {\n        this.formatter = formatter;\n    },\n\n    format: function (phoneNumber) {\n        var owner = this;\n\n        owner.formatter.clear();\n\n        // only keep number and +\n        phoneNumber = phoneNumber.replace(/[^\\d+]/g, '');\n\n        // strip non-leading +\n        phoneNumber = phoneNumber.replace(/^\\+/, 'B').replace(/\\+/g, '').replace('B', '+');\n\n        // strip delimiter\n        phoneNumber = phoneNumber.replace(owner.delimiterRE, '');\n\n        var result = '', current, validated = false;\n\n        for (var i = 0, iMax = phoneNumber.length; i < iMax; i++) {\n            current = owner.formatter.inputDigit(phoneNumber.charAt(i));\n\n            // has ()- or space inside\n            if (/[\\s()-]/g.test(current)) {\n                result = current;\n\n                validated = true;\n            } else {\n                if (!validated) {\n                    result = current;\n                }\n                // else: over length input\n                // it turns to invalid number again\n            }\n        }\n\n        // strip ()\n        // e.g. US: 7161234567 returns (716) 123-4567\n        result = result.replace(/[()]/g, '');\n        // replace library delimiter with user customized delimiter\n        result = result.replace(/[\\s-]/g, owner.delimiter);\n\n        return result;\n    }\n};\n\nvar PhoneFormatter_1 = PhoneFormatter;\n\nvar CreditCardDetector = {\n    blocks: {\n        uatp:          [4, 5, 6],\n        amex:          [4, 6, 5],\n        diners:        [4, 6, 4],\n        discover:      [4, 4, 4, 4],\n        mastercard:    [4, 4, 4, 4],\n        dankort:       [4, 4, 4, 4],\n        instapayment:  [4, 4, 4, 4],\n        jcb15:         [4, 6, 5],\n        jcb:           [4, 4, 4, 4],\n        maestro:       [4, 4, 4, 4],\n        visa:          [4, 4, 4, 4],\n        mir:           [4, 4, 4, 4],\n        unionPay:      [4, 4, 4, 4],\n        general:       [4, 4, 4, 4]\n    },\n\n    re: {\n        // starts with 1; 15 digits, not starts with 1800 (jcb card)\n        uatp: /^(?!1800)1\\d{0,14}/,\n\n        // starts with 34/37; 15 digits\n        amex: /^3[47]\\d{0,13}/,\n\n        // starts with 6011/65/644-649; 16 digits\n        discover: /^(?:6011|65\\d{0,2}|64[4-9]\\d?)\\d{0,12}/,\n\n        // starts with 300-305/309 or 36/38/39; 14 digits\n        diners: /^3(?:0([0-5]|9)|[689]\\d?)\\d{0,11}/,\n\n        // starts with 51-55/22212720; 16 digits\n        mastercard: /^(5[1-5]\\d{0,2}|22[2-9]\\d{0,1}|2[3-7]\\d{0,2})\\d{0,12}/,\n\n        // starts with 5019/4175/4571; 16 digits\n        dankort: /^(5019|4175|4571)\\d{0,12}/,\n\n        // starts with 637-639; 16 digits\n        instapayment: /^63[7-9]\\d{0,13}/,\n\n        // starts with 2131/1800; 15 digits\n        jcb15: /^(?:2131|1800)\\d{0,11}/,\n\n        // starts with 2131/1800/35; 16 digits\n        jcb: /^(?:35\\d{0,2})\\d{0,12}/,\n\n        // starts with 50/56-58/6304/67; 16 digits\n        maestro: /^(?:5[0678]\\d{0,2}|6304|67\\d{0,2})\\d{0,12}/,\n\n        // starts with 22; 16 digits\n        mir: /^220[0-4]\\d{0,12}/,\n\n        // starts with 4; 16 digits\n        visa: /^4\\d{0,15}/,\n\n        // starts with 62/81; 16 digits\n        unionPay: /^(62|81)\\d{0,14}/\n    },\n\n    getStrictBlocks: function (block) {\n      var total = block.reduce(function (prev, current) {\n        return prev + current;\n      }, 0);\n\n      return block.concat(19 - total);\n    },\n\n    getInfo: function (value, strictMode) {\n        var blocks = CreditCardDetector.blocks,\n            re = CreditCardDetector.re;\n\n        // Some credit card can have up to 19 digits number.\n        // Set strictMode to true will remove the 16 max-length restrain,\n        // however, I never found any website validate card number like\n        // this, hence probably you don't want to enable this option.\n        strictMode = !!strictMode;\n\n        for (var key in re) {\n            if (re[key].test(value)) {\n                var matchedBlocks = blocks[key];\n                return {\n                    type: key,\n                    blocks: strictMode ? this.getStrictBlocks(matchedBlocks) : matchedBlocks\n                };\n            }\n        }\n\n        return {\n            type: 'unknown',\n            blocks: strictMode ? this.getStrictBlocks(blocks.general) : blocks.general\n        };\n    }\n};\n\nvar CreditCardDetector_1 = CreditCardDetector;\n\nvar Util = {\n    noop: function () {\n    },\n\n    strip: function (value, re) {\n        return value.replace(re, '');\n    },\n\n    getPostDelimiter: function (value, delimiter, delimiters) {\n        // single delimiter\n        if (delimiters.length === 0) {\n            return value.slice(-delimiter.length) === delimiter ? delimiter : '';\n        }\n\n        // multiple delimiters\n        var matchedDelimiter = '';\n        delimiters.forEach(function (current) {\n            if (value.slice(-current.length) === current) {\n                matchedDelimiter = current;\n            }\n        });\n\n        return matchedDelimiter;\n    },\n\n    getDelimiterREByDelimiter: function (delimiter) {\n        return new RegExp(delimiter.replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1'), 'g');\n    },\n\n    getNextCursorPosition: function (prevPos, oldValue, newValue, delimiter, delimiters) {\n      // If cursor was at the end of value, just place it back.\n      // Because new value could contain additional chars.\n      if (oldValue.length === prevPos) {\n          return newValue.length;\n      }\n\n      return prevPos + this.getPositionOffset(prevPos, oldValue, newValue, delimiter ,delimiters);\n    },\n\n    getPositionOffset: function (prevPos, oldValue, newValue, delimiter, delimiters) {\n        var oldRawValue, newRawValue, lengthOffset;\n\n        oldRawValue = this.stripDelimiters(oldValue.slice(0, prevPos), delimiter, delimiters);\n        newRawValue = this.stripDelimiters(newValue.slice(0, prevPos), delimiter, delimiters);\n        lengthOffset = oldRawValue.length - newRawValue.length;\n\n        return (lengthOffset !== 0) ? (lengthOffset / Math.abs(lengthOffset)) : 0;\n    },\n\n    stripDelimiters: function (value, delimiter, delimiters) {\n        var owner = this;\n\n        // single delimiter\n        if (delimiters.length === 0) {\n            var delimiterRE = delimiter ? owner.getDelimiterREByDelimiter(delimiter) : '';\n\n            return value.replace(delimiterRE, '');\n        }\n\n        // multiple delimiters\n        delimiters.forEach(function (current) {\n            current.split('').forEach(function (letter) {\n                value = value.replace(owner.getDelimiterREByDelimiter(letter), '');\n            });\n        });\n\n        return value;\n    },\n\n    headStr: function (str, length) {\n        return str.slice(0, length);\n    },\n\n    getMaxLength: function (blocks) {\n        return blocks.reduce(function (previous, current) {\n            return previous + current;\n        }, 0);\n    },\n\n    // strip prefix\n    // Before type  |   After type    |     Return value\n    // PEFIX-...    |   PEFIX-...     |     ''\n    // PREFIX-123   |   PEFIX-123     |     123\n    // PREFIX-123   |   PREFIX-23     |     23\n    // PREFIX-123   |   PREFIX-1234   |     1234\n    getPrefixStrippedValue: function (value, prefix, prefixLength, prevResult, delimiter, delimiters, noImmediatePrefix, tailPrefix, signBeforePrefix) {\n        // No prefix\n        if (prefixLength === 0) {\n          return value;\n        }\n\n        // Value is prefix\n        if (value === prefix && value !== '') {\n          return '';\n        }\n\n        if (signBeforePrefix && (value.slice(0, 1) == '-')) {\n            var prev = (prevResult.slice(0, 1) == '-') ? prevResult.slice(1) : prevResult;\n            return '-' + this.getPrefixStrippedValue(value.slice(1), prefix, prefixLength, prev, delimiter, delimiters, noImmediatePrefix, tailPrefix, signBeforePrefix);\n        }\n\n        // Pre result prefix string does not match pre-defined prefix\n        if (prevResult.slice(0, prefixLength) !== prefix && !tailPrefix) {\n            // Check if the first time user entered something\n            if (noImmediatePrefix && !prevResult && value) return value;\n            return '';\n        } else if (prevResult.slice(-prefixLength) !== prefix && tailPrefix) {\n            // Check if the first time user entered something\n            if (noImmediatePrefix && !prevResult && value) return value;\n            return '';\n        }\n\n        var prevValue = this.stripDelimiters(prevResult, delimiter, delimiters);\n\n        // New value has issue, someone typed in between prefix letters\n        // Revert to pre value\n        if (value.slice(0, prefixLength) !== prefix && !tailPrefix) {\n            return prevValue.slice(prefixLength);\n        } else if (value.slice(-prefixLength) !== prefix && tailPrefix) {\n            return prevValue.slice(0, -prefixLength - 1);\n        }\n\n        // No issue, strip prefix for new value\n        return tailPrefix ? value.slice(0, -prefixLength) : value.slice(prefixLength);\n    },\n\n    getFirstDiffIndex: function (prev, current) {\n        var index = 0;\n\n        while (prev.charAt(index) === current.charAt(index)) {\n            if (prev.charAt(index++) === '') {\n                return -1;\n            }\n        }\n\n        return index;\n    },\n\n    getFormattedValue: function (value, blocks, blocksLength, delimiter, delimiters, delimiterLazyShow) {\n        var result = '',\n            multipleDelimiters = delimiters.length > 0,\n            currentDelimiter = '';\n\n        // no options, normal input\n        if (blocksLength === 0) {\n            return value;\n        }\n\n        blocks.forEach(function (length, index) {\n            if (value.length > 0) {\n                var sub = value.slice(0, length),\n                    rest = value.slice(length);\n\n                if (multipleDelimiters) {\n                    currentDelimiter = delimiters[delimiterLazyShow ? (index - 1) : index] || currentDelimiter;\n                } else {\n                    currentDelimiter = delimiter;\n                }\n\n                if (delimiterLazyShow) {\n                    if (index > 0) {\n                        result += currentDelimiter;\n                    }\n\n                    result += sub;\n                } else {\n                    result += sub;\n\n                    if (sub.length === length && index < blocksLength - 1) {\n                        result += currentDelimiter;\n                    }\n                }\n\n                // update remaining string\n                value = rest;\n            }\n        });\n\n        return result;\n    },\n\n    // move cursor to the end\n    // the first time user focuses on an input with prefix\n    fixPrefixCursor: function (el, prefix, delimiter, delimiters) {\n        if (!el) {\n            return;\n        }\n\n        var val = el.value,\n            appendix = delimiter || (delimiters[0] || ' ');\n\n        if (!el.setSelectionRange || !prefix || (prefix.length + appendix.length) <= val.length) {\n            return;\n        }\n\n        var len = val.length * 2;\n\n        // set timeout to avoid blink\n        setTimeout(function () {\n            el.setSelectionRange(len, len);\n        }, 1);\n    },\n\n    // Check if input field is fully selected\n    checkFullSelection: function(value) {\n      try {\n        var selection = window.getSelection() || document.getSelection() || {};\n        return selection.toString().length === value.length;\n      } catch (ex) {\n        // Ignore\n      }\n\n      return false;\n    },\n\n    setSelection: function (element, position, doc) {\n        if (element !== this.getActiveElement(doc)) {\n            return;\n        }\n\n        // cursor is already in the end\n        if (element && element.value.length <= position) {\n          return;\n        }\n\n        if (element.createTextRange) {\n            var range = element.createTextRange();\n\n            range.move('character', position);\n            range.select();\n        } else {\n            try {\n                element.setSelectionRange(position, position);\n            } catch (e) {\n                // eslint-disable-next-line\n                console.warn('The input element type does not support selection');\n            }\n        }\n    },\n\n    getActiveElement: function(parent) {\n        var activeElement = parent.activeElement;\n        if (activeElement && activeElement.shadowRoot) {\n            return this.getActiveElement(activeElement.shadowRoot);\n        }\n        return activeElement;\n    },\n\n    isAndroid: function () {\n        return navigator && /android/i.test(navigator.userAgent);\n    },\n\n    // On Android chrome, the keyup and keydown events\n    // always return key code 229 as a composition that\n    // buffers the users keystrokes\n    // see https://github.com/nosir/cleave.js/issues/147\n    isAndroidBackspaceKeydown: function (lastInputValue, currentInputValue) {\n        if (!this.isAndroid() || !lastInputValue || !currentInputValue) {\n            return false;\n        }\n\n        return currentInputValue === lastInputValue.slice(0, -1);\n    }\n};\n\nvar Util_1 = Util;\n\n/**\n * Props Assignment\n *\n * Separate this, so react module can share the usage\n */\nvar DefaultProperties = {\n    // Maybe change to object-assign\n    // for now just keep it as simple\n    assign: function (target, opts) {\n        target = target || {};\n        opts = opts || {};\n\n        // credit card\n        target.creditCard = !!opts.creditCard;\n        target.creditCardStrictMode = !!opts.creditCardStrictMode;\n        target.creditCardType = '';\n        target.onCreditCardTypeChanged = opts.onCreditCardTypeChanged || (function () {});\n\n        // phone\n        target.phone = !!opts.phone;\n        target.phoneRegionCode = opts.phoneRegionCode || 'AU';\n        target.phoneFormatter = {};\n\n        // time\n        target.time = !!opts.time;\n        target.timePattern = opts.timePattern || ['h', 'm', 's'];\n        target.timeFormat = opts.timeFormat || '24';\n        target.timeFormatter = {};\n\n        // date\n        target.date = !!opts.date;\n        target.datePattern = opts.datePattern || ['d', 'm', 'Y'];\n        target.dateMin = opts.dateMin || '';\n        target.dateMax = opts.dateMax || '';\n        target.dateFormatter = {};\n\n        // numeral\n        target.numeral = !!opts.numeral;\n        target.numeralIntegerScale = opts.numeralIntegerScale > 0 ? opts.numeralIntegerScale : 0;\n        target.numeralDecimalScale = opts.numeralDecimalScale >= 0 ? opts.numeralDecimalScale : 2;\n        target.numeralDecimalMark = opts.numeralDecimalMark || '.';\n        target.numeralThousandsGroupStyle = opts.numeralThousandsGroupStyle || 'thousand';\n        target.numeralPositiveOnly = !!opts.numeralPositiveOnly;\n        target.stripLeadingZeroes = opts.stripLeadingZeroes !== false;\n        target.signBeforePrefix = !!opts.signBeforePrefix;\n        target.tailPrefix = !!opts.tailPrefix;\n\n        // others\n        target.swapHiddenInput = !!opts.swapHiddenInput;\n        \n        target.numericOnly = target.creditCard || target.date || !!opts.numericOnly;\n\n        target.uppercase = !!opts.uppercase;\n        target.lowercase = !!opts.lowercase;\n\n        target.prefix = (target.creditCard || target.date) ? '' : (opts.prefix || '');\n        target.noImmediatePrefix = !!opts.noImmediatePrefix;\n        target.prefixLength = target.prefix.length;\n        target.rawValueTrimPrefix = !!opts.rawValueTrimPrefix;\n        target.copyDelimiter = !!opts.copyDelimiter;\n\n        target.initValue = (opts.initValue !== undefined && opts.initValue !== null) ? opts.initValue.toString() : '';\n\n        target.delimiter =\n            (opts.delimiter || opts.delimiter === '') ? opts.delimiter :\n                (opts.date ? '/' :\n                    (opts.time ? ':' :\n                        (opts.numeral ? ',' :\n                            (opts.phone ? ' ' :\n                                ' '))));\n        target.delimiterLength = target.delimiter.length;\n        target.delimiterLazyShow = !!opts.delimiterLazyShow;\n        target.delimiters = opts.delimiters || [];\n\n        target.blocks = opts.blocks || [];\n        target.blocksLength = target.blocks.length;\n\n        target.root = (typeof commonjsGlobal === 'object' && commonjsGlobal) ? commonjsGlobal : window;\n        target.document = opts.document || target.root.document;\n\n        target.maxLength = 0;\n\n        target.backspace = false;\n        target.result = '';\n\n        target.onValueChanged = opts.onValueChanged || (function () {});\n\n        return target;\n    }\n};\n\nvar DefaultProperties_1 = DefaultProperties;\n\n/**\n * Construct a new Cleave instance by passing the configuration object\n *\n * @param {String | HTMLElement} element\n * @param {Object} opts\n */\nvar Cleave = function (element, opts) {\n    var owner = this;\n    var hasMultipleElements = false;\n\n    if (typeof element === 'string') {\n        owner.element = document.querySelector(element);\n        hasMultipleElements = document.querySelectorAll(element).length > 1;\n    } else {\n      if (typeof element.length !== 'undefined' && element.length > 0) {\n        owner.element = element[0];\n        hasMultipleElements = element.length > 1;\n      } else {\n        owner.element = element;\n      }\n    }\n\n    if (!owner.element) {\n        throw new Error('[cleave.js] Please check the element');\n    }\n\n    if (hasMultipleElements) {\n      try {\n        // eslint-disable-next-line\n        console.warn('[cleave.js] Multiple input fields matched, cleave.js will only take the first one.');\n      } catch (e) {\n        // Old IE\n      }\n    }\n\n    opts.initValue = owner.element.value;\n\n    owner.properties = Cleave.DefaultProperties.assign({}, opts);\n\n    owner.init();\n};\n\nCleave.prototype = {\n    init: function () {\n        var owner = this, pps = owner.properties;\n\n        // no need to use this lib\n        if (!pps.numeral && !pps.phone && !pps.creditCard && !pps.time && !pps.date && (pps.blocksLength === 0 && !pps.prefix)) {\n            owner.onInput(pps.initValue);\n\n            return;\n        }\n\n        pps.maxLength = Cleave.Util.getMaxLength(pps.blocks);\n\n        owner.isAndroid = Cleave.Util.isAndroid();\n        owner.lastInputValue = '';\n        owner.isBackward = '';\n\n        owner.onChangeListener = owner.onChange.bind(owner);\n        owner.onKeyDownListener = owner.onKeyDown.bind(owner);\n        owner.onFocusListener = owner.onFocus.bind(owner);\n        owner.onCutListener = owner.onCut.bind(owner);\n        owner.onCopyListener = owner.onCopy.bind(owner);\n\n        owner.initSwapHiddenInput();\n\n        owner.element.addEventListener('input', owner.onChangeListener);\n        owner.element.addEventListener('keydown', owner.onKeyDownListener);\n        owner.element.addEventListener('focus', owner.onFocusListener);\n        owner.element.addEventListener('cut', owner.onCutListener);\n        owner.element.addEventListener('copy', owner.onCopyListener);\n\n\n        owner.initPhoneFormatter();\n        owner.initDateFormatter();\n        owner.initTimeFormatter();\n        owner.initNumeralFormatter();\n\n        // avoid touch input field if value is null\n        // otherwise Firefox will add red box-shadow for <input required />\n        if (pps.initValue || (pps.prefix && !pps.noImmediatePrefix)) {\n            owner.onInput(pps.initValue);\n        }\n    },\n\n    initSwapHiddenInput: function () {\n        var owner = this, pps = owner.properties;\n        if (!pps.swapHiddenInput) return;\n\n        var inputFormatter = owner.element.cloneNode(true);\n        owner.element.parentNode.insertBefore(inputFormatter, owner.element);\n\n        owner.elementSwapHidden = owner.element;\n        owner.elementSwapHidden.type = 'hidden';\n\n        owner.element = inputFormatter;\n        owner.element.id = '';\n    },\n\n    initNumeralFormatter: function () {\n        var owner = this, pps = owner.properties;\n\n        if (!pps.numeral) {\n            return;\n        }\n\n        pps.numeralFormatter = new Cleave.NumeralFormatter(\n            pps.numeralDecimalMark,\n            pps.numeralIntegerScale,\n            pps.numeralDecimalScale,\n            pps.numeralThousandsGroupStyle,\n            pps.numeralPositiveOnly,\n            pps.stripLeadingZeroes,\n            pps.prefix,\n            pps.signBeforePrefix,\n            pps.tailPrefix,\n            pps.delimiter\n        );\n    },\n\n    initTimeFormatter: function() {\n        var owner = this, pps = owner.properties;\n\n        if (!pps.time) {\n            return;\n        }\n\n        pps.timeFormatter = new Cleave.TimeFormatter(pps.timePattern, pps.timeFormat);\n        pps.blocks = pps.timeFormatter.getBlocks();\n        pps.blocksLength = pps.blocks.length;\n        pps.maxLength = Cleave.Util.getMaxLength(pps.blocks);\n    },\n\n    initDateFormatter: function () {\n        var owner = this, pps = owner.properties;\n\n        if (!pps.date) {\n            return;\n        }\n\n        pps.dateFormatter = new Cleave.DateFormatter(pps.datePattern, pps.dateMin, pps.dateMax);\n        pps.blocks = pps.dateFormatter.getBlocks();\n        pps.blocksLength = pps.blocks.length;\n        pps.maxLength = Cleave.Util.getMaxLength(pps.blocks);\n    },\n\n    initPhoneFormatter: function () {\n        var owner = this, pps = owner.properties;\n\n        if (!pps.phone) {\n            return;\n        }\n\n        // Cleave.AsYouTypeFormatter should be provided by\n        // external google closure lib\n        try {\n            pps.phoneFormatter = new Cleave.PhoneFormatter(\n                new pps.root.Cleave.AsYouTypeFormatter(pps.phoneRegionCode),\n                pps.delimiter\n            );\n        } catch (ex) {\n            throw new Error('[cleave.js] Please include phone-type-formatter.{country}.js lib');\n        }\n    },\n\n    onKeyDown: function (event) {\n        var owner = this,\n            charCode = event.which || event.keyCode;\n\n        owner.lastInputValue = owner.element.value;\n        owner.isBackward = charCode === 8;\n    },\n\n    onChange: function (event) {\n        var owner = this, pps = owner.properties,\n            Util = Cleave.Util;\n\n        owner.isBackward = owner.isBackward || event.inputType === 'deleteContentBackward';\n\n        var postDelimiter = Util.getPostDelimiter(owner.lastInputValue, pps.delimiter, pps.delimiters);\n\n        if (owner.isBackward && postDelimiter) {\n            pps.postDelimiterBackspace = postDelimiter;\n        } else {\n            pps.postDelimiterBackspace = false;\n        }\n\n        this.onInput(this.element.value);\n    },\n\n    onFocus: function () {\n        var owner = this,\n            pps = owner.properties;\n        owner.lastInputValue = owner.element.value;\n\n        if (pps.prefix && pps.noImmediatePrefix && !owner.element.value) {\n            this.onInput(pps.prefix);\n        }\n\n        Cleave.Util.fixPrefixCursor(owner.element, pps.prefix, pps.delimiter, pps.delimiters);\n    },\n\n    onCut: function (e) {\n        if (!Cleave.Util.checkFullSelection(this.element.value)) return;\n        this.copyClipboardData(e);\n        this.onInput('');\n    },\n\n    onCopy: function (e) {\n        if (!Cleave.Util.checkFullSelection(this.element.value)) return;\n        this.copyClipboardData(e);\n    },\n\n    copyClipboardData: function (e) {\n        var owner = this,\n            pps = owner.properties,\n            Util = Cleave.Util,\n            inputValue = owner.element.value,\n            textToCopy = '';\n\n        if (!pps.copyDelimiter) {\n            textToCopy = Util.stripDelimiters(inputValue, pps.delimiter, pps.delimiters);\n        } else {\n            textToCopy = inputValue;\n        }\n\n        try {\n            if (e.clipboardData) {\n                e.clipboardData.setData('Text', textToCopy);\n            } else {\n                window.clipboardData.setData('Text', textToCopy);\n            }\n\n            e.preventDefault();\n        } catch (ex) {\n            //  empty\n        }\n    },\n\n    onInput: function (value) {\n        var owner = this, pps = owner.properties,\n            Util = Cleave.Util;\n\n        // case 1: delete one more character \"4\"\n        // 1234*| -> hit backspace -> 123|\n        // case 2: last character is not delimiter which is:\n        // 12|34* -> hit backspace -> 1|34*\n        // note: no need to apply this for numeral mode\n        var postDelimiterAfter = Util.getPostDelimiter(value, pps.delimiter, pps.delimiters);\n        if (!pps.numeral && pps.postDelimiterBackspace && !postDelimiterAfter) {\n            value = Util.headStr(value, value.length - pps.postDelimiterBackspace.length);\n        }\n\n        // phone formatter\n        if (pps.phone) {\n            if (pps.prefix && (!pps.noImmediatePrefix || value.length)) {\n                pps.result = pps.prefix + pps.phoneFormatter.format(value).slice(pps.prefix.length);\n            } else {\n                pps.result = pps.phoneFormatter.format(value);\n            }\n            owner.updateValueState();\n\n            return;\n        }\n\n        // numeral formatter\n        if (pps.numeral) {\n            // Do not show prefix when noImmediatePrefix is specified\n            // This mostly because we need to show user the native input placeholder\n            if (pps.prefix && pps.noImmediatePrefix && value.length === 0) {\n                pps.result = '';\n            } else {\n                pps.result = pps.numeralFormatter.format(value);\n            }\n            owner.updateValueState();\n\n            return;\n        }\n\n        // date\n        if (pps.date) {\n            value = pps.dateFormatter.getValidatedDate(value);\n        }\n\n        // time\n        if (pps.time) {\n            value = pps.timeFormatter.getValidatedTime(value);\n        }\n\n        // strip delimiters\n        value = Util.stripDelimiters(value, pps.delimiter, pps.delimiters);\n\n        // strip prefix\n        value = Util.getPrefixStrippedValue(value, pps.prefix, pps.prefixLength, pps.result, pps.delimiter, pps.delimiters, pps.noImmediatePrefix, pps.tailPrefix, pps.signBeforePrefix);\n\n        // strip non-numeric characters\n        value = pps.numericOnly ? Util.strip(value, /[^\\d]/g) : value;\n\n        // convert case\n        value = pps.uppercase ? value.toUpperCase() : value;\n        value = pps.lowercase ? value.toLowerCase() : value;\n\n        // prevent from showing prefix when no immediate option enabled with empty input value\n        if (pps.prefix) {\n            if (pps.tailPrefix) {\n                value = value + pps.prefix;\n            } else {\n                value = pps.prefix + value;\n            }\n\n\n            // no blocks specified, no need to do formatting\n            if (pps.blocksLength === 0) {\n                pps.result = value;\n                owner.updateValueState();\n\n                return;\n            }\n        }\n\n        // update credit card props\n        if (pps.creditCard) {\n            owner.updateCreditCardPropsByValue(value);\n        }\n\n        // strip over length characters\n        value = Util.headStr(value, pps.maxLength);\n\n        // apply blocks\n        pps.result = Util.getFormattedValue(\n            value,\n            pps.blocks, pps.blocksLength,\n            pps.delimiter, pps.delimiters, pps.delimiterLazyShow\n        );\n\n        owner.updateValueState();\n    },\n\n    updateCreditCardPropsByValue: function (value) {\n        var owner = this, pps = owner.properties,\n            Util = Cleave.Util,\n            creditCardInfo;\n\n        // At least one of the first 4 characters has changed\n        if (Util.headStr(pps.result, 4) === Util.headStr(value, 4)) {\n            return;\n        }\n\n        creditCardInfo = Cleave.CreditCardDetector.getInfo(value, pps.creditCardStrictMode);\n\n        pps.blocks = creditCardInfo.blocks;\n        pps.blocksLength = pps.blocks.length;\n        pps.maxLength = Util.getMaxLength(pps.blocks);\n\n        // credit card type changed\n        if (pps.creditCardType !== creditCardInfo.type) {\n            pps.creditCardType = creditCardInfo.type;\n\n            pps.onCreditCardTypeChanged.call(owner, pps.creditCardType);\n        }\n    },\n\n    updateValueState: function () {\n        var owner = this,\n            Util = Cleave.Util,\n            pps = owner.properties;\n\n        if (!owner.element) {\n            return;\n        }\n\n        var endPos = owner.element.selectionEnd;\n        var oldValue = owner.element.value;\n        var newValue = pps.result;\n\n        endPos = Util.getNextCursorPosition(endPos, oldValue, newValue, pps.delimiter, pps.delimiters);\n\n        // fix Android browser type=\"text\" input field\n        // cursor not jumping issue\n        if (owner.isAndroid) {\n            window.setTimeout(function () {\n                owner.element.value = newValue;\n                Util.setSelection(owner.element, endPos, pps.document, false);\n                owner.callOnValueChanged();\n            }, 1);\n\n            return;\n        }\n\n        owner.element.value = newValue;\n        if (pps.swapHiddenInput) owner.elementSwapHidden.value = owner.getRawValue();\n\n        Util.setSelection(owner.element, endPos, pps.document, false);\n        owner.callOnValueChanged();\n    },\n\n    callOnValueChanged: function () {\n        var owner = this,\n            pps = owner.properties;\n\n        pps.onValueChanged.call(owner, {\n            target: {\n                name: owner.element.name,\n                value: pps.result,\n                rawValue: owner.getRawValue()\n            }\n        });\n    },\n\n    setPhoneRegionCode: function (phoneRegionCode) {\n        var owner = this, pps = owner.properties;\n\n        pps.phoneRegionCode = phoneRegionCode;\n        owner.initPhoneFormatter();\n        owner.onChange();\n    },\n\n    setRawValue: function (value) {\n        var owner = this, pps = owner.properties;\n\n        value = value !== undefined && value !== null ? value.toString() : '';\n\n        if (pps.numeral) {\n            value = value.replace('.', pps.numeralDecimalMark);\n        }\n\n        pps.postDelimiterBackspace = false;\n\n        owner.element.value = value;\n        owner.onInput(value);\n    },\n\n    getRawValue: function () {\n        var owner = this,\n            pps = owner.properties,\n            Util = Cleave.Util,\n            rawValue = owner.element.value;\n\n        if (pps.rawValueTrimPrefix) {\n            rawValue = Util.getPrefixStrippedValue(rawValue, pps.prefix, pps.prefixLength, pps.result, pps.delimiter, pps.delimiters, pps.noImmediatePrefix, pps.tailPrefix, pps.signBeforePrefix);\n        }\n\n        if (pps.numeral) {\n            rawValue = pps.numeralFormatter.getRawValue(rawValue);\n        } else {\n            rawValue = Util.stripDelimiters(rawValue, pps.delimiter, pps.delimiters);\n        }\n\n        return rawValue;\n    },\n\n    getISOFormatDate: function () {\n        var owner = this,\n            pps = owner.properties;\n\n        return pps.date ? pps.dateFormatter.getISOFormatDate() : '';\n    },\n\n    getISOFormatTime: function () {\n        var owner = this,\n            pps = owner.properties;\n\n        return pps.time ? pps.timeFormatter.getISOFormatTime() : '';\n    },\n\n    getFormattedValue: function () {\n        return this.element.value;\n    },\n\n    destroy: function () {\n        var owner = this;\n\n        owner.element.removeEventListener('input', owner.onChangeListener);\n        owner.element.removeEventListener('keydown', owner.onKeyDownListener);\n        owner.element.removeEventListener('focus', owner.onFocusListener);\n        owner.element.removeEventListener('cut', owner.onCutListener);\n        owner.element.removeEventListener('copy', owner.onCopyListener);\n    },\n\n    toString: function () {\n        return '[Cleave Object]';\n    }\n};\n\nCleave.NumeralFormatter = NumeralFormatter_1;\nCleave.DateFormatter = DateFormatter_1;\nCleave.TimeFormatter = TimeFormatter_1;\nCleave.PhoneFormatter = PhoneFormatter_1;\nCleave.CreditCardDetector = CreditCardDetector_1;\nCleave.Util = Util_1;\nCleave.DefaultProperties = DefaultProperties_1;\n\n// for angular directive\n((typeof commonjsGlobal === 'object' && commonjsGlobal) ? commonjsGlobal : window)['Cleave'] = Cleave;\n\n// CommonJS\nvar Cleave_1 = Cleave;\n\nexport default Cleave_1;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n"],"sourceRoot":""}